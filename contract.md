


<!doctype html>
<html id="html" lang="en">
<head><title>
	Address: 0x387964a3...e8bc3A2cd | LineaScan
</title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><meta name="format-detection" content="telephone=no" />
   <meta name="Description" content="Contract: Verified | Balance: $0 across 35 Chains | Transactions: 0 | As at Jul-30-2025 12:05:25 PM (UTC)" /> <meta name="author" content="LineaScan" /> <meta name="keywords" content="LineaScan, Mainnet explorer, search, blockchain, crypto, currency" /> <meta property="og:title" content="Address: 0x387964a3...e8bc3A2cd | LineaScan" /> <meta property="og:description" content="Contract: Verified | Balance: $0 across 35 Chains | Transactions: 0 | As at Jul-30-2025 12:05:25 PM (UTC)" /> <meta property="og:type" content="website" /> <meta property="og:site_name" content="Linea Mainnet Chain Explorer" /> <meta property="og:url" content="https://lineascan.build/address/0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd" /> <meta property="og:image" content="https://lineascan.build/assets/linea/images/og-preview-sm.jpg?v=25.7.4.1" /> <meta property="og:image:alt" content="Visit lineascan.build/" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Address: 0x387964a3...e8bc3A2cd | LineaScan" /> <meta property="twitter:description" content="Contract: Verified | Balance: $0 across 35 Chains | Transactions: 0 | As at Jul-30-2025 12:05:25 PM (UTC)" /> <meta name="twitter:site" content="@lineascan" /> <meta property="twitter:image" content="https://lineascan.build/assets/linea/images/og-preview-sm.jpg?v=25.7.4.1" /> <meta name="twitter:image:alt" content="Visit lineascan.build/" /> 
<link rel="shortcut icon" href="/assets/generic/html/favicon.ico" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7HXXHXN492"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config','G-7HXXHXN492', { 'anonymize_ip': true });
    </script>
    

    <script>
        //Search box text ad
        var availableAd = [];
        var gotAd = [];

        
        availableAd = [];
        gotAd = ["ShowAds					"];
        
    </script>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" /><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="/assets/vendor/font-awesome/css/all.min.css?v=25.7.4.1">
    <link rel="stylesheet" href="/assets/vendor/autocomplete/dist/css/autocomplete.min.css?v=25.7.4.1" />

    <link rel="stylesheet" href="/assets/css/theme.min.css?v=25.7.4.1">
    <link rel="stylesheet" href="/assets/linea/css/linea.min.css?v=25.7.4.1">
    <link rel="stylesheet" href="/assets/css/custom.css?v=25.7.4.1">

    <script src="/assets/vendor/jquery/dist/jquery.min.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/jss/blockies.js?v=25.7.4.1"></script>

    <script type="text/javascript" src="/assets/js/theme-appearance.js?v=25.7.4.1"></script>

    <style>
        .autolink-safari a {
            pointer-events: none !important;
            text-decoration: none !important;
            color: inherit !important;
        }

        #masterNoticeBar div.alert a{
            color:#fff !important; 
            text-decoration: underline !important;
        }

        .word-break{word-break: break-all !important;}
        .min-with50{min-width: 50px !important;}
    </style>

    <style> .dvtjgkudurk { -ms-flex-pack: center; justify-content: center; } .afrtgkgfmbp { border-top: 1px solid #e7eaf3 !important; } body.dark-mode .afrtgkgfmbp { border-color: #18365b !important; } @media (min-width: 992px) { .bjit9y7drcy { display: block !important; } } @media (min-width: 992px) { .crqztfrziqj { display: inline-block !important; } }  </style>
    <script type="text/javascript" src="/jss/qrcode.min.js"></script>
    <meta name="X-FRAME-OPTIONS" content="ALLOW-FROM" />
    

    <link rel="stylesheet" type="text/css" href="/assets/vendor/datatables/dataTables.bootstrap5.min.css?v=25.7.4.1" />

    <style>
        .myMarker {
            position: absolute;
            background: rgba(100,200,100,0.5);
            z-index: 20
        }

        body.dark-mode .myMarker {
            background: blue;
        }

        pre {
            resize: vertical;
            /*overflow: auto;*/
        }

        #icon {
            background-size: cover;
            background-repeat: no-repeat;
            display: inline-block;
        }

        .liA {
            font-size: 11px;
            color: #B3B6B7;
        }

        .liH {
            display: none;
        }

        #overlayMain {
            color: #666666;
            position: fixed;
            height: 100%;
            width: 100%;
            z-index: 5000;
            top: 0;
            left: 0;
            float: left;
            text-align: center;
            padding-top: 20%;
            display: none;
        }

        #qrcode img {
            display: inline-block !important;
        }

        .panel-fullscreen {
            display: block;
            z-index: 9999;
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            overflow: auto;
        }

        .tooltip-inner {
            max-width: 350px;
        }

        @keyframes fa-blink {
            0% {
                opacity: 1;
            }

            25% {
                opacity: 0.25;
            }

            40% {
                opacity: 0.5;
            }

            60% {
                opacity: 0.75;
            }
            /*100% { opacity: 0; }*/
        }

        .fa-blink {
            -webkit-animation: fa-blink .99s linear infinite;
            -moz-animation: fa-blink .99s linear infinite;
            -ms-animation: fa-blink .99s linear infinite;
            -o-animation: fa-blink .99s linear infinite;
            animation: fa-blink .99s linear infinite;
        }

        .popover-header {
            background-color: white;
        }

        .popoverHeader {
            margin-bottom: 0px !important;
        }

        .popoverList {
            padding-left: 20px !important;
        }

        .popoverEnsOwnedAddressLoading {
        }

        .popOverEnsOwnedAddressTable {
            /*display: none;*/
        }

        .popoverLoadingImg {
            width: 10% !important;
        }

        .exclamPoint {
            position: relative !important;
        }

            .exclamPoint i {
                position: absolute;
                top: 0.35em;
                left: -1.5em;
            }

            .exclamPoint::marker {
                content: '';
                /*   font-family: "Font Awesome 5 Duotone";
            content: "\10f071";*/
            }

        .grid-container {
            display: grid;
            grid-template-columns: 30% 30% 30%;
            grid-gap: 0.5em;
        }

        #analytics_pageiframe {
            min-height: 680px;
        }

        body.dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
        }

        .ace_editor {
            font-family: SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace !important;
        }

        section[id$="_divSummary"] > div:first-child > div span.hash-tag {
            max-width: 15rem !important;
        }
        .multichain-dropdown .dropdown .dropdown-menu .dropdown-item span.hash-tag {
            max-width: 12rem !important;
        }
         [data-bs-theme=light] .nav-pills-alt .nav-link
        {
          --bs-nav-pills-link-active-bg: var(--bs-gray-200);
          --bs-nav-pills-link-active-color: var(--bs-body-color);
        }
        [data-bs-theme=dim] .nav-pills-alt .nav-link,
        [data-bs-theme=dark] .nav-pills-alt .nav-link
        {
          --bs-nav-pills-link-active-bg: var(--bs-gray-700);
          --bs-nav-pills-link-active-color: var(--bs-body-color);
        }
    </style>
    <style>
        .dataTables_wrapper .dataTables_length,
        .dataTables_wrapper .dataTables_paginate {
            float: none;
        }

        .datatable-form-control {
            padding-left: 1.75rem;
            width: 14rem !important;
            margin-left: 0 !important;
        }

        #asset-multichain .dataTables_filter input[type="search"],
        #asset-multichain .dataTables_filter input[type="search"]::-webkit-search-decoration,
        #asset-multichain .dataTables_filter input[type="search"]::-webkit-search-cancel-button {
            -webkit-appearance: button !important;
        }

        table.dataTable thead th {
            background: transparent !important;
            white-space: nowrap;
        }

        table.dataTable thead > tr > th.sorting:before,
        table.dataTable thead > tr > th.sorting:after,
        table.dataTable thead > tr > th.sorting_asc:before,
        table.dataTable thead > tr > th.sorting_asc:after,
        table.dataTable thead > tr > th.sorting_desc:before,
        table.dataTable thead > tr > th.sorting_desc:after {
            display: none;
        }

        table.dataTable thead .sorting span {
            background: none;
        }

        table.dataTable thead .sorting_asc span { 
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="%236c757d" d="M551.1 47.67H312c-13.25 0-24 10.76-24 24.02c0 13.26 10.75 24.02 24 24.02h239.1c13.25 0 24-10.76 24-24.02C575.1 58.43 565.2 47.67 551.1 47.67zM360 431.1h-48c-13.25 0-24 10.76-24 24.02S298.8 480 312 480h48c13.25 0 23.1-10.76 23.1-24.02S373.2 431.1 360 431.1zM423.1 303.9H312c-13.25 0-24 10.76-24 24.02s10.75 24.02 24 24.02h111.1c13.25 0 24-10.76 24-24.02S437.2 303.9 423.1 303.9zM487.1 175.8H312c-13.25 0-24 10.76-24 24.02s10.75 24.02 24 24.02h175.1c13.25 0 24-10.76 24-24.02S501.2 175.8 487.1 175.8zM145.6 39.37c-9.062-9.82-26.19-9.82-35.25 0L14.38 143.4c-9 9.758-8.406 24.96 1.344 33.94C20.35 181.7 26.19 183.8 32 183.8c6.469 0 12.91-2.594 17.62-7.719L104 117.1v338.9C104 469.2 114.8 480 128 480S152 469.2 152 455.1V117.1l54.37 58.95C215.3 185.8 230.5 186.5 240.3 177.4C250 168.4 250.6 153.2 241.6 143.4L145.6 39.37z"/></svg>') no-repeat center right; 
        }

        table.dataTable thead .sorting_desc span { 
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="%236c757d" d="M360 432h-48c-13.25 0-24 10.75-24 24S298.8 480 312 480h48c13.25 0 23.1-10.75 23.1-24S373.2 432 360 432zM423.1 304H312C298.8 304 288 314.8 288 328S298.8 352 312 352h111.1c13.25 0 24-10.75 24-24S437.2 304 423.1 304zM487.1 176H312C298.8 176 288 186.8 288 200S298.8 224 312 224h175.1c13.25 0 24-10.75 24-24S501.2 176 487.1 176zM551.1 48H312C298.8 48 288 58.75 288 72S298.8 96 312 96h239.1c13.25 0 24-10.75 24-24S565.2 48 551.1 48zM206.4 335.1L152 394.9V56.02C152 42.76 141.3 32 128 32S104 42.76 104 56.02v338.9l-54.37-58.95c-4.719-5.125-11.16-7.719-17.62-7.719c-5.812 0-11.66 2.094-16.28 6.375c-9.75 8.977-10.34 24.18-1.344 33.94l95.1 104.1c9.062 9.82 26.19 9.82 35.25 0l95.1-104.1c9-9.758 8.406-24.96-1.344-33.94C230.5 325.5 215.3 326.2 206.4 335.1z"/></svg>') no-repeat center right; 
        }

        table.dataTable thead .sorting_asc span,
        table.dataTable thead .sorting_desc span {
            margin-bottom: -0.125rem !important;
            margin-right: 0.5rem !important;
            display: inline-block;
            padding-left: 5px;
            width: 14px;
            height: 14px;
        }

        .hover\:border-secondary:hover {
            border-color: rgba(var(--bs-secondary-rgb), var(--bs-border-opacity)) !important;
        }

        .hover\:border-opacity-50:hover {
            --bs-border-opacity: 0.5;
        }

         #div_tabs {
          scroll-margin-top: 40px; /* adjust auto-scroll height for nav tabs */
        }
    </style>
<meta name="description" content="Contract: Verified | Balance: $0 across 35 Chains | Transactions: 0 | As at Jul-30-2025 12:05:25 PM (UTC)" /></head>

<body id="body" class="d-flex flex-column min-vh-100">

    <section id="masterNoticeBar">
        <!--Maintenance Message-->
        
        <!--End Maintenance Message-->
    </section>

    <!-- ========== TOPBAR ========== -->
    <section id="masterTopBar" class="sticky-top bg-white border-bottom py-2 d-print-none">
        
        <div class="container-xxl d-flex align-items-center justify-content-between">
            
            <div id="ethPrice" class="d-none d-md-flex align-items-center gap-4 w-100 fs-sm">                
                <div class="text-muted"><span class="text-muted">ETH Price:</span> <a href='/chart/lineaprice'>$3,760.11</a><span data-bs-toggle="tooltip" data-bs-placement="top" title="Changes in the last 24 hours"><span class='text-danger'> (-2.40%)</span></span></div><div class='text-muted d-none d-lg-block'><i class="fad fa-gas-pump me-1"></i> Gas: <span id='spanGasTooltip' data-bs-toggle='tooltip' data-bs-html='true'><a href='/gastracker'><span class='gasPricePlaceHolder'>0.07</span> GWei</a></span></div>
                </div>

            <div class="d-flex justify-content-end align-items-center gap-2 w-100">
                <div id="frmMaster" class="search-panel-container flex-grow-1 position-relative" style="width: 30rem;">
	
                    <form action="/search" method="GET" autocomplete="off" spellcheck="false" class="auto-search-max-height">
                        <span class="d-flex align-items-center position-absolute top-0 bottom-0" title="Search" style="left: 0.75rem;">
                            <i class="fa-regular fa-search fs-5 text-secondary"></i>
                        </span>

                        <input type="text" class="form-control form-control-lg bg-light bg-focus-white pe-20" autocomplete="off" spellcheck="false" id="search-panel" name="q" placeholder="Search by Address / Txn Hash / Block / Token / Domain Name" aria-describedby="button-header-search" onkeyup="handleSearchText(this);" maxlength="68" style="padding-left: 2.375rem;" />

                        <a href="javascript:;" class="clear-icon d-none align-items-center position-absolute top-0 bottom-0 my-auto d-flex align-items-center" style="right: 3.375rem; cursor:pointer;">
                            <i class="fa-regular fa-xmark fs-5 text-secondary"></i>
                        </a>
                        <a href="javascript:;" class="search-icon d-none btn btn-sm btn-white my-1.5 align-items-center position-absolute top-0 bottom-0 d-flex align-items-center" style="right: 0.75rem; cursor:pointer;">
                            <i class="fa-regular fa-arrow-turn-down-left text-secondary"></i>
                        </a>

                        <input type="hidden" value="" id="hdnSearchText" />
                        <input type="hidden" value="" id="hdnSearchLabel" />
                        <input id="hdnIsTestNet" value="False" type="hidden" />

                        <span class="shortcut-slash-icon align-items-center position-absolute top-0 bottom-0 align-items-center d-none d-sm-flex" title="Search" style="right: 0.5rem;">
                            <kbd class="bg-dark bg-opacity-25 fw-semibold px-2 py-0.5 text-white">/</kbd>
                        </span>
                    </form>
                
</div>

                <div id="divThemeSetting" class="dropdown d-none d-lg-block">
                    <button class="btn btn-lg btn-white text-primary content-center" type="button" id="dropdownMenuTopbarSettings" data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false" style="width: 2.375rem; height: 2.375rem;">
                        <span class="theme-btn-main"><i class="far fa-sun-bright theme-icon-active" data-href="#fa-sun-bright"></i></span>
                    </button>

                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuTopbarSettings">
                        <li>
                            <button type="button" class="dropdown-item theme-btn active" data-bs-theme-value="light" onclick="setThemeMode('light');">
                                <i class="far fa-sun-bright fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-sun-bright"></i> Light
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dim" onclick="setThemeMode('dim');">
                                <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon-stars"></i> Dim
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dark" onclick="setThemeMode('dark');">
                                <i class="far fa-moon fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon"></i> Dark
                            </button>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="dropdown-item" href="/settings">
                                <i class="far fa-gear fa-fw dropdown-item-icon me-1"></i> Site Settings <i class="far fa-arrow-right ms-1"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div id="divTestNet" class="dropdown d-none d-lg-block">
                    <button class="btn btn-lg btn-white content-center p-0" type="button" id="dropdownTopbarNetworks" data-bs-toggle="dropdown" aria-expanded="false" style="width: 2.375rem; height: 2.375rem;">
                        <img width="18" data-img-theme="light" src="/assets/linea/images/svg/logos/chain-light.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                        <img width="18" data-img-theme="dim" src="/assets/linea/images/svg/logos/chain-dim.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                        <img width="18" data-img-theme="dark" src="/assets/linea/images/svg/logos/chain-dark.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownTopbarNetworks">
                        
                        <li><a class="dropdown-item active" href="https://lineascan.build">Linea Mainnet</a></li>
                        <li><hr class="dropdown-divider"></li><li><a class="dropdown-item" href="https://sepolia.lineascan.build">Linea Sepolia Testnet</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- ========== TOPBAR ========== -->

    <!-- ========== HEADER ========== -->
    <header id="masterHeader" class="header border-bottom d-print-none">
        <nav class="navbar navbar-expand-lg navbar-light py-3 py-lg-0">
            <div class="container-xxl position-relative">
                <a class="navbar-brand" href="/" target="_parent" aria-label="LineaScan">
                    
                    <img width="100" data-img-theme="light" src="/assets/linea/images/svg/logos/logo-light.svg?v=25.7.4.1" alt="LineaScan Logo">
                    <img width="100" data-img-theme="dim" src="/assets/linea/images/svg/logos/logo-dim.svg?v=25.7.4.1" alt="LineaScan Logo">
                    <img width="100" data-img-theme="dark" src="/assets/linea/images/svg/logos/logo-dark.svg?v=25.7.4.1" alt="LineaScan Logo">
                </a>

                <div class="d-flex align-items-center gap-4">
                    
                    <a class="link-dark d-block d-lg-none" href="/login">
                        <i class="far fa-user-circle me-1"></i> Sign In
                    </a>
                    
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                    <ul class="navbar-nav gap-1 gap-lg-0 pt-4 pt-lg-0">
                        <li class="nav-item">
                            <a href="/" id="LI_default" class="nav-link" aria-current="page">
                                Home
                            </a>
                        </li>

                        
                        <!-- Blockchain -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_blockchain" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blockchain</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                <li>
                                    <a href="/txs" id="LI12" class="dropdown-item">
                                        Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/txsDeposits" id="LI84" class="dropdown-item">
                                        Latest L1→L2 Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/txsExit" id="LI86" class="dropdown-item">
                                        Latest L2→L1 Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/txsPending" id="LI16" class="dropdown-item">
                                        Pending Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/txsInternal" id="LI14" class="dropdown-item">
                                        Contract Internal Transactions
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/txsAA" id="LITxsAA" class="dropdown-item">
                                        AA Transactions <span class="badge border bg-light text-muted">Beta</span>
                                    </a>
                                </li>
                                
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="/blocks" id="LI_blocks" class="dropdown-item">
                                        View Blocks
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/batches" id="LI87" class="dropdown-item">
                                        View Batches
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/blocks_forked" id="LI_blocks2" class="dropdown-item">
                                        Forked Blocks (Reorgs)
                                    </a>
                                </li>
                                
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="/accounts" id="LI_accountall" class="dropdown-item">
                                        Top Accounts
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/contractsVerified" id="LI_contract_verified" class="dropdown-item">
                                        Verified Contracts
                                    </a>
                                </li>
                                
                            </ul>
                        </li>
                        <!-- End Blockchain -->
                        
                        <!-- Tokens -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_tokens" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Tokens</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                <li>
                                    <a href="/tokens" id="LI21" class="dropdown-item">
                                        Top Tokens <span class="small text-muted">(ERC-20)</span>
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/tokentxns" id="LI1" class="dropdown-item">
                                        Token Transfers <span class="small text-muted">(ERC-20)</span>
                                    </a>
                                </li>
                                
                            </ul>
                        </li>
                        <!-- End Tokens -->
                        
                        <!-- NFTs -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_Nfts" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">NFTs</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                
                                
                                
                                
                                
                                 <li>
                                    <a href="/nft-transfers" id="LI65" class="dropdown-item">
                                        Latest Transfers
                                    </a>
                                </li>
                                
                                 <li>
                                    <a href="/nft-latest-mints" id="LI66" class="dropdown-item">
                                        Latest Mints
                                    </a>
                                </li>
                                
                            </ul>
                        </li>
                        <!-- End NFTs -->
                        
                        <!-- Resrouces -->
                        <li class="nav-item dropdown">
                            <a href="javascript:;" id="LI_resources" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Resources</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                <li>
                                    <a href="/charts" id="LI_charts2" class="dropdown-item">
                                        Charts &amp;  Stats
                                    </a>
                                </li>
                                
                                
                            </ul>
                        </li>
                        <!-- End Resrouces -->
                        
                        <!-- Developers -->
                        <li class="nav-item dropdown">
                            <a href="../#" id="li_developers" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Developers</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <a href="https://etherscan.io/apis?id=59144" id="LI5" class="dropdown-item" target="_blank">
                                        API Plans <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i>
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="https://docs.etherscan.io/etherscan-v2" id="LI6" class="dropdown-item" target="_blank">
                                        API Documentation
                                    </a>
                                </li>
                                
                                 <li>
                                    <hr class="dropdown-divider">
                                </li>
                                
                                <li>
                                    <a href="/code-reader" id="A1" class="dropdown-item">
                                        Code Reader <span class="badge border bg-light text-muted">Beta</span>
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/verifyContract" id="LI17" class="dropdown-item">
                                        Verify Contract
                                    </a>
                                </li>
                                
                                 <li>
                                    <a href="/find-similar-contracts" id="LI55" class="dropdown-item">
                                        Similar Contract Search
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/contractdiffchecker" id="LI54" class="dropdown-item">
                                        Contract Diff Checker
                                    </a>
                                </li>
                                
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a href="/vyper" id="LI27" class="dropdown-item">
                                        Vyper Online Compiler
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/opcode-tool" id="LI24" class="dropdown-item">
                                        Bytecode to Opcode
                                    </a>
                                </li>
                                
                                <li>
                                    <a href="/pushTx" id="LI10" class="dropdown-item">
                                        Broadcast Transaction
                                    </a>
                                </li>
                                
                            </ul>
                        </li>
                        <!-- End Developers -->
                        
                        <!-- More -->
                        <li class="nav-item dropdown position-initial">
                            <a href="javascript:;" id="LI_services2" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">More</a>
                            <div class="dropdown-menu dropdown-menu-border dropdown-menu-mega">
                                <div class="row">
                                    <div class="col-lg order-last order-lg-first">
                                        <div class="d-flex flex-column bg-light h-100 rounded-3 p-5">
                                            <div>
                                                <h6>Tools &amp; Services</h6>
                                                <p>Discover more of LineaScan's tools and services in one place.</p>
                                            </div>
                                            
                                        </div>
                                    </div>

                                    
                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Tools</h6>
                                        <ul class="list-unstyled">
                                             <li>
                                                 <a href="/inputdatadecoder" id="A3" class="dropdown-item">
                                                     <i class="far fa-file-binary dropdown-item-icon fa-fw me-1"></i>Input Data Decoder <span class="badge border bg-light text-muted">Beta</span>
                                                 </a>
                                             </li>
                                            
                                            <li>
                                                <a href="/unitconverter" id="LI50" class="dropdown-item">
                                                    <i class="far fa-arrows-rotate dropdown-item-icon fa-fw me-1"></i>Unit Converter
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/exportData" id="LI51" class="dropdown-item">
                                                    <i class="far fa-download fa-fw me-1"></i>CSV Export
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/balancecheck-tool" id="LI52" class="dropdown-item">
                                                    <i class="far fa-file-invoice-dollar fa-fw me-1"></i>Account Balance Checker
                                                </a>
                                            </li>
                                            
                                        </ul>
                                    </div>
                                    
                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Explore</h6>
                                        <ul class="list-unstyled">
                                            
                                            <li>
                                                <a href="/gastracker" id="LI19" class="dropdown-item">
                                                    <i class="far fa-gas-pump dropdown-item-icon fa-fw me-1"></i>Gas Tracker
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/labelcloud" id="LI41" class="dropdown-item">
                                                    <i class="far fa-signs-post dropdown-item-icon fa-fw me-1"></i>Label Cloud
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/name-lookup" id="LI26" class="dropdown-item">
                                                    <i class="far fa-magnifying-glass-chart dropdown-item-icon fa-fw me-1"></i>Domain Name Lookup
                                                </a>
                                            </li>
                                                                                        
                                        </ul>
                                    </div>
                                    
                                    <div class="col-sm py-5">
                                        <h6 class="px-3 mb-3">Services</h6>
                                        <ul class="list-unstyled">
                                            
                                            <li>
                                                <a href="/tokenapprovalchecker" id="LI49" class="dropdown-item">
                                                    <i class="far fa-shield-keyhole dropdown-item-icon fa-fw me-1"></i>Token Approvals <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/verifiedSignatures" id="LI29" class="dropdown-item">
                                                    <i class="far fa-signature-lock dropdown-item-icon fa-fw me-1"></i>Verified Signature
                                                </a>
                                            </li>
                                            
                                            <li>
                                                <a href="/advanced-filter" id="LI31" class="dropdown-item">
                                                    <i class="far fa-filters dropdown-item-icon fa-fw me-1"></i>Advanced Filter <span class="badge border bg-light text-muted">Beta</span>
                                                </a>
                                            </li>
                                            
                                        </ul>
                                    </div>
                                    
                                </div>
                            </div>
                        </li>
                        <!-- End More -->
                        

                        <li class="nav-item dropdown d-block d-lg-none">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Explorers</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                
                                <li><a class="dropdown-item active" href="https://lineascan.build">Linea Mainnet</a></li>
                                <li><hr class="dropdown-divider"></li><li><a class="dropdown-item" href="https://sepolia.lineascan.build">Linea Sepolia Testnet</a></li>
                            </ul>
                        </li>

                        <!-- Appearance & Settings -->
                        <li class="nav-item dropdown d-block d-lg-none">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Appearance &amp; Settings</a>
                            <ul class="dropdown-menu dropdown-menu-border" style="min-width: 14rem;">
                                <li>
                                    <button type="button" class="dropdown-item theme-btn active" data-bs-theme-value="light" onclick="setThemeMode('light');">
                                        <i class="far fa-sun-bright fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-sun-bright"></i> Light
                                    </button>
                                </li>
                                <li>
                                    <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dim" onclick="setThemeMode('dim');">
                                        <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon-stars"></i> Dim
                                    </button>
                                </li>
                                <li>
                                    <button type="button" class="dropdown-item theme-btn" data-bs-theme-value="dark" onclick="setThemeMode('dark');">
                                        <i class="far fa-moon-stars fa-fw dropdown-item-icon theme-icon me-1" data-href="#fa-moon"></i> Dark
                                    </button>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a class="dropdown-item" href="/settings">
                                        <i class="far fa-gear fa-fw dropdown-item-icon me-1"></i> Site Settings <i class="far fa-arrow-right ms-1"></i>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- End Appearance & Settings -->
                        
                        
                        <li class="nav-item align-self-center d-none d-lg-block">
                            <span class="text-secondary">|</span>
                        </li>
                        
                        <li class="nav-item d-none d-lg-block">
                            <a class="nav-link" href="/login">
                                <i class="far fa-user-circle me-1"></i> Sign In
                            </a>
                        </li>
                        
                    </ul>
                </div>

            </div>
        </nav>
    </header>
    <!-- ==========  END HEADER ========== -->

    <!-- ========== MAIN CONTENT ========== -->
    <main id="content" class="main-content" role="main">
        <input type="hidden" name="hdnAgeText" id="hdnAgeText" value="Age" />
        <input type="hidden" name="hdnDateTimeText" id="hdnDateTimeText" value="Date Time (UTC)" />
        <input type="hidden" name="hdnAgeTitle" id="hdnAgeTitle" value="Click to show Age Format" />
        <input type="hidden" name="hdnDateTimeTitle" id="hdnDateTimeTitle" value="Click to show Datetime Format" />
        <input type="hidden" name="hdnTxnText" id="hdnTxnText" value="Txn Fee" />
        <input type="hidden" name="hdnGasPriceText" id="hdnGasPriceText" value="Gas Price" />
        
            <input type="hidden" name="hdnTxnFeeTitle" id="hdnTxnFeeTitle" value="(Gas Price * Gas Used by Txns) in ETH" />
        
        <input type="hidden" name="hdnGasPriceTitle" id="hdnGasPriceTitle" value="Gas Price in Gwei" />
        <input type="hidden" name="hdnSiteName" id="hdnSiteName" value="lineascan" />
        <input type="hidden" name="hdnSiteEmptyToken" id="hdnSiteEmptyToken" value="/assets/linea/images/svg/empty-token.svg?v=25.7.4.1" />
        <input type="hidden" name="hdnSiteShortUrl" id="hdnSiteShortUrl" value="lineascan.build/" />

            
    <input name="ctl00$ContentPlaceHolder1$hdnAddress" type="hidden" id="hdnAddress" value="0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd" />  
    <input name="ctl00$ContentPlaceHolder1$hdnEnsText" type="hidden" id="hdnEnsText" />

    <input name="ctl00$ContentPlaceHolder1$hdnIsEnsContainUnicodeChars" type="hidden" id="hdnIsEnsContainUnicodeChars" />
    <input name="ctl00$ContentPlaceHolder1$hdnIsEnsContainZeroWidthChars" type="hidden" id="hdnIsEnsContainZeroWidthChars" />
    <input name="ctl00$ContentPlaceHolder1$hdnIsUDContainUnicodeChars" type="hidden" id="hdnIsUDContainUnicodeChars" />
    <input name="ctl00$ContentPlaceHolder1$hdnIsUDContainZeroWidthChars" type="hidden" id="hdnIsUDContainZeroWidthChars" />
    
    <!-- Page Header -->
    <section class="container-xxl">
        <div class="d-flex flex-wrap justify-content-between align-items-center border-bottom gap-3 py-5">
            <div class="d-flex flex-column gap-2">
                <!-- Profile Header -->
                <div class="d-flex flex-wrap text-break align-items-center gap-2">
                    <div class="d-flex flex-wrap align-items-center gap-2">
                        <div class="d-flex align-items-center gap-2 mt-n0.5">
                            <img id="icon" width="24" class="rounded-circle" src="/assets/linea/images/svg/empty-token.svg?v=25.7.4.1" alt="" />
                            <h1 class="h5 mb-0">
                                Contract
                            </h1>
                        </div>
                    </div>

                    <div>
                        <span class="me-3 fs-base" style="line-height: 2;">
                            <span id='mainaddress'>0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd</span>
                        </span>
                        <div id="ContentPlaceHolder1_copyButtonPanel" class="d-inline-flex align-items-center gap-4">
                            <!-- Copy to Clipboard -->
                            <a class='js-clipboard link-secondary disabled ' href='javascript:;' data-clipboard-text='0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_main_address", "defaultClass": "fa-copy", "successClass": "fa-check" }' id='copyaddressbutton'><i id='linkIcon_main_address' class='far fa-copy fa-fw'></i> </a>
                            <!-- End Copy to Clipboard -->

                            <!-- QR Code -->
                            <span id="ContentPlaceHolder1_qrcodeimg">
                                <a id="target" class="link-secondary" href="javascript:;" data-bs-toggle="tooltip" data-bs-trigger='hover' title="Click to view QR Code">
                                    <i class="far fa-qrcode"></i>
                                </a>
                            </span>
                            <!-- End QR Code -->

                            <!-- Send Message -->
                            
                            <!-- End Send Message -->
                        </div>
                    </div>
                </div>
                <!-- End Profile Header -->
            </div>

            <!-- Button Ads -->
            <div class="d-flex gap-2 noindex-section" data-nosnippet>
                
            </div>
            <!-- End Button Ads -->
        </div>
    </section>
    <!-- End Page Header -->

    <div id="overlayMain" class="bg-white bg-opacity-40"></div>

    <!-- Ads -->
    
    <section class="container-xxl">
        <div class="py-4 noindex-section" data-nosnippet>
            
        </div>
    </section>
    
    <!-- End Ads -->

    <!-- Public Comment -->
    
    <!-- End Public Comment -->

    <!-- Content -->
    <section id="ContentPlaceHolder1_divSummary" class="container-xxl  pb-12">
        <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-2" style='margin-top:-17px' >
            <div class="d-flex flex-wrap align-items-center gap-1">
                

                <!-- ENS -->
                
                <!-- END ENS -->

                <!-- ENS -->
                
                <!-- END ENS -->

                <!-- Contract Badge -->
                
                <!-- End Contract Badge -->

                <div id="ContentPlaceHolder1_divLabels" class="d-flex gap-1">
                    
                </div>

                
            </div>

            <div id="ContentPlaceHolder1_moreoptionsdiv" class="d-flex align-items-center gap-1">

                

                

                <a class='btn btn-sm btn-white' href='/myaddress?cmd=addnew&a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd#add' data-bs-toggle='tooltip' data-bs-trigger='hover' data-bs-placement='top' title='Add Address to Watch List'><i class='far fa-star fa-fw'></i></a>
                

                <a class="btn btn-sm btn-white content-center" target="_blank'" href="https://docs.etherscan.io/etherscan-v2/api-endpoints/accounts" data-bs-toggle="tooltip" data-bs-trigger="hover"> <i class="fad fa-code me-1"></i>API</a>

                <div class="dropdown">
                    <button class="btn btn-sm btn-white dropdown-toggle d-block" type="button" id="dropdownMore1" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static"><i class="far fa-list-check fa-fw"></i></button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMore1">
                        <li><a class='dropdown-item' href='/tokenapprovalchecker?search=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'><i class='far fa-memo-circle-check fa-fw dropdown-item-icon me-1'></i> Token Approvals <span class='badge border bg-light text-muted'>Beta</span></a></li>
                        
                        <a class="dropdown-item" href="/balancecheck-tool?a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd">
                            <i class='far fa-history fa-fw dropdown-item-icon me-1'></i> Check Previous Balance
                        </a>
                        <li><hr class='dropdown-divider'></li><li><a class='dropdown-item' href='/contactus?id=5&a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'><i class='far fa-user-tag fa-fw dropdown-item-icon me-1'></i> Update Name Tag or Label</a></li><li><a class='dropdown-item' href='/contactus?id=6'><i class='far fa-flag fa-fw dropdown-item-icon me-1'></i> Report/Flag Address</a></li>
                        
                    </ul>
                </div>
            </div>
        </div>

        <!-- Content Cards -->
        <div class="row g-3 mb-4">
            <!-- Overall -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100">
                    <div class="card-body d-flex flex-column gap-5">
                        <div class="d-flex flex-wrap justify-content-between align-items-center gap-3">
                            <h3 class="h6 mb-0">
                                Overview
                            </h3>
                        </div>

                        <div>
                            <h4 class="text-cap mb-1">
                                ETH Balance
                            </h4>
                            <div>
                                <div class='d-flex'><img class='me-1' width='10' data-img-theme='light' src='/assets/linea/images/svg/logos/token-light.svg?v=25.7.4.1' alt='Linea Mainnet Logo'><img class='me-1' width='10' data-img-theme='dim' src='/assets/linea/images/svg/logos/token-dim.svg?v=25.7.4.1' alt='Linea Mainnet Logo'><img class='me-1' width='10' data-img-theme='dark' src='/assets/linea/images/svg/logos/token-dark.svg?v=25.7.4.1' alt='Linea Mainnet Logo'>0 ETH</div>
                            </div>
                        </div>

                        
                        <div>
                            <h4 class="text-cap mb-1">
                                ETH Value
                            </h4>
                        
                            $0.00
                        </div>
                        
                    </div>
                </div>
            </div>
            <!-- End Overall -->

            <!-- Additional Info -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100">
                    <div class="card-body d-flex flex-column gap-5">
                        <h3 class="h6 mb-0">More Info</h3>
                        
                    
                    <div class="d-flex align-items-start gap-5">	
                            <div class="d-flex flex-column">
                                <h4 class="text-cap mb-1">
                                    Private Name Tags
                                </h4>
                                <div class="d-flex align-items-center gap-2">                      
                                    <span id="Public_Private_Tag">
                                        <a class='btn btn-sm btn-white rounded-pill border-dashed border-dark dark:border-white border-opacity-15 text-nowrap px-4 mb-n2' data-bs-toggle='tooltip' data-bs-trigger='hover' title='To use this feature, please login to your LineaScan account and return to this page' href='/login?msg=NeedLogin&ref=address&ret=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'><i class='far fa-plus'></i> Add</a>
                                    </span>
                                    <span id="Public_Private_Tag_edit_button">
                                        
                                    </span>
                                </div>
                            </div>
                            

                            <!-- Delegated Address Section -->
                            
                        </div> 
                        <div id="ContentPlaceHolder1_trContract">
                            <!-- Contract Creator -->
                            <h4 class="text-cap mb-1 mt-1">
                                <span class='d-md-none d-lg-inline-block me-1'>Contract</span>Creator
                            </h4>
                            <div class="d-flex align-items-center gap-1">
                                <a href='/address/0x1e8488567d670242844d1bb0937e9283cb564204' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Creator Address (0x1e8488567d670242844d1bb0937e9283cb564204)'><span data-highlight-target="0x1E8488567D670242844D1bB0937e9283CB564204">0x1E848856...3CB564204</span></a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x1E8488567D670242844D1bB0937e9283CB564204'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_1", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_1' class='far fa-copy fa-fw'></i> </a> <span class="text-secondary mx-1">|</span>
                           <a href="/tx/0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a">
                                <span>11 mins ago</span>
                            </a>
                            </div>
                            <!-- End Contract Creator -->
                        </div>

                        

                        

                        
                        
                        
                    </div>
                </div>
            </div>
            <!-- End Additional Info -->

            <!-- Other Info -->
            <div class="col-lg-4">
                <div class="card h-100">
                    <div class="card-body d-flex flex-column">
                        <h3 class="h6">Multichain Info</h3>

                        <div id="ContentPlaceHolder1_divMultichainButton" class="mb-3 d-flex flex-wrap gap-1">
                        
                            <a id="multichain-button" class="btn btn-sm btn-secondary" data-bs-trigger="hover" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to see more details." onclick="javascript:updatehash('multichain-portfolio');onloadMultichainPortfolio();" href="javascript:;">
                                <i class="far fa-coins me-1"></i><span class="fw-medium">$0</span> (Multichain Portfolio)
                            </a>
                        </div>

                        <div id="ContentPlaceHolder1_divMultichainAddress" class="mb-3 multichain-dropdown">
                            <!-- Alternate Explorer -->
                            No addresses found
                            <!-- End Alternate Explorer -->
                        </div>

                        
                        
                    </div>
                </div>
            </div>
            <!-- End Other Info -->
        </div>
        <!-- End Content Details -->

        <div class="d-flex align-items-start flex-wrap pb-3" id="div_tabs">
            <!-- Navs & Filters -->
            <ul class="nav nav-pills text-nowrap snap-x-mandatory overflow-x-auto flex-nowrap scrollbar-custom flex-grow-1 pt-4 gap-2 nav_tabs1" id="nav_tabs" role="tablist">
                <li id="ContentPlaceHolder1_li_transactions" class="nav-item snap-align-start">
                    <a class="nav-link active" href="javascript:;" id="tab-1" data-bs-toggle="pill" data-bs-target="#transactions" type="button" role="tab" aria-controls="transactions" aria-selected="true" onclick="javascript:updatehash('');">
                        Transactions
                    </a>
                </li>
                <li id="ContentPlaceHolder1_li_internaltxs" class="nav-item snap-align-start">
                    <a class="nav-link" href="javascript:;" id="tab-2" data-bs-toggle="pill" data-bs-target="#internaltx" type="button" role="tab" aria-controls="internaltx" aria-selected="false" onclick="javascript:updatehash('internaltx');">
                        Internal Transactions
                    </a>
                </li>
                
                <li id="ContentPlaceHolder1_li_tokentransfers" class="nav-item snap-align-start">
                    <a class="nav-link" href="javascript:;" id="tab-3" data-bs-toggle="pill" data-bs-target="#tokentxns" type="button" role="tab" aria-controls="tokentxns" aria-selected="false" onclick="javascript:updatehash('tokentxns');showLoader(window.token_transfer_loaded);">
                        Token Transfers (ERC-20)
                    </a>
                </li>
                
                
                
                         
                <li id="ContentPlaceHolder1_li_contracts" class="nav-item snap-align-start" onclick="javascript:updatehash(&#39;code&#39;);">
                    <a class="nav-link position-relative" href="javascript:;" id="tab-7" data-bs-toggle="pill" data-bs-target="#contracts" type="button" role="tab" aria-controls="contracts" aria-selected="false" onclick="javascript:updatehash('code');">
                        Contract <i class="fas fa-check-circle text-success position-absolute" style="top: -0.4rem; right: -0.4rem;"></i>
                    </a>
                </li>
                <li id="ContentPlaceHolder1_li_events" class="nav-item snap-align-start">
                    <a class="nav-link" href="javascript:;" id="tab-8" data-bs-toggle="pill" data-bs-target="#events" type="button" role="tab" aria-controls="events" aria-selected="false" onclick="javascript:updatehash('events');showLoader(window.events_tracker);">
                        Events
                    </a>
                </li>
                
                
                
                
                
                <li id="ContentPlaceHolder1_li_assets" class="nav-item snap-align-start">
                    <a class="nav-link" href="javascript:;" id="tab-assets" data-bs-toggle="pill" data-bs-target="#assets" type="button" role="tab" aria-controls="assets" aria-selected="false" onclick="javascript:updatehash('asset-multichain');">
                        Assets
                    </a>
                </li>
                

                           
            </ul>
            <!-- End Navs & Filters -->

            <div class="pt-2 pt-md-4">
                 
            </div>
        </div>

        <!-- Table Content -->
        <div class="tab-content" id="pills-tabContent">
            <input type="hidden" id="hdnErc20" value="" onchange="setGlobalValue(this)" />
            <div class="tab-pane fade show active" id="transactions" role="tabpanel" aria-labelledby="tab-1" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead id="ContentPlaceHolder1_theadTxnTable" class="text-nowrap">
                                <tr>
                                    <th scope="col" width="10" class="text-center">
                                        <i class="far fa-question-circle text-muted" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover" data-bs-content="See preview of the transaction details."></i>
                                    </th>
                                    <th scope="col">
                                        Transaction Hash
                                    </th>
                                    <th scope="col" data-highlight>
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="text-nowrap">
                                                Method <i class="far fa-question-circle text-muted" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover" data-bs-content="Function executed based on decoded input data. For unidentified functions, method ID is displayed instead."></i>
                                            </span>

                                            
                                        </div>
                                    </th>
                                    <th scope="col" class="d-none d-sm-table-cell">
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="text-nowrap">
                                                Block
                                            </span>

                                            
                                        </div>
                                    </th>
                                    <th scope="col">
                                        <div class="d-flex align-items-center gap-2">
                                            <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkTxAgeDateTime"></a>
                                            
                                            
                                        </div>
                                    </th>
                                    <th scope="col" width="100" data-highlight>
                                        <div class="d-flex align-items-center gap-2">
                                            <span>
                                                From
                                            </span>

                                            
                                        </div>
                                    </th>
                                    <th scope="col" width="20"></th>
                                    <th scope="col" data-highlight>
                                        <div class="d-flex align-items-center gap-2">
                                            <span>
                                                To
                                            </span>

                                            
                                        </div>
                                    </th>
                                    <th scope="col">
                                        <div class="d-flex align-items-center gap-2">
                                            <a href="javascript:void(0);" id="headerAmountValue" onclick="switchAmountToValue(this, 'Value (USD)', 'Amount', false)" data-bs-toggle="tooltip" data-bs-trigger="hover"></a><i id="tooltipAmountValue" style="display: none;" class="far fa-question-circle text-muted ms-1" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover" data-bs-content="Value displayed based on latest available exchange rate."></i>
                                        
                                            
                                        </div>
                                    </th>
                                    <th scope="col">
                                        <div class="me-2">
                                            <a href="javascript:;" onclick="switchTxFeeGasPrice()" class="switch-txn-fee-gas-price"></a>
                                        </div>
                                        
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                <tr class="border-bottom-0"><td colspan="10"><div class="text-center py-24"><div class="mb-4"><span class="bg-warning bg-opacity-10 border border-warning border-opacity-25 text-yellow-600 fs-70x content-center rounded-pill mx-auto" style="width: 4rem; height: 4rem;"><i class="fal fa-inboxes fs-4"></i></span></div><h3 class="h5">There are no matching entries</h3><p class="text-muted mb-0"><a href='javascript:void(0)' onclick="javascript:updatehash('internaltx');"> 3 Internal Transactions</a> found.</p></div></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- End Table -->

                    <!-- Table Footer -->
                    
                    <!-- End Table Footer -->
                </div>
            </div>

            <div class="tab-pane fade" id="internaltx" role="tabpanel" aria-labelledby="tab-2" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    <div class="card-body">
                        

                        <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">
                            <p class="mb-0">
                                <i class='far fa-sort-amount-down'></i> Latest 3 internal transactions
                            </p>
                            
                            
                            <div class="d-flex align-items-center gap-2">
                                <div class="d-flex align-items-center gap-2 py-1">
                                    <button id="ContentPlaceHolder1_btnQuickExportInternalTxs" class="btn btn-sm btn-white text-nowrap me-2">
                                       <i class="far fa-download text-muted me-1"></i> Download Page Data
                                    </button>
                                    
                                    <span class="text-cap">
                                        <i class="far fa-question-circle text-muted" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover" data-bs-content="Toggle between Simplified and Advanced view. The 'Advanced' view also shows zero value ETH transfers, while the 'Simple' view only shows ETH transfers with value."></i> Advanced mode:
                                    </span>
                                    
                                    <div class="form-check form-switch mb-0">
                                        <input type="checkbox" role="switch" class="form-check-input" id="customSwitch1" onclick="toggleMode();">
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div id="ContentPlaceHolder1_divinternaltxtable" class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-nowrap">
                                <tr>
                                    <th scope="col">
                                        Parent Transaction Hash
                                    </th>
                                    <th scope="col">
                                        Block
                                    </th>
                                    <th scope="col">
                                        <span>
                                            <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkIntAgeDateTime"></a></span>
                                    </th>
                                    <th scope="col" data-highlight>
                                        From
                                    </th>                                  
                                    <th scope="col" width="30"></th>
                                    <th scope="col" data-highlight>
                                        To
                                    </th>
                                    <th scope="col">
                                        <a href="javascript:void(0);" id="headerIntAmountValue" onclick="switchAmountToValue(this, 'Value (USD)', 'Amount', false)" data-bs-toggle="tooltip" data-bs-trigger="hover"></a><i id="tooltipIntAmountValue" style="display:none;" class="far fa-question-circle text-muted ms-1" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover" data-bs-content="Value displayed based on latest available exchange rate."></i>
                                    </th>
                                    
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                <tr><td><div class='d-flex align-items-center gap-1 group'><a class='hash-tag text-truncate myFnExpandBox_searchVal' style='max-width:7rem;' href='/tx/0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'>0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a</a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Transaction Hash' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_ptx_1", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_ptx_1' class='far fa-copy fa-fw'></i> </a> </div></td><td><a class='hash-tag text-truncate' href='/block/21459333'>21459333</a></td><td class='showDate ' style='display:none !important; '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>2025-07-30 11:54:01</span></td><td style='' class='showAge '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='2025-07-30 11:54:01'>11 mins ago</span></td><td class='showLocalDate' style='display:none !important;'><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>1753876441</span></td><td><div class='d-flex align-items-center gap-1 group'><i class="far fa-file-alt text-secondary" data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title="Contract"></i> <span data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title='0x387964a358f4bf7058aa72c4c1c1e98e8bc3a2cd'><span data-highlight-target="0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd">0x387964a3...e8bc3A2cd</span></span><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_f_itx_1", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_f_itx_1' class='far fa-copy fa-fw'></i> </a></div></td><td><span class='bg-success bg-opacity-10 border border-success border-opacity-25 text-success fs-70x content-center rounded-pill mx-auto' style='width: 1.5rem; height: 1.5rem;'><i class='far fa-arrow-right-long'></i></span></td><td><div class='d-flex align-items-center gap-1 group'><i class="far fa-file-alt text-secondary" data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title='Contract'></i> <a href='/address/0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41' data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-trigger='hover' data-bs-placement='top' title='0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41'><span data-highlight-target="0x5a8f7440455Ee05b77eDAbE0dc363b71bC5D2c41">0x5a8f7440...1bC5D2c41</span></a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x5a8f7440455Ee05b77eDAbE0dc363b71bC5D2c41'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_t_itx_1", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_t_itx_1' class='far fa-copy fa-fw'></i> </a></div></td><td class='text-nowrap'><span class="td_showAmount" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">0 ETH</span><span class="td_showValue" style="display:none" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">$0.00</span></td></tr><tr><td><div class='d-flex align-items-center gap-1 group'><a class='hash-tag text-truncate myFnExpandBox_searchVal' style='max-width:7rem;' href='/tx/0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'>0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a</a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Transaction Hash' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_ptx_2", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_ptx_2' class='far fa-copy fa-fw'></i> </a> </div></td><td><a class='hash-tag text-truncate' href='/block/21459333'>21459333</a></td><td class='showDate ' style='display:none !important; '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>2025-07-30 11:54:01</span></td><td style='' class='showAge '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='2025-07-30 11:54:01'>11 mins ago</span></td><td class='showLocalDate' style='display:none !important;'><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>1753876441</span></td><td><div class='d-flex align-items-center gap-1 group'><i class="far fa-file-alt text-secondary" data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title="Contract"></i> <a href='/address/0x25548ba29a0071f30e4bdcd98ea72f79341b07a1' data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-trigger='hover' data-bs-placement='top' title='0x25548ba29a0071f30e4bdcd98ea72f79341b07a1'><span data-highlight-target="0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1">0x25548Ba2...9341b07a1</span></a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_f_itx_2", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_f_itx_2' class='far fa-copy fa-fw'></i> </a></div></td><td><span class='bg-success bg-opacity-10 border border-success border-opacity-25 text-success fs-70x content-center rounded-pill mx-auto' style='width: 1.5rem; height: 1.5rem;'><i class='far fa-arrow-right-long'></i></span></td><td><div class='d-flex align-items-center gap-1 group'><i class="far fa-file-alt text-secondary" data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title='Contract'></i> <span data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title='0x387964a358f4bf7058aa72c4c1c1e98e8bc3a2cd'><span data-highlight-target="0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd">0x387964a3...e8bc3A2cd</span></span><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_t_itx_2", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_t_itx_2' class='far fa-copy fa-fw'></i> </a></div></td><td class='text-nowrap'><span class="td_showAmount" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">0 ETH</span><span class="td_showValue" style="display:none" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">$0.00</span></td></tr><tr><td><div class='d-flex align-items-center gap-1 group'><a class='hash-tag text-truncate myFnExpandBox_searchVal' style='max-width:7rem;' href='/tx/0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'>0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a</a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Transaction Hash' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_ptx_3", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_ptx_3' class='far fa-copy fa-fw'></i> </a> </div></td><td><a class='hash-tag text-truncate' href='/block/21459333'>21459333</a></td><td class='showDate ' style='display:none !important; '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>2025-07-30 11:54:01</span></td><td style='' class='showAge '><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='2025-07-30 11:54:01'>11 mins ago</span></td><td class='showLocalDate' style='display:none !important;'><span rel='tooltip' data-bs-toggle='tooltip' data-bs-title='11 mins ago'>1753876441</span></td><td><div class='d-flex align-items-center gap-1 group'><i class="far fa-file-alt text-secondary" data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-placement='top' title="Contract"></i> <a href='/address/0x25548ba29a0071f30e4bdcd98ea72f79341b07a1' data-bs-boundary='viewport' data-bs-html='true' data-bs-toggle='tooltip' data-bs-trigger='hover' data-bs-placement='top' title='0x25548ba29a0071f30e4bdcd98ea72f79341b07a1'><span data-highlight-target="0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1">0x25548Ba2...9341b07a1</span></a><a class='js-clipboard link-secondary  ' href='javascript:;' data-clipboard-text='0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1'   data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Address' data-hs-clipboard-options='{ "type": "tooltip", "successText": "Copied!", "classChangeTarget": "#linkIcon_f_itx_3", "defaultClass": "fa-copy", "successClass": "fa-check" }' ><i id='linkIcon_f_itx_3' class='far fa-copy fa-fw'></i> </a></div></td><td><span class='bg-success bg-opacity-10 border border-success border-opacity-25 text-success fs-70x content-center rounded-pill mx-auto' style='width: 1.5rem; height: 1.5rem;'><i class='far fa-arrow-right-long'></i></span></td><td><i class="far fa-newspaper text-secondary"></i> &nbsp;Contract Creation</td><td class='text-nowrap'><span class="td_showAmount" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">0 ETH</span><span class="td_showValue" style="display:none" data-bs-toggle="tooltip" data-bs-title="0 ETH | $0.00">$0.00</span></td></tr>
                            </tbody>
                        </table>
                    </div>                        
                    <!-- End Table -->

                    <!-- Table Footer -->
                    
                    <!-- End Table Footer -->
                </div>
            </div>

            <div class="tab-pane fade" id="deposittxns" role="tabpanel" aria-labelledby="tab-19" tabindex="0">
                <div style="visibility:hidden; line-height:0;">
                    <iframe id="deposit_pageiframe" src="" frameborder="0" scrolling="no" style="width: 100px; height: 600px; min-width: 100%;"></iframe>
                </div>
            </div>

            

            <div class="tab-pane fade" id="tokentxns" role="tabpanel" aria-labelledby="tab-3" tabindex="0">
                <div style="visibility:hidden; line-height:0;">
                    <iframe id="tokenpageiframe" src="" frameborder="0" scrolling="no" style="width: 100px; height: 600px; min-width: 100%;"></iframe>
                </div>
            </div>

            

            <div class="tab-pane fade" id="nfttransfers" role="tabpanel" aria-labelledby="tab-15" tabindex="0">
                <div style="visibility:hidden; line-height:0;">
                    <iframe id="nfttransfers_pageiframe" src="" frameborder="0" scrolling="no" style="width: 100px; height: 600px; min-width: 100%;"></iframe>
                </div>
            </div>

             <div class="tab-pane fade" id="others" role="tabpanel" aria-labelledby="tab-others" tabindex="0">
                <div class="card">
                    <div class="px-3 py-4">
                        <div class="d-flex align-items-center flex-wrap gap-2 " >
                            <ul class="nav nav-pills nav-sm-segment text-nowrap snap-x-mandatory overflow-x-auto flex-nowrap flex-grow-1 flex-sm-grow-0 border-2 rounded gap-1 p-0.5 nav-subtabs" id="nav_subtab_others" role="tablist">
                                                               
                            </ul> 
                        </div>
                        
                    </div>

                    <div class="tab-content" id="tabContent-others">
                        <div class="tab-pane fade " id="aatx" role="tabpanel" aria-labelledby="tab-20" tabindex="0">
                            <div style="visibility: hidden; line-height: 0">
                                <iframe id="aatx_pageiframe" src="" frameborder="0" scrolling="no" style="width: 100px; min-width: 100%;"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="authlist7702" role="tabpanel" aria-labelledby="tab-20" tabindex="0">
                <div style="visibility:hidden; line-height:0;">
                    <iframe id="authlist7702_pageiframe" src="" frameborder="0" scrolling="no" style="width: 100px; height: 600px; min-width: 100%;"></iframe>
                </div>
            </div>

            <div class="tab-pane fade" id="loansAddress" role="tabpanel" aria-labelledby="tab-6" tabindex="0">
                <div class="card p-5 mb-3">
                    <div id="loadingloansAddressframe" style="position:absolute; left:50%; margin-left:-31px">
                        <!-- Spinner --><div id="overlay_loansAddress" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                    </div>
                    <div class="table-responsive" style="overflow:auto; -webkit-overflow-scrolling:touch; visibility:hidden; line-height:0;">
                        <iframe id="loansAddressiframe" src="" frameborder="0" scrolling="yes" style="width: 100px; height: 600px; min-width: 100%;"></iframe>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="contracts" role="tabpanel" aria-labelledby="tab-7" tabindex="0">
                <div class="card p-5 mb-3">
                    <div class="d-flex flex-column flex-lg-row justify-content-between align-items-lg-center bg-white py-1 mb-3 gap-3">
                        <ul class="nav nav-pills gap-2 nav-subtabs" id="nav_subtabs" role="tablist">
                            <li id="ContentPlaceHolder1_li_code" class="nav-item snap-align-start" onclick="javascript:updatehash(&#39;code&#39;);">
                                <a class="nav-link active show" href="javascript:;" data-bs-toggle="pill" data-bs-target="#code" type="button" role="tab" aria-controls="code" aria-selected="false" onclick="javascript:updatehash('code');">
                                    <span>Code</span>
                                </a>
                            </li>
                            <li id="ContentPlaceHolder1_li_readContract" class="nav-item snap-align-start">
                                <a class="nav-link" href="javascript:;" data-bs-toggle="pill" data-bs-target="#readContract" type="button" role="tab" aria-controls="readContract" aria-selected="false" onclick="javascript:updatehash('readContract');showLoader(window.readContractLoaded);loadIframeSource();">Read Contract as Proxy<span class="d-none d-sm-inline-block"></span>
                                </a>
                            </li>
                            <li id="ContentPlaceHolder1_li_writeContract" class="nav-item snap-align-start">
                                <a class="nav-link" href="javascript:;" data-bs-toggle="pill" data-bs-target="#writeContract" type="button" role="tab" aria-controls="writeContract" aria-selected="false" onclick="javascript:updatehash('writeContract');showLoader(window.writeContractLoaded);loadIframeSource5();">Write Contract as Proxy<span class="d-none d-sm-inline-block"></span>
                                </a>
                            </li>
                            
                            
                            
                             
                            
                            
                        </ul>
                        <div id="divClientMultiSearch">
                            <div id="ContentPlaceHolder1_divMultiSearch" class="d-flex justify-content-center">
                                <div class="me-2 mt-1">
                                    <i class="far fa-question-circle text-muted mt-1 me-1" data-bs-toggle="tooltip" data-bs-html="true" title="Press Enter / Down arrow key to find next and Up arrow key for previous."></i>
                                </div>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" autocomplete="off"  id="txtSearchContract" name="txtSearchContract" placeholder="Search Source Code" aria-label="Search Source Code" aria-describedby="button-header-search" maxlength="68" style="width: 200px;">
                                    <input type="hidden" id="hdnSearchCount" value="" />
                                    <button class="btn btn-white" id="btnCustomNext" style="cursor:pointer;" onclick="searchContractNext();"><i class="fas fa-chevron-down"></i></button>
                                    <button class="btn btn-white" id="btnCustomPrevious" style="cursor:pointer;" onclick="searchContractPrevious();"><i class="fas fa-chevron-up"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade active show" id="code">
                        

                        <div id="ContentPlaceHolder1_contractCodeDiv">
                            
                            
                            
                            <div class="row py-1">
                                <div class="col-md-12">
                                    <h3 class="h6 text-dark fw-bold pt-3 pb-2 mb-4">
                                        <i class='fa far fa-layer-group text-secondary'></i> <strong> <span data-bs-placement='top' data-bs-toggle='tooltip' data-original-title='EIP1167 - minimal bytecode implementation that delegates all calls to a known address'>Minimal Proxy Contract</span> for <a href='/address/0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41#code'>0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41</a></strong>
                                        
                                    </h3>
                                </div>
                            </div>
                            <div class="row mx-gutters-lg-1 mb-5">
                                <div class="col-md-6">
                                    <div class="row align-items-center">
                                        <div class="col-5 col-lg-4 mb-1 mb-md-0">Contract Name:</div>

                                        <div class="col-7 col-lg-8">
                                            <span class="h6 fw-bold mb-0">Airdrop</span>
                                        </div>
                                    </div>
                                    <hr class="hr-space">
                                    <div class="row">
                                        <div class="col-5 col-lg-4 mb-1 mb-md-0">Compiler Version</div>

                                        <div class="col-7 col-lg-8">
                                            <span class="h6 fw-bold mb-0">v0.8.23+commit.f704f362</span>
                                        </div>
                                    </div>
                                    
                                    <hr class="d-block d-md-none">
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-5 col-lg-4 mb-1 mb-md-0">Optimization Enabled:</div>

                                        <div class="col-7 col-lg-8">
                                            <span class="h6 fw-bold mb-0">Yes <span class='fw-normal'>with</span> 20 <span class='fw-normal'>runs</span></span>
                                        </div>
                                    </div>
                                    <hr class="hr-space">
                                    <div class="row">
                                        <div class="col-5 col-lg-4 mb-1 mb-md-0">Other Settings:</div>

                                        <div class="col-7 col-lg-8">
                                            <span class="h6 fw-bold mb-0">london <span class='fw-normal'>EvmVersion</font></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <span class="mb-3"></span>
                        
                        
                             
                            
                        <div id="dividcode">
                            <div class="mb-4"><div class="d-md-flex justify-content-between align-items-center bg-white py-2"><h4 class="card-header-title"><i class='far fa-file-code text-secondary me-1'></i>Contract Source Code <span class='fw-normal text-muted'>(Solidity <a rel='nofollow noopener' href='https://docs.soliditylang.org/en/latest/using-the-compiler.html#compiler-input-and-output-json-description' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Click to learn more' target='blank' class='text-primary'>Standard Json-Input</a> format)</span></h4><div class="mt-1 mt-md-0"> <a id='btnConvert2' class='btn btn-sm btn-secondary' href='/bytecode-decompiler?a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd' data-bs-toggle='tooltip' title='Opens up the Runtime Bytecode Decompiler page' target='_blank'>Decompile Bytecode <i class="far fa-arrow-up-right-from-square ms-1"></i></a> <a class="btn btn-sm btn-secondary" href='/find-similar-contracts?m=exact&a=0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41'><i class="far fa-file-alt me-1"></i><span data-bs-toggle='tooltip' data-bs-trigger='hover' title='Find other contracts with Similar Contract Codes.'>Similar Contracts</span></a></div></div><script src='/jss/ace/ace.js' type='text/javascript' charset='utf-8'></script><div class='d-flex justify-content-between'><span class='text-muted'>File 1 of 15 : Airdrop.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('contract Airdrop is EIP712, Initializable, Ownable, ContractMetadata', '1');"><i class="far fa-file-alt text-secondary"></i> &nbsp;<b>contract Airdrop is EIP712, Initia ...</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function initialize(address _defaultAdmin, string memory _contractURI)', '1');">  &nbsp;&nbsp;&nbsp;- function initialize(address _defaultA ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropNativeToken(AirdropContentERC20[] calldata _contents)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropNativeToken(AirdropCo ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC20(address _tokenAddress, AirdropContentERC20[] calldata _contents)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC20(address _tokenA ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC721(address _tokenAddress, AirdropContentERC721[] calldata _contents)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC721(address _token ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC1155(address _tokenAddress, AirdropContentERC1155[] calldata _contents)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC1155(address _toke ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC20WithSignature(AirdropRequestERC20 calldata req, bytes calldata signature)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC20WithSignature(Ai ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC721WithSignature(AirdropRequestERC721 calldata req, bytes calldata signature)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC721WithSignature(A ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function airdropERC1155WithSignature(AirdropRequestERC1155 calldata req, bytes calldata signature)', '1');">  &nbsp;&nbsp;&nbsp;- function airdropERC1155WithSignature( ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function claimERC20(address _token, address _receiver, uint256 _quantity, bytes32[] calldata _proofs)', '1');">  &nbsp;&nbsp;&nbsp;- function claimERC20(address _token, a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function claimERC721(address _token, address _receiver, uint256 _tokenId, bytes32[] calldata _proofs)', '1');">  &nbsp;&nbsp;&nbsp;- function claimERC721(address _token,  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function claimERC1155(', '1');">  &nbsp;&nbsp;&nbsp;- function claimERC1155(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setMerkleRoot(address _token, bytes32 _tokenMerkleRoot, bool _resetClaimStatus)', '1');">  &nbsp;&nbsp;&nbsp;- function setMerkleRoot(address _token ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isClaimed(address _receiver, address _token, uint256 _tokenId)', '1');">  &nbsp;&nbsp;&nbsp;- function isClaimed(address _receiver, ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _canSetOwner()', '1');">  &nbsp;&nbsp;&nbsp;- function _canSetOwner()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _canSetContractURI()', '1');">  &nbsp;&nbsp;&nbsp;- function _canSetContractURI()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _domainNameAndVersion()', '1');">  &nbsp;&nbsp;&nbsp;- function _domainNameAndVersion()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _getClaimHashERC20(address _receiver, address _token)', '1');">  &nbsp;&nbsp;&nbsp;- function _getClaimHashERC20(address _ ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _getClaimHashERC721(address _receiver, address _token, uint256 _tokenId)', '1');">  &nbsp;&nbsp;&nbsp;- function _getClaimHashERC721(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _getClaimHashERC1155(address _receiver, address _token, uint256 _tokenId)', '1');">  &nbsp;&nbsp;&nbsp;- function _getClaimHashERC1155(address ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _hashContentInfoERC20(AirdropContentERC20[] calldata contents)', '1');">  &nbsp;&nbsp;&nbsp;- function _hashContentInfoERC20(Airdro ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _hashContentInfoERC721(AirdropContentERC721[] calldata contents)', '1');">  &nbsp;&nbsp;&nbsp;- function _hashContentInfoERC721(Airdr ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _hashContentInfoERC1155(AirdropContentERC1155[] calldata contents)', '1');">  &nbsp;&nbsp;&nbsp;- function _hashContentInfoERC1155(Aird ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _verifyRequestSignerERC20(', '1');">  &nbsp;&nbsp;&nbsp;- function _verifyRequestSignerERC20(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _verifyRequestSignerERC721(', '1');">  &nbsp;&nbsp;&nbsp;- function _verifyRequestSignerERC721(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _verifyRequestSignerERC1155(', '1');">  &nbsp;&nbsp;&nbsp;- function _verifyRequestSignerERC1155(</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_1' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor1' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.11;

/// @author thirdweb

//   $$\     $$\       $$\                 $$\                         $$\
//   $$ |    $$ |      \__|                $$ |                        $$ |
// $$$$$$\   $$$$$$$\  $$\  $$$$$$\   $$$$$$$ |$$\  $$\  $$\  $$$$$$\  $$$$$$$\
// \_$$  _|  $$  __$$\ $$ |$$  __$$\ $$  __$$ |$$ | $$ | $$ |$$  __$$\ $$  __$$\
//   $$ |    $$ |  $$ |$$ |$$ |  \__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
//   $$ |$$\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
//   \$$$$  |$$ |  $$ |$$ |$$ |      \$$$$$$$ |\$$$$$\$$$$  |\$$$$$$$\ $$$$$$$  |
//    \____/ \__|  \__|\__|\__|       \_______| \_____\____/  \_______|\_______/

import &quot;solady/src/utils/MerkleProofLib.sol&quot;;
import &quot;solady/src/utils/ECDSA.sol&quot;;
import &quot;solady/src/utils/EIP712.sol&quot;;
import &quot;solady/src/utils/SafeTransferLib.sol&quot;;
import &quot;solady/src/utils/SignatureCheckerLib.sol&quot;;

import { Initializable } from &quot;../../extension/Initializable.sol&quot;;
import { Ownable } from &quot;../../extension/Ownable.sol&quot;;
import { ContractMetadata } from &quot;../../extension/ContractMetadata.sol&quot;;

import &quot;../../eip/interface/IERC20.sol&quot;;
import &quot;../../eip/interface/IERC721.sol&quot;;
import &quot;../../eip/interface/IERC1155.sol&quot;;

contract Airdrop is EIP712, Initializable, Ownable, ContractMetadata {
    /*///////////////////////////////////////////////////////////////
                            State, constants &amp; structs
    //////////////////////////////////////////////////////////////*/

    /// @dev token contract address =&gt; conditionId
    mapping(address =&gt; uint256) public tokenConditionId;
    /// @dev token contract address =&gt; merkle root
    mapping(address =&gt; bytes32) public tokenMerkleRoot;
    /// @dev conditionId =&gt; hash(claimer address, token address, token id [1155]) =&gt; has claimed
    mapping(uint256 =&gt; mapping(bytes32 =&gt; bool)) private claimed;
    /// @dev Mapping from request UID =&gt; whether the request is processed.
    mapping(bytes32 =&gt; bool) public processed;

    struct AirdropContentERC20 {
        address recipient;
        uint256 amount;
    }

    struct AirdropContentERC721 {
        address recipient;
        uint256 tokenId;
    }

    struct AirdropContentERC1155 {
        address recipient;
        uint256 tokenId;
        uint256 amount;
    }

    struct AirdropRequestERC20 {
        bytes32 uid;
        address tokenAddress;
        uint256 expirationTimestamp;
        AirdropContentERC20[] contents;
    }

    struct AirdropRequestERC721 {
        bytes32 uid;
        address tokenAddress;
        uint256 expirationTimestamp;
        AirdropContentERC721[] contents;
    }

    struct AirdropRequestERC1155 {
        bytes32 uid;
        address tokenAddress;
        uint256 expirationTimestamp;
        AirdropContentERC1155[] contents;
    }

    bytes32 private constant CONTENT_TYPEHASH_ERC20 =
        keccak256(&quot;AirdropContentERC20(address recipient,uint256 amount)&quot;);
    bytes32 private constant REQUEST_TYPEHASH_ERC20 =
        keccak256(
            &quot;AirdropRequestERC20(bytes32 uid,address tokenAddress,uint256 expirationTimestamp,AirdropContentERC20[] contents)AirdropContentERC20(address recipient,uint256 amount)&quot;
        );

    bytes32 private constant CONTENT_TYPEHASH_ERC721 =
        keccak256(&quot;AirdropContentERC721(address recipient,uint256 tokenId)&quot;);
    bytes32 private constant REQUEST_TYPEHASH_ERC721 =
        keccak256(
            &quot;AirdropRequestERC721(bytes32 uid,address tokenAddress,uint256 expirationTimestamp,AirdropContentERC721[] contents)AirdropContentERC721(address recipient,uint256 tokenId)&quot;
        );

    bytes32 private constant CONTENT_TYPEHASH_ERC1155 =
        keccak256(&quot;AirdropContentERC1155(address recipient,uint256 tokenId,uint256 amount)&quot;);
    bytes32 private constant REQUEST_TYPEHASH_ERC1155 =
        keccak256(
            &quot;AirdropRequestERC1155(bytes32 uid,address tokenAddress,uint256 expirationTimestamp,AirdropContentERC1155[] contents)AirdropContentERC1155(address recipient,uint256 tokenId,uint256 amount)&quot;
        );

    address private constant NATIVE_TOKEN_ADDRESS = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE;

    /*///////////////////////////////////////////////////////////////
                                Errors
    //////////////////////////////////////////////////////////////*/

    error AirdropInvalidProof();
    error AirdropAlreadyClaimed();
    error AirdropNoMerkleRoot();
    error AirdropValueMismatch();
    error AirdropRequestExpired(uint256 expirationTimestamp);
    error AirdropRequestAlreadyProcessed();
    error AirdropRequestInvalidSigner();

    /*///////////////////////////////////////////////////////////////
                                Events
    //////////////////////////////////////////////////////////////*/

    event Airdrop(address token);
    event AirdropWithSignature(address token);
    event AirdropClaimed(address token, address receiver);

    /*///////////////////////////////////////////////////////////////
                            Constructor
    //////////////////////////////////////////////////////////////*/

    constructor() {
        _disableInitializers();
    }

    function initialize(address _defaultAdmin, string memory _contractURI) external initializer {
        _setupOwner(_defaultAdmin);
        _setupContractURI(_contractURI);
    }

    /*///////////////////////////////////////////////////////////////
                            Airdrop Push
    //////////////////////////////////////////////////////////////*/

    /**
     *  @notice          Lets contract-owner send native token (eth) to a list of addresses.
     *  @dev             Owner should send total airdrop amount as msg.value.
     *                   Can only be called by contract owner.
     *
     *  @param _contents List containing recipients and amounts to airdrop
     */
    function airdropNativeToken(AirdropContentERC20[] calldata _contents) external payable onlyOwner {
        uint256 len = _contents.length;
        uint256 nativeTokenAmount;

        for (uint256 i = 0; i &lt; len; i++) {
            nativeTokenAmount += _contents[i].amount;

            SafeTransferLib.safeTransferETH(_contents[i].recipient, _contents[i].amount);
        }

        if (nativeTokenAmount != msg.value) {
            revert AirdropValueMismatch();
        }

        emit Airdrop(NATIVE_TOKEN_ADDRESS);
    }

    /**
     *  @notice          Lets contract owner send ERC20 tokens to a list of addresses.
     *  @dev             The token-owner should approve total airdrop amount to this contract.
     *                   Can only be called by contract owner.
     *
     *  @param _tokenAddress Address of the ERC20 token being airdropped
     *  @param _contents     List containing recipients and amounts to airdrop
     */
    function airdropERC20(address _tokenAddress, AirdropContentERC20[] calldata _contents) external onlyOwner {
        uint256 len = _contents.length;

        for (uint256 i = 0; i &lt; len; i++) {
            SafeTransferLib.safeTransferFrom(_tokenAddress, msg.sender, _contents[i].recipient, _contents[i].amount);
        }

        emit Airdrop(_tokenAddress);
    }

    /**
     *  @notice          Lets contract owner send ERC721 tokens to a list of addresses.
     *  @dev             The token-owner should approve airdrop tokenIds to this contract.
     *                   Can only be called by contract owner.
     *
     *  @param _tokenAddress Address of the ERC721 token being airdropped
     *  @param _contents     List containing recipients and tokenIds to airdrop
     */
    function airdropERC721(address _tokenAddress, AirdropContentERC721[] calldata _contents) external onlyOwner {
        uint256 len = _contents.length;

        for (uint256 i = 0; i &lt; len; i++) {
            IERC721(_tokenAddress).safeTransferFrom(msg.sender, _contents[i].recipient, _contents[i].tokenId);
        }

        emit Airdrop(_tokenAddress);
    }

    /**
     *  @notice          Lets contract owner send ERC1155 tokens to a list of addresses.
     *  @dev             The token-owner should approve airdrop tokenIds and amounts to this contract.
     *                   Can only be called by contract owner.
     *
     *  @param _tokenAddress Address of the ERC1155 token being airdropped
     *  @param _contents     List containing recipients, tokenIds, and amounts to airdrop
     */
    function airdropERC1155(address _tokenAddress, AirdropContentERC1155[] calldata _contents) external onlyOwner {
        uint256 len = _contents.length;

        for (uint256 i = 0; i &lt; len; i++) {
            IERC1155(_tokenAddress).safeTransferFrom(
                msg.sender,
                _contents[i].recipient,
                _contents[i].tokenId,
                _contents[i].amount,
                &quot;&quot;
            );
        }

        emit Airdrop(_tokenAddress);
    }

    /*///////////////////////////////////////////////////////////////
                        Airdrop With Signature
    //////////////////////////////////////////////////////////////*/

    /**
     *  @notice          Lets contract owner send ERC20 tokens to a list of addresses with EIP-712 signature.
     *  @dev             The token-owner should approve airdrop amounts to this contract.
     *                   Signer should be the contract owner.
     *
     *  @param req          Struct containing airdrop contents, uid, and expiration timestamp
     *  @param signature    EIP-712 signature to perform the airdrop
     */
    function airdropERC20WithSignature(AirdropRequestERC20 calldata req, bytes calldata signature) external {
        // verify expiration timestamp
        if (req.expirationTimestamp &lt; block.timestamp) {
            revert AirdropRequestExpired(req.expirationTimestamp);
        }

        if (processed[req.uid]) {
            revert AirdropRequestAlreadyProcessed();
        }

        // verify data
        if (!_verifyRequestSignerERC20(req, signature)) {
            revert AirdropRequestInvalidSigner();
        }

        processed[req.uid] = true;

        uint256 len = req.contents.length;
        address _from = owner();

        for (uint256 i = 0; i &lt; len; i++) {
            SafeTransferLib.safeTransferFrom(
                req.tokenAddress,
                _from,
                req.contents[i].recipient,
                req.contents[i].amount
            );
        }

        emit AirdropWithSignature(req.tokenAddress);
    }

    /**
     *  @notice          Lets contract owner send ERC721 tokens to a list of addresses with EIP-712 signature.
     *  @dev             The token-owner should approve airdrop tokenIds to this contract.
     *                   Signer should be the contract owner.
     *
     *  @param req          Struct containing airdrop contents, uid, and expiration timestamp
     *  @param signature    EIP-712 signature to perform the airdrop
     */
    function airdropERC721WithSignature(AirdropRequestERC721 calldata req, bytes calldata signature) external {
        // verify expiration timestamp
        if (req.expirationTimestamp &lt; block.timestamp) {
            revert AirdropRequestExpired(req.expirationTimestamp);
        }

        if (processed[req.uid]) {
            revert AirdropRequestAlreadyProcessed();
        }

        // verify data
        if (!_verifyRequestSignerERC721(req, signature)) {
            revert AirdropRequestInvalidSigner();
        }

        processed[req.uid] = true;

        address _from = owner();
        uint256 len = req.contents.length;

        for (uint256 i = 0; i &lt; len; i++) {
            IERC721(req.tokenAddress).safeTransferFrom(_from, req.contents[i].recipient, req.contents[i].tokenId);
        }

        emit AirdropWithSignature(req.tokenAddress);
    }

    /**
     *  @notice          Lets contract owner send ERC1155 tokens to a list of addresses with EIP-712 signature.
     *  @dev             The token-owner should approve airdrop tokenIds and amounts to this contract.
     *                   Signer should be the contract owner.
     *
     *  @param req          Struct containing airdrop contents, uid, and expiration timestamp
     *  @param signature    EIP-712 signature to perform the airdrop
     */
    function airdropERC1155WithSignature(AirdropRequestERC1155 calldata req, bytes calldata signature) external {
        // verify expiration timestamp
        if (req.expirationTimestamp &lt; block.timestamp) {
            revert AirdropRequestExpired(req.expirationTimestamp);
        }

        if (processed[req.uid]) {
            revert AirdropRequestAlreadyProcessed();
        }

        // verify data
        if (!_verifyRequestSignerERC1155(req, signature)) {
            revert AirdropRequestInvalidSigner();
        }

        processed[req.uid] = true;

        address _from = owner();
        uint256 len = req.contents.length;

        for (uint256 i = 0; i &lt; len; i++) {
            IERC1155(req.tokenAddress).safeTransferFrom(
                _from,
                req.contents[i].recipient,
                req.contents[i].tokenId,
                req.contents[i].amount,
                &quot;&quot;
            );
        }

        emit AirdropWithSignature(req.tokenAddress);
    }

    /*///////////////////////////////////////////////////////////////
                            Airdrop Claimable
    //////////////////////////////////////////////////////////////*/

    /**
     *  @notice          Lets allowlisted addresses claim ERC20 airdrop tokens.
     *  @dev             The token-owner should approve total airdrop amount to this contract,
     *                   and set merkle root of allowlisted address for this airdrop.
     *
     *  @param _token       Address of ERC20 airdrop token
     *  @param _receiver    Allowlisted address for which the token is being claimed
     *  @param _quantity    Allowlisted quantity of tokens to claim
     *  @param _proofs      Merkle proofs for allowlist verification
     */
    function claimERC20(address _token, address _receiver, uint256 _quantity, bytes32[] calldata _proofs) external {
        bytes32 claimHash = _getClaimHashERC20(_receiver, _token);
        uint256 conditionId = tokenConditionId[_token];

        if (claimed[conditionId][claimHash]) {
            revert AirdropAlreadyClaimed();
        }

        bytes32 _tokenMerkleRoot = tokenMerkleRoot[_token];
        if (_tokenMerkleRoot == bytes32(0)) {
            revert AirdropNoMerkleRoot();
        }

        bool valid = MerkleProofLib.verifyCalldata(
            _proofs,
            _tokenMerkleRoot,
            keccak256(abi.encodePacked(_receiver, _quantity))
        );
        if (!valid) {
            revert AirdropInvalidProof();
        }

        claimed[conditionId][claimHash] = true;

        SafeTransferLib.safeTransferFrom(_token, owner(), _receiver, _quantity);

        emit AirdropClaimed(_token, _receiver);
    }

    /**
     *  @notice          Lets allowlisted addresses claim ERC721 airdrop tokens.
     *  @dev             The token-owner should approve airdrop tokenIds to this contract,
     *                   and set merkle root of allowlisted address for this airdrop.
     *
     *  @param _token       Address of ERC721 airdrop token
     *  @param _receiver    Allowlisted address for which the token is being claimed
     *  @param _tokenId     Allowlisted tokenId to claim
     *  @param _proofs      Merkle proofs for allowlist verification
     */
    function claimERC721(address _token, address _receiver, uint256 _tokenId, bytes32[] calldata _proofs) external {
        bytes32 claimHash = _getClaimHashERC721(_receiver, _token, _tokenId);
        uint256 conditionId = tokenConditionId[_token];

        if (claimed[conditionId][claimHash]) {
            revert AirdropAlreadyClaimed();
        }

        bytes32 _tokenMerkleRoot = tokenMerkleRoot[_token];
        if (_tokenMerkleRoot == bytes32(0)) {
            revert AirdropNoMerkleRoot();
        }

        bool valid = MerkleProofLib.verifyCalldata(
            _proofs,
            _tokenMerkleRoot,
            keccak256(abi.encodePacked(_receiver, _tokenId))
        );
        if (!valid) {
            revert AirdropInvalidProof();
        }

        claimed[conditionId][claimHash] = true;

        IERC721(_token).safeTransferFrom(owner(), _receiver, _tokenId);

        emit AirdropClaimed(_token, _receiver);
    }

    /**
     *  @notice          Lets allowlisted addresses claim ERC1155 airdrop tokens.
     *  @dev             The token-owner should approve tokenIds and total airdrop amounts to this contract,
     *                   and set merkle root of allowlisted address for this airdrop.
     *
     *  @param _token       Address of ERC1155 airdrop token
     *  @param _receiver    Allowlisted address for which the token is being claimed
     *  @param _tokenId     Allowlisted tokenId to claim
     *  @param _quantity    Allowlisted quantity of tokens to claim
     *  @param _proofs      Merkle proofs for allowlist verification
     */
    function claimERC1155(
        address _token,
        address _receiver,
        uint256 _tokenId,
        uint256 _quantity,
        bytes32[] calldata _proofs
    ) external {
        bytes32 claimHash = _getClaimHashERC1155(_receiver, _token, _tokenId);
        uint256 conditionId = tokenConditionId[_token];

        if (claimed[conditionId][claimHash]) {
            revert AirdropAlreadyClaimed();
        }

        bytes32 _tokenMerkleRoot = tokenMerkleRoot[_token];
        if (_tokenMerkleRoot == bytes32(0)) {
            revert AirdropNoMerkleRoot();
        }

        bool valid = MerkleProofLib.verifyCalldata(
            _proofs,
            _tokenMerkleRoot,
            keccak256(abi.encodePacked(_receiver, _tokenId, _quantity))
        );
        if (!valid) {
            revert AirdropInvalidProof();
        }

        claimed[conditionId][claimHash] = true;

        IERC1155(_token).safeTransferFrom(owner(), _receiver, _tokenId, _quantity, &quot;&quot;);

        emit AirdropClaimed(_token, _receiver);
    }

    /*///////////////////////////////////////////////////////////////
                            Setter functions
    //////////////////////////////////////////////////////////////*/

    /**
     *  @notice          Lets contract owner set merkle root (allowlist) for claim based airdrops.
     *
     *  @param _token             Address of airdrop token
     *  @param _tokenMerkleRoot   Merkle root of allowlist
     *  @param _resetClaimStatus  Reset claim status / amount claimed so far to zero for all recipients
     */
    function setMerkleRoot(address _token, bytes32 _tokenMerkleRoot, bool _resetClaimStatus) external onlyOwner {
        if (_resetClaimStatus || tokenConditionId[_token] == 0) {
            tokenConditionId[_token] += 1;
        }
        tokenMerkleRoot[_token] = _tokenMerkleRoot;
    }

    /*///////////////////////////////////////////////////////////////
                        Miscellaneous
    //////////////////////////////////////////////////////////////*/

    /// @notice Returns claim status of a receiver for a claim based airdrop
    function isClaimed(address _receiver, address _token, uint256 _tokenId) external view returns (bool) {
        uint256 _conditionId = tokenConditionId[_token];

        bytes32 claimHash = keccak256(abi.encodePacked(_receiver, _token, _tokenId));
        if (claimed[_conditionId][claimHash]) {
            return true;
        }

        claimHash = keccak256(abi.encodePacked(_receiver, _token));
        if (claimed[_conditionId][claimHash]) {
            return true;
        }

        return false;
    }
    /// @dev Checks whether contract owner can be set in the given execution context.
    function _canSetOwner() internal view virtual override returns (bool) {
        return msg.sender == owner();
    }

    /// @dev Checks whether contract metadata can be set in the given execution context.
    function _canSetContractURI() internal view virtual override returns (bool) {
        return msg.sender == owner();
    }

    /// @dev Domain name and version for EIP-712
    function _domainNameAndVersion() internal pure override returns (string memory name, string memory version) {
        name = &quot;Airdrop&quot;;
        version = &quot;1&quot;;
    }

    /// @dev Keccak256 hash of receiver and token addresses, for claim based airdrop status tracking
    function _getClaimHashERC20(address _receiver, address _token) private view returns (bytes32) {
        return keccak256(abi.encodePacked(_receiver, _token));
    }

    /// @dev Keccak256 hash of receiver, token address and tokenId, for claim based airdrop status tracking
    function _getClaimHashERC721(address _receiver, address _token, uint256 _tokenId) private view returns (bytes32) {
        return keccak256(abi.encodePacked(_receiver, _token, _tokenId));
    }

    /// @dev Keccak256 hash of receiver, token address and tokenId, for claim based airdrop status tracking
    function _getClaimHashERC1155(address _receiver, address _token, uint256 _tokenId) private view returns (bytes32) {
        return keccak256(abi.encodePacked(_receiver, _token, _tokenId));
    }

    /// @dev Hash nested struct within AirdropRequest___
    function _hashContentInfoERC20(AirdropContentERC20[] calldata contents) private pure returns (bytes32) {
        bytes32[] memory contentHashes = new bytes32[](contents.length);
        for (uint256 i = 0; i &lt; contents.length; i++) {
            contentHashes[i] = keccak256(abi.encode(CONTENT_TYPEHASH_ERC20, contents[i].recipient, contents[i].amount));
        }
        return keccak256(abi.encodePacked(contentHashes));
    }

    /// @dev Hash nested struct within AirdropRequest___
    function _hashContentInfoERC721(AirdropContentERC721[] calldata contents) private pure returns (bytes32) {
        bytes32[] memory contentHashes = new bytes32[](contents.length);
        for (uint256 i = 0; i &lt; contents.length; i++) {
            contentHashes[i] = keccak256(
                abi.encode(CONTENT_TYPEHASH_ERC721, contents[i].recipient, contents[i].tokenId)
            );
        }
        return keccak256(abi.encodePacked(contentHashes));
    }

    /// @dev Hash nested struct within AirdropRequest___
    function _hashContentInfoERC1155(AirdropContentERC1155[] calldata contents) private pure returns (bytes32) {
        bytes32[] memory contentHashes = new bytes32[](contents.length);
        for (uint256 i = 0; i &lt; contents.length; i++) {
            contentHashes[i] = keccak256(
                abi.encode(CONTENT_TYPEHASH_ERC1155, contents[i].recipient, contents[i].tokenId, contents[i].amount)
            );
        }
        return keccak256(abi.encodePacked(contentHashes));
    }

    /// @dev Verify EIP-712 signature
    function _verifyRequestSignerERC20(
        AirdropRequestERC20 calldata req,
        bytes calldata signature
    ) private view returns (bool) {
        bytes32 contentHash = _hashContentInfoERC20(req.contents);
        bytes32 structHash = keccak256(
            abi.encode(REQUEST_TYPEHASH_ERC20, req.uid, req.tokenAddress, req.expirationTimestamp, contentHash)
        );

        bytes32 digest = _hashTypedData(structHash);

        return SignatureCheckerLib.isValidSignatureNowCalldata(owner(), digest, signature);
    }

    /// @dev Verify EIP-712 signature
    function _verifyRequestSignerERC721(
        AirdropRequestERC721 calldata req,
        bytes calldata signature
    ) private view returns (bool) {
        bytes32 contentHash = _hashContentInfoERC721(req.contents);
        bytes32 structHash = keccak256(
            abi.encode(REQUEST_TYPEHASH_ERC721, req.uid, req.tokenAddress, req.expirationTimestamp, contentHash)
        );

        bytes32 digest = _hashTypedData(structHash);

        return SignatureCheckerLib.isValidSignatureNowCalldata(owner(), digest, signature);
    }

    /// @dev Verify EIP-712 signature
    function _verifyRequestSignerERC1155(
        AirdropRequestERC1155 calldata req,
        bytes calldata signature
    ) private view returns (bool) {
        bytes32 contentHash = _hashContentInfoERC1155(req.contents);
        bytes32 structHash = keccak256(
            abi.encode(REQUEST_TYPEHASH_ERC1155, req.uid, req.tokenAddress, req.expirationTimestamp, contentHash)
        );

        bytes32 digest = _hashTypedData(structHash);

        return SignatureCheckerLib.isValidSignatureNowCalldata(owner(), digest, signature);
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 2 of 15 : IERC1155.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 280px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('interface IERC1155', '2');"><i class="far fa-book-open"></i> <b>interface IERC1155</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data)', '2');">  &nbsp;&nbsp;&nbsp;- function safeTransferFrom(address _fr ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeBatchTransferFrom(', '2');">  &nbsp;&nbsp;&nbsp;- function safeBatchTransferFrom(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function balanceOf(address _owner, uint256 _id)', '2');">  &nbsp;&nbsp;&nbsp;- function balanceOf(address _owner, ui ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function balanceOfBatch(', '2');">  &nbsp;&nbsp;&nbsp;- function balanceOfBatch(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setApprovalForAll(address _operator, bool _approved)', '2');">  &nbsp;&nbsp;&nbsp;- function setApprovalForAll(address _o ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isApprovedForAll(address _owner, address _operator)', '2');">  &nbsp;&nbsp;&nbsp;- function isApprovedForAll(address _ow ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_2' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor2' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/**
    @title ERC-1155 Multi Token Standard
    @dev See https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1155.md
    Note: The ERC-165 identifier for this interface is 0xd9b67a26.
 */
interface IERC1155 {
    /**
        @dev Either `TransferSingle` or `TransferBatch` MUST emit when tokens are transferred, including zero value transfers as well as minting or burning (see &quot;Safe Transfer Rules&quot; section of the standard).
        The `_operator` argument MUST be msg.sender.
        The `_from` argument MUST be the address of the holder whose balance is decreased.
        The `_to` argument MUST be the address of the recipient whose balance is increased.
        The `_id` argument MUST be the token type being transferred.
        The `_value` argument MUST be the number of tokens the holder balance is decreased by and match what the recipient balance is increased by.
        When minting/creating tokens, the `_from` argument MUST be set to `0x0` (i.e. zero address).
        When burning/destroying tokens, the `_to` argument MUST be set to `0x0` (i.e. zero address).
    */
    event TransferSingle(
        address indexed _operator,
        address indexed _from,
        address indexed _to,
        uint256 _id,
        uint256 _value
    );

    /**
        @dev Either `TransferSingle` or `TransferBatch` MUST emit when tokens are transferred, including zero value transfers as well as minting or burning (see &quot;Safe Transfer Rules&quot; section of the standard).
        The `_operator` argument MUST be msg.sender.
        The `_from` argument MUST be the address of the holder whose balance is decreased.
        The `_to` argument MUST be the address of the recipient whose balance is increased.
        The `_ids` argument MUST be the list of tokens being transferred.
        The `_values` argument MUST be the list of number of tokens (matching the list and order of tokens specified in _ids) the holder balance is decreased by and match what the recipient balance is increased by.
        When minting/creating tokens, the `_from` argument MUST be set to `0x0` (i.e. zero address).
        When burning/destroying tokens, the `_to` argument MUST be set to `0x0` (i.e. zero address).
    */
    event TransferBatch(
        address indexed _operator,
        address indexed _from,
        address indexed _to,
        uint256[] _ids,
        uint256[] _values
    );

    /**
        @dev MUST emit when approval for a second party/operator address to manage all tokens for an owner address is enabled or disabled (absense of an event assumes disabled).
    */
    event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);

    /**
        @dev MUST emit when the URI is updated for a token ID.
        URIs are defined in RFC 3986.
        The URI MUST point a JSON file that conforms to the &quot;ERC-1155 Metadata URI JSON Schema&quot;.
    */
    event URI(string _value, uint256 indexed _id);

    /**
        @notice Transfers `_value` amount of an `_id` from the `_from` address to the `_to` address specified (with safety call).
        @dev Caller must be approved to manage the tokens being transferred out of the `_from` account (see &quot;Approval&quot; section of the standard).
        MUST revert if `_to` is the zero address.
        MUST revert if balance of holder for token `_id` is lower than the `_value` sent.
        MUST revert on any other error.
        MUST emit the `TransferSingle` event to reflect the balance change (see &quot;Safe Transfer Rules&quot; section of the standard).
        After the above conditions are met, this function MUST check if `_to` is a smart contract (e.g. code size &gt; 0). If so, it MUST call `onERC1155Received` on `_to` and act appropriately (see &quot;Safe Transfer Rules&quot; section of the standard).
        @param _from    Source address
        @param _to      Target address
        @param _id      ID of the token type
        @param _value   Transfer amount
        @param _data    Additional data with no specified format, MUST be sent unaltered in call to `onERC1155Received` on `_to`
    */
    function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data) external;

    /**
        @notice Transfers `_values` amount(s) of `_ids` from the `_from` address to the `_to` address specified (with safety call).
        @dev Caller must be approved to manage the tokens being transferred out of the `_from` account (see &quot;Approval&quot; section of the standard).
        MUST revert if `_to` is the zero address.
        MUST revert if length of `_ids` is not the same as length of `_values`.
        MUST revert if any of the balance(s) of the holder(s) for token(s) in `_ids` is lower than the respective amount(s) in `_values` sent to the recipient.
        MUST revert on any other error.
        MUST emit `TransferSingle` or `TransferBatch` event(s) such that all the balance changes are reflected (see &quot;Safe Transfer Rules&quot; section of the standard).
        Balance changes and events MUST follow the ordering of the arrays (_ids[0]/_values[0] before _ids[1]/_values[1], etc).
        After the above conditions for the transfer(s) in the batch are met, this function MUST check if `_to` is a smart contract (e.g. code size &gt; 0). If so, it MUST call the relevant `ERC1155TokenReceiver` hook(s) on `_to` and act appropriately (see &quot;Safe Transfer Rules&quot; section of the standard).
        @param _from    Source address
        @param _to      Target address
        @param _ids     IDs of each token type (order and length must match _values array)
        @param _values  Transfer amounts per token type (order and length must match _ids array)
        @param _data    Additional data with no specified format, MUST be sent unaltered in call to the `ERC1155TokenReceiver` hook(s) on `_to`
    */
    function safeBatchTransferFrom(
        address _from,
        address _to,
        uint256[] calldata _ids,
        uint256[] calldata _values,
        bytes calldata _data
    ) external;

    /**
        @notice Get the balance of an account&#39;s Tokens.
        @param _owner  The address of the token holder
        @param _id     ID of the Token
        @return        The _owner&#39;s balance of the Token type requested
     */
    function balanceOf(address _owner, uint256 _id) external view returns (uint256);

    /**
        @notice Get the balance of multiple account/token pairs
        @param _owners The addresses of the token holders
        @param _ids    ID of the Tokens
        @return        The _owner&#39;s balance of the Token types requested (i.e. balance for each (owner, id) pair)
     */
    function balanceOfBatch(
        address[] calldata _owners,
        uint256[] calldata _ids
    ) external view returns (uint256[] memory);

    /**
        @notice Enable or disable approval for a third party (&quot;operator&quot;) to manage all of the caller&#39;s tokens.
        @dev MUST emit the ApprovalForAll event on success.
        @param _operator  Address to add to the set of authorized operators
        @param _approved  True if the operator is approved, false to revoke approval
    */
    function setApprovalForAll(address _operator, bool _approved) external;

    /**
        @notice Queries the approval status of an operator for a given owner.
        @param _owner     The owner of the Tokens
        @param _operator  Address of authorized operator
        @return           True if the operator is approved, false if not
    */
    function isApprovedForAll(address _owner, address _operator) external view returns (bool);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 3 of 15 : IERC20.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 280px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('interface IERC20', '3');"><i class="far fa-book-open"></i> <b>interface IERC20</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function totalSupply()', '3');">  &nbsp;&nbsp;&nbsp;- function totalSupply()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function balanceOf(address who)', '3');">  &nbsp;&nbsp;&nbsp;- function balanceOf(address who)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function allowance(address owner, address spender)', '3');">  &nbsp;&nbsp;&nbsp;- function allowance(address owner, add ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function transfer(address to, uint256 value)', '3');">  &nbsp;&nbsp;&nbsp;- function transfer(address to, uint256 ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function approve(address spender, uint256 value)', '3');">  &nbsp;&nbsp;&nbsp;- function approve(address spender, uin ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function transferFrom(address from, address to, uint256 value)', '3');">  &nbsp;&nbsp;&nbsp;- function transferFrom(address from, a ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_3' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor3' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/**
 * @title ERC20 interface
 * @dev see https://github.com/ethereum/EIPs/issues/20
 */
interface IERC20 {
    function totalSupply() external view returns (uint256);

    function balanceOf(address who) external view returns (uint256);

    function allowance(address owner, address spender) external view returns (uint256);

    function transfer(address to, uint256 value) external returns (bool);

    function approve(address spender, uint256 value) external returns (bool);

    function transferFrom(address from, address to, uint256 value) external returns (bool);

    event Transfer(address indexed from, address indexed to, uint256 value);

    event Approval(address indexed owner, address indexed spender, uint256 value);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 4 of 15 : IERC721.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('interface IERC721', '4');"><i class="far fa-book-open"></i> <b>interface IERC721</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function balanceOf(address owner)', '4');">  &nbsp;&nbsp;&nbsp;- function balanceOf(address owner)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function ownerOf(uint256 tokenId)', '4');">  &nbsp;&nbsp;&nbsp;- function ownerOf(uint256 tokenId)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferFrom(address from, address to, uint256 tokenId)', '4');">  &nbsp;&nbsp;&nbsp;- function safeTransferFrom(address fro ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function transferFrom(address from, address to, uint256 tokenId)', '4');">  &nbsp;&nbsp;&nbsp;- function transferFrom(address from, a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function approve(address to, uint256 tokenId)', '4');">  &nbsp;&nbsp;&nbsp;- function approve(address to, uint256  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function getApproved(uint256 tokenId)', '4');">  &nbsp;&nbsp;&nbsp;- function getApproved(uint256 tokenId)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setApprovalForAll(address operator, bool _approved)', '4');">  &nbsp;&nbsp;&nbsp;- function setApprovalForAll(address op ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isApprovedForAll(address owner, address operator)', '4');">  &nbsp;&nbsp;&nbsp;- function isApprovedForAll(address own ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferFrom(address from, address to, uint256 tokenId, bytes calldata data)', '4');">  &nbsp;&nbsp;&nbsp;- function safeTransferFrom(address fro ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_4' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor4' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
// OpenZeppelin Contracts v4.4.1 (token/ERC721/IERC721.sol)

pragma solidity ^0.8.0;

/**
 * @dev Required interface of an ERC721 compliant contract.
 */
interface IERC721 {
    /**
     * @dev Emitted when `tokenId` token is transferred from `from` to `to`.
     */
    event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);

    /**
     * @dev Emitted when `owner` enables `approved` to manage the `tokenId` token.
     */
    event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId);

    /**
     * @dev Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.
     */
    event ApprovalForAll(address indexed owner, address indexed operator, bool approved);

    /**
     * @dev Returns the number of tokens in ``owner``&#39;s account.
     */
    function balanceOf(address owner) external view returns (uint256);

    /**
     * @dev Returns the owner of the `tokenId` token.
     *
     * Requirements:
     *
     * - `tokenId` must exist.
     */
    function ownerOf(uint256 tokenId) external view returns (address);

    /**
     * @dev Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients
     * are aware of the ERC721 protocol to prevent tokens from being forever locked.
     *
     * Requirements:
     *
     * - `from` cannot be the zero address.
     * - `to` cannot be the zero address.
     * - `tokenId` token must exist and be owned by `from`.
     * - If the caller is not `from`, it must be have been allowed to move this token by either {approve} or {setApprovalForAll}.
     * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer.
     *
     * Emits a {Transfer} event.
     */
    function safeTransferFrom(address from, address to, uint256 tokenId) external;

    /**
     * @dev Transfers `tokenId` token from `from` to `to`.
     *
     * WARNING: Usage of this method is discouraged, use {safeTransferFrom} whenever possible.
     *
     * Requirements:
     *
     * - `from` cannot be the zero address.
     * - `to` cannot be the zero address.
     * - `tokenId` token must be owned by `from`.
     * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.
     *
     * Emits a {Transfer} event.
     */
    function transferFrom(address from, address to, uint256 tokenId) external;

    /**
     * @dev Gives permission to `to` to transfer `tokenId` token to another account.
     * The approval is cleared when the token is transferred.
     *
     * Only a single account can be approved at a time, so approving the zero address clears previous approvals.
     *
     * Requirements:
     *
     * - The caller must own the token or be an approved operator.
     * - `tokenId` must exist.
     *
     * Emits an {Approval} event.
     */
    function approve(address to, uint256 tokenId) external;

    /**
     * @dev Returns the account approved for `tokenId` token.
     *
     * Requirements:
     *
     * - `tokenId` must exist.
     */
    function getApproved(uint256 tokenId) external view returns (address);

    /**
     * @dev Approve or remove `operator` as an operator for the caller.
     * Operators can call {transferFrom} or {safeTransferFrom} for any token owned by the caller.
     *
     * Requirements:
     *
     * - The `operator` cannot be the caller.
     *
     * Emits an {ApprovalForAll} event.
     */
    function setApprovalForAll(address operator, bool _approved) external;

    /**
     * @dev Returns if the `operator` is allowed to manage all of the assets of `owner`.
     *
     * See {setApprovalForAll}
     */
    function isApprovedForAll(address owner, address operator) external view returns (bool);

    /**
     * @dev Safely transfers `tokenId` token from `from` to `to`.
     *
     * Requirements:
     *
     * - `from` cannot be the zero address.
     * - `to` cannot be the zero address.
     * - `tokenId` token must exist and be owned by `from`.
     * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.
     * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer.
     *
     * Emits a {Transfer} event.
     */
    function safeTransferFrom(address from, address to, uint256 tokenId, bytes calldata data) external;
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 5 of 15 : ContractMetadata.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 135px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setContractURI(string memory _uri)', '5');">  &nbsp;&nbsp;&nbsp;- function setContractURI(string memory ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _setupContractURI(string memory _uri)', '5');">  &nbsp;&nbsp;&nbsp;- function _setupContractURI(string mem ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _canSetContractURI()', '5');">  &nbsp;&nbsp;&nbsp;- function _canSetContractURI()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_5' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor5' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/// @author thirdweb

import &quot;./interface/IContractMetadata.sol&quot;;

/**
 *  @title   Contract Metadata
 *  @notice  Thirdweb&#39;s `ContractMetadata` is a contract extension for any base contracts. It lets you set a metadata URI
 *           for you contract.
 *           Additionally, `ContractMetadata` is necessary for NFT contracts that want royalties to get distributed on OpenSea.
 */

abstract contract ContractMetadata is IContractMetadata {
    /// @dev The sender is not authorized to perform the action
    error ContractMetadataUnauthorized();

    /// @notice Returns the contract metadata URI.
    string public override contractURI;

    /**
     *  @notice         Lets a contract admin set the URI for contract-level metadata.
     *  @dev            Caller should be authorized to setup contractURI, e.g. contract admin.
     *                  See {_canSetContractURI}.
     *                  Emits {ContractURIUpdated Event}.
     *
     *  @param _uri     keccak256 hash of the role. e.g. keccak256(&quot;TRANSFER_ROLE&quot;)
     */
    function setContractURI(string memory _uri) external override {
        if (!_canSetContractURI()) {
            revert ContractMetadataUnauthorized();
        }

        _setupContractURI(_uri);
    }

    /// @dev Lets a contract admin set the URI for contract-level metadata.
    function _setupContractURI(string memory _uri) internal {
        string memory prevURI = contractURI;
        contractURI = _uri;

        emit ContractURIUpdated(prevURI, _uri);
    }

    /// @dev Returns whether contract metadata can be set in the given execution context.
    function _canSetContractURI() internal view virtual returns (bool);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 6 of 15 : Initializable.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 65px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _disableInitializers()', '6');">  &nbsp;&nbsp;&nbsp;- function _disableInitializers()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_6' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor6' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache 2.0
pragma solidity ^0.8.0;

import &quot;../lib/Address.sol&quot;;

/**
 * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed
 * behind a proxy. Since proxied contracts do not make use of a constructor, it&#39;s common to move constructor logic to an
 * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer
 * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.
 *
 * The initialization functions use a version number. Once a version number is used, it is consumed and cannot be
 * reused. This mechanism prevents re-execution of each &quot;step&quot; but allows the creation of new initialization steps in
 * case an upgrade adds a module that needs to be initialized.
 *
 * For example:
 *
 * [.hljs-theme-light.nopadding]
 * ```
 * contract MyToken is ERC20Upgradeable {
 *     function initialize() initializer public {
 *         __ERC20_init(&quot;MyToken&quot;, &quot;MTK&quot;);
 *     }
 * }
 * contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {
 *     function initializeV2() reinitializer(2) public {
 *         __ERC20Permit_init(&quot;MyToken&quot;);
 *     }
 * }
 * ```
 *
 * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as
 * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.
 *
 * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure
 * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.
 *
 * [CAUTION]
 * ====
 * Avoid leaving a contract uninitialized.
 *
 * An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation
 * contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke
 * the {_disableInitializers} function in the constructor to automatically lock it when it is deployed:
 *
 * [.hljs-theme-light.nopadding]
 * ```
 * /// @custom:oz-upgrades-unsafe-allow constructor
 * constructor() {
 *     _disableInitializers();
 * }
 * ```
 * ====
 */
abstract contract Initializable {
    /**
     * @dev Indicates that the contract has been initialized.
     * @custom:oz-retyped-from bool
     */
    uint8 private _initialized;

    /**
     * @dev Indicates that the contract is in the process of being initialized.
     */
    bool private _initializing;

    /**
     * @dev Triggered when the contract has been initialized or reinitialized.
     */
    event Initialized(uint8 version);

    /**
     * @dev A modifier that defines a protected initializer function that can be invoked at most once. In its scope,
     * `onlyInitializing` functions can be used to initialize parent contracts. Equivalent to `reinitializer(1)`.
     */
    modifier initializer() {
        bool isTopLevelCall = !_initializing;
        require(
            (isTopLevelCall &amp;&amp; _initialized &lt; 1) || (!Address.isContract(address(this)) &amp;&amp; _initialized == 1),
            &quot;Initializable: contract is already initialized&quot;
        );
        _initialized = 1;
        if (isTopLevelCall) {
            _initializing = true;
        }
        _;
        if (isTopLevelCall) {
            _initializing = false;
            emit Initialized(1);
        }
    }

    /**
     * @dev A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the
     * contract hasn&#39;t been initialized to a greater version before. In its scope, `onlyInitializing` functions can be
     * used to initialize parent contracts.
     *
     * `initializer` is equivalent to `reinitializer(1)`, so a reinitializer may be used after the original
     * initialization step. This is essential to configure modules that are added through upgrades and that require
     * initialization.
     *
     * Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in
     * a contract, executing them in the right order is up to the developer or operator.
     */
    modifier reinitializer(uint8 version) {
        require(!_initializing &amp;&amp; _initialized &lt; version, &quot;Initializable: contract is already initialized&quot;);
        _initialized = version;
        _initializing = true;
        _;
        _initializing = false;
        emit Initialized(version);
    }

    /**
     * @dev Modifier to protect an initialization function so that it can only be invoked by functions with the
     * {initializer} and {reinitializer} modifiers, directly or indirectly.
     */
    modifier onlyInitializing() {
        require(_initializing, &quot;Initializable: contract is not initializing&quot;);
        _;
    }

    /**
     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.
     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized
     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called
     * through proxies.
     */
    function _disableInitializers() internal virtual {
        require(!_initializing, &quot;Initializable: contract is initializing&quot;);
        if (_initialized &lt; type(uint8).max) {
            _initialized = type(uint8).max;
            emit Initialized(type(uint8).max);
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 7 of 15 : Ownable.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 160px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function owner()', '7');">  &nbsp;&nbsp;&nbsp;- function owner()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setOwner(address _newOwner)', '7');">  &nbsp;&nbsp;&nbsp;- function setOwner(address _newOwner)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _setupOwner(address _newOwner)', '7');">  &nbsp;&nbsp;&nbsp;- function _setupOwner(address _newOwne ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _canSetOwner()', '7');">  &nbsp;&nbsp;&nbsp;- function _canSetOwner()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_7' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor7' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/// @author thirdweb

import &quot;./interface/IOwnable.sol&quot;;

/**
 *  @title   Ownable
 *  @notice  Thirdweb&#39;s `Ownable` is a contract extension to be used with any base contract. It exposes functions for setting and reading
 *           who the &#39;owner&#39; of the inheriting smart contract is, and lets the inheriting contract perform conditional logic that uses
 *           information about who the contract&#39;s owner is.
 */

abstract contract Ownable is IOwnable {
    /// @dev The sender is not authorized to perform the action
    error OwnableUnauthorized();

    /// @dev Owner of the contract (purpose: OpenSea compatibility)
    address private _owner;

    /// @dev Reverts if caller is not the owner.
    modifier onlyOwner() {
        if (msg.sender != _owner) {
            revert OwnableUnauthorized();
        }
        _;
    }

    /**
     *  @notice Returns the owner of the contract.
     */
    function owner() public view override returns (address) {
        return _owner;
    }

    /**
     *  @notice Lets an authorized wallet set a new owner for the contract.
     *  @param _newOwner The address to set as the new owner of the contract.
     */
    function setOwner(address _newOwner) external override {
        if (!_canSetOwner()) {
            revert OwnableUnauthorized();
        }
        _setupOwner(_newOwner);
    }

    /// @dev Lets a contract admin set a new owner for the contract. The new owner must be a contract admin.
    function _setupOwner(address _newOwner) internal {
        address _prevOwner = _owner;
        _owner = _newOwner;

        emit OwnerUpdated(_prevOwner, _newOwner);
    }

    /// @dev Returns whether owner can be set in the given execution context.
    function _canSetOwner() internal view virtual returns (bool);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 8 of 15 : IContractMetadata.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 135px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('interface IContractMetadata', '8');"><i class="far fa-book-open"></i> <b>interface IContractMetadata</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function contractURI()', '8');">  &nbsp;&nbsp;&nbsp;- function contractURI()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setContractURI(string calldata _uri)', '8');">  &nbsp;&nbsp;&nbsp;- function setContractURI(string callda ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_8' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor8' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/// @author thirdweb

/**
 *  Thirdweb&#39;s `ContractMetadata` is a contract extension for any base contracts. It lets you set a metadata URI
 *  for you contract.
 *
 *  Additionally, `ContractMetadata` is necessary for NFT contracts that want royalties to get distributed on OpenSea.
 */

interface IContractMetadata {
    /// @dev Returns the metadata URI of the contract.
    function contractURI() external view returns (string memory);

    /**
     *  @dev Sets contract URI for the storefront-level metadata of the contract.
     *       Only module admin can call this function.
     */
    function setContractURI(string calldata _uri) external;

    /// @dev Emitted when the contract URI is updated.
    event ContractURIUpdated(string prevURI, string newURI);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 9 of 15 : IOwnable.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 135px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('interface IOwnable', '9');"><i class="far fa-book-open"></i> <b>interface IOwnable</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function owner()', '9');">  &nbsp;&nbsp;&nbsp;- function owner()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function setOwner(address _newOwner)', '9');">  &nbsp;&nbsp;&nbsp;- function setOwner(address _newOwner)</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_9' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor9' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

/// @author thirdweb

/**
 *  Thirdweb&#39;s `Ownable` is a contract extension to be used with any base contract. It exposes functions for setting and reading
 *  who the &#39;owner&#39; of the inheriting smart contract is, and lets the inheriting contract perform conditional logic that uses
 *  information about who the contract&#39;s owner is.
 */

interface IOwnable {
    /// @dev Returns the owner of the contract.
    function owner() external view returns (address);

    /// @dev Lets a module admin set a new owner for the contract. The new owner must be a module admin.
    function setOwner(address _newOwner) external;

    /// @dev Emitted when a new Owner is set.
    event OwnerUpdated(address indexed prevOwner, address indexed newOwner);
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 10 of 15 : Address.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('library Address', '10');"><i class="far fa-book-open"></i> <b>library Address</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isContract(address account)', '10');">  &nbsp;&nbsp;&nbsp;- function isContract(address account)</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function sendValue(address payable recipient, uint256 amount)', '10');">  &nbsp;&nbsp;&nbsp;- function sendValue(address payable re ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionCall(address target, bytes memory data)', '10');">  &nbsp;&nbsp;&nbsp;- function functionCall(address target, ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionCall(', '10');">  &nbsp;&nbsp;&nbsp;- function functionCall(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionCallWithValue(address target, bytes memory data, uint256 value)', '10');">  &nbsp;&nbsp;&nbsp;- function functionCallWithValue(addres ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionCallWithValue(', '10');">  &nbsp;&nbsp;&nbsp;- function functionCallWithValue(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionStaticCall(address target, bytes memory data)', '10');">  &nbsp;&nbsp;&nbsp;- function functionStaticCall(address t ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionStaticCall(', '10');">  &nbsp;&nbsp;&nbsp;- function functionStaticCall(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionDelegateCall(address target, bytes memory data)', '10');">  &nbsp;&nbsp;&nbsp;- function functionDelegateCall(address ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function functionDelegateCall(', '10');">  &nbsp;&nbsp;&nbsp;- function functionDelegateCall(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verifyCallResultFromTarget(', '10');">  &nbsp;&nbsp;&nbsp;- function verifyCallResultFromTarget(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verifyCallResult(', '10');">  &nbsp;&nbsp;&nbsp;- function verifyCallResult(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _revert(bytes memory returndata, string memory errorMessage)', '10');">  &nbsp;&nbsp;&nbsp;- function _revert(bytes memory returnd ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_10' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor10' style='margin-top: 5px;'>// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.1;

/// @author thirdweb, OpenZeppelin Contracts (v4.9.0)

/**
 * @dev Collection of functions related to the address type
 */
library Address {
    /**
     * @dev Returns true if `account` is a contract.
     *
     * [IMPORTANT]
     * ====
     * It is unsafe to assume that an address for which this function returns
     * false is an externally-owned account (EOA) and not a contract.
     *
     * Among others, `isContract` will return false for the following
     * types of addresses:
     *
     *  - an externally-owned account
     *  - a contract in construction
     *  - an address where a contract will be created
     *  - an address where a contract lived, but was destroyed
     *
     * Furthermore, `isContract` will also return true if the target contract within
     * the same transaction is already scheduled for destruction by `SELFDESTRUCT`,
     * which only has an effect at the end of a transaction.
     * ====
     *
     * [IMPORTANT]
     * ====
     * You shouldn&#39;t rely on `isContract` to protect against flash loan attacks!
     *
     * Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets
     * like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract
     * constructor.
     * ====
     */
    function isContract(address account) internal view returns (bool) {
        // This method relies on extcodesize/address.code.length, which returns 0
        // for contracts in construction, since the code is only stored at the end
        // of the constructor execution.

        return account.code.length &gt; 0;
    }

    /**
     * @dev Replacement for Solidity&#39;s `transfer`: sends `amount` wei to
     * `recipient`, forwarding all available gas and reverting on errors.
     *
     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
     * of certain opcodes, possibly making contracts go over the 2300 gas limit
     * imposed by `transfer`, making them unable to receive funds via
     * `transfer`. {sendValue} removes this limitation.
     *
     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].
     *
     * IMPORTANT: because control is transferred to `recipient`, care must be
     * taken to not create reentrancy vulnerabilities. Consider using
     * {ReentrancyGuard} or the
     * https://solidity.readthedocs.io/en/v0.8.0/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].
     */
    function sendValue(address payable recipient, uint256 amount) internal {
        require(address(this).balance &gt;= amount, &quot;Address: insufficient balance&quot;);

        (bool success, ) = recipient.call{ value: amount }(&quot;&quot;);
        require(success, &quot;Address: unable to send value, recipient may have reverted&quot;);
    }

    /**
     * @dev Performs a Solidity function call using a low level `call`. A
     * plain `call` is an unsafe replacement for a function call: use this
     * function instead.
     *
     * If `target` reverts with a revert reason, it is bubbled up by this
     * function (like regular Solidity function calls).
     *
     * Returns the raw returned data. To convert to the expected return value,
     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].
     *
     * Requirements:
     *
     * - `target` must be a contract.
     * - calling `target` with `data` must not revert.
     *
     * _Available since v3.1._
     */
    function functionCall(address target, bytes memory data) internal returns (bytes memory) {
        return functionCallWithValue(target, data, 0, &quot;Address: low-level call failed&quot;);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with
     * `errorMessage` as a fallback revert reason when `target` reverts.
     *
     * _Available since v3.1._
     */
    function functionCall(
        address target,
        bytes memory data,
        string memory errorMessage
    ) internal returns (bytes memory) {
        return functionCallWithValue(target, data, 0, errorMessage);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
     * but also transferring `value` wei to `target`.
     *
     * Requirements:
     *
     * - the calling contract must have an ETH balance of at least `value`.
     * - the called Solidity function must be `payable`.
     *
     * _Available since v3.1._
     */
    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {
        return functionCallWithValue(target, data, value, &quot;Address: low-level call with value failed&quot;);
    }

    /**
     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but
     * with `errorMessage` as a fallback revert reason when `target` reverts.
     *
     * _Available since v3.1._
     */
    function functionCallWithValue(
        address target,
        bytes memory data,
        uint256 value,
        string memory errorMessage
    ) internal returns (bytes memory) {
        require(address(this).balance &gt;= value, &quot;Address: insufficient balance for call&quot;);
        (bool success, bytes memory returndata) = target.call{ value: value }(data);
        return verifyCallResultFromTarget(target, success, returndata, errorMessage);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
     * but performing a static call.
     *
     * _Available since v3.3._
     */
    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {
        return functionStaticCall(target, data, &quot;Address: low-level static call failed&quot;);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
     * but performing a static call.
     *
     * _Available since v3.3._
     */
    function functionStaticCall(
        address target,
        bytes memory data,
        string memory errorMessage
    ) internal view returns (bytes memory) {
        (bool success, bytes memory returndata) = target.staticcall(data);
        return verifyCallResultFromTarget(target, success, returndata, errorMessage);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
     * but performing a delegate call.
     *
     * _Available since v3.4._
     */
    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {
        return functionDelegateCall(target, data, &quot;Address: low-level delegate call failed&quot;);
    }

    /**
     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
     * but performing a delegate call.
     *
     * _Available since v3.4._
     */
    function functionDelegateCall(
        address target,
        bytes memory data,
        string memory errorMessage
    ) internal returns (bytes memory) {
        (bool success, bytes memory returndata) = target.delegatecall(data);
        return verifyCallResultFromTarget(target, success, returndata, errorMessage);
    }

    /**
     * @dev Tool to verify that a low level call to smart-contract was successful, and revert (either by bubbling
     * the revert reason or using the provided one) in case of unsuccessful call or if target was not a contract.
     *
     * _Available since v4.8._
     */
    function verifyCallResultFromTarget(
        address target,
        bool success,
        bytes memory returndata,
        string memory errorMessage
    ) internal view returns (bytes memory) {
        if (success) {
            if (returndata.length == 0) {
                // only check isContract if the call was successful and the return data is empty
                // otherwise we already know that it was a contract
                require(isContract(target), &quot;Address: call to non-contract&quot;);
            }
            return returndata;
        } else {
            _revert(returndata, errorMessage);
        }
    }

    /**
     * @dev Tool to verify that a low level call was successful, and revert if it wasn&#39;t, either by bubbling the
     * revert reason or using the provided one.
     *
     * _Available since v4.3._
     */
    function verifyCallResult(
        bool success,
        bytes memory returndata,
        string memory errorMessage
    ) internal pure returns (bytes memory) {
        if (success) {
            return returndata;
        } else {
            _revert(returndata, errorMessage);
        }
    }

    function _revert(bytes memory returndata, string memory errorMessage) private pure {
        // Look for revert reason and bubble it up if present
        if (returndata.length &gt; 0) {
            // The easiest way to bubble the revert reason is using memory via assembly
            /// @solidity memory-safe-assembly
            assembly {
                let returndata_size := mload(returndata)
                revert(add(32, returndata), returndata_size)
            }
        } else {
            revert(errorMessage);
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 11 of 15 : ECDSA.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('library ECDSA', '11');"><i class="far fa-book-open"></i> <b>library ECDSA</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function recover(bytes32 hash, bytes memory signature)', '11');">  &nbsp;&nbsp;&nbsp;- function recover(bytes32 hash, bytes  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function recoverCalldata(bytes32 hash, bytes calldata signature)', '11');">  &nbsp;&nbsp;&nbsp;- function recoverCalldata(bytes32 hash ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function recover(bytes32 hash, bytes32 r, bytes32 vs)', '11');">  &nbsp;&nbsp;&nbsp;- function recover(bytes32 hash, bytes3 ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function recover(bytes32 hash, uint8 v, bytes32 r, bytes32 s)', '11');">  &nbsp;&nbsp;&nbsp;- function recover(bytes32 hash, uint8  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function tryRecover(bytes32 hash, bytes memory signature)', '11');">  &nbsp;&nbsp;&nbsp;- function tryRecover(bytes32 hash, byt ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function tryRecoverCalldata(bytes32 hash, bytes calldata signature)', '11');">  &nbsp;&nbsp;&nbsp;- function tryRecoverCalldata(bytes32 h ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function tryRecover(bytes32 hash, bytes32 r, bytes32 vs)', '11');">  &nbsp;&nbsp;&nbsp;- function tryRecover(bytes32 hash, byt ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function tryRecover(bytes32 hash, uint8 v, bytes32 r, bytes32 s)', '11');">  &nbsp;&nbsp;&nbsp;- function tryRecover(bytes32 hash, uin ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function toEthSignedMessageHash(bytes32 hash)', '11');">  &nbsp;&nbsp;&nbsp;- function toEthSignedMessageHash(bytes ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function toEthSignedMessageHash(bytes memory s)', '11');">  &nbsp;&nbsp;&nbsp;- function toEthSignedMessageHash(bytes ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function emptySignature()', '11');">  &nbsp;&nbsp;&nbsp;- function emptySignature()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_11' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor11' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice Gas optimized ECDSA wrapper.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/ECDSA.sol)
/// @author Modified from Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/ECDSA.sol)
/// @author Modified from OpenZeppelin (https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/ECDSA.sol)
///
/// @dev Note:
/// - The recovery functions use the ecrecover precompile (0x1).
/// - As of Solady version 0.0.68, the `recover` variants will revert upon recovery failure.
///   This is for more safety by default.
///   Use the `tryRecover` variants if you need to get the zero address back
///   upon recovery failure instead.
/// - As of Solady version 0.0.134, all `bytes signature` variants accept both
///   regular 65-byte `(r, s, v)` and EIP-2098 `(r, vs)` short form signatures.
///   See: https://eips.ethereum.org/EIPS/eip-2098
///   This is for calldata efficiency on smart accounts prevalent on L2s.
///
/// WARNING! Do NOT use signatures as unique identifiers:
/// - Use a nonce in the digest to prevent replay attacks on the same contract.
/// - Use EIP-712 for the digest to prevent replay attacks across different chains and contracts.
///   EIP-712 also enables readable signing of typed data for better user safety.
/// This implementation does NOT check if a signature is non-malleable.
library ECDSA {
    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                        CUSTOM ERRORS                       */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev The signature is invalid.
    error InvalidSignature();

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                    RECOVERY OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Recovers the signer&#39;s address from a message digest `hash`, and the `signature`.
    function recover(bytes32 hash, bytes memory signature) internal view returns (address result) {
        /// @solidity memory-safe-assembly
        assembly {
            result := 1
            let m := mload(0x40) // Cache the free memory pointer.
            for {} 1 {} {
                mstore(0x00, hash)
                mstore(0x40, mload(add(signature, 0x20))) // `r`.
                if eq(mload(signature), 64) {
                    let vs := mload(add(signature, 0x40))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    break
                }
                if eq(mload(signature), 65) {
                    mstore(0x20, byte(0, mload(add(signature, 0x60)))) // `v`.
                    mstore(0x60, mload(add(signature, 0x40))) // `s`.
                    break
                }
                result := 0
                break
            }
            result :=
                mload(
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        result, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                )
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            if iszero(returndatasize()) {
                mstore(0x00, 0x8baa579f) // `InvalidSignature()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`, and the `signature`.
    function recoverCalldata(bytes32 hash, bytes calldata signature)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            result := 1
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            for {} 1 {} {
                if eq(signature.length, 64) {
                    let vs := calldataload(add(signature.offset, 0x20))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x40, calldataload(signature.offset)) // `r`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    break
                }
                if eq(signature.length, 65) {
                    mstore(0x20, byte(0, calldataload(add(signature.offset, 0x40)))) // `v`.
                    calldatacopy(0x40, signature.offset, 0x40) // Copy `r` and `s`.
                    break
                }
                result := 0
                break
            }
            result :=
                mload(
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        result, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                )
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            if iszero(returndatasize()) {
                mstore(0x00, 0x8baa579f) // `InvalidSignature()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`,
    /// and the EIP-2098 short form signature defined by `r` and `vs`.
    function recover(bytes32 hash, bytes32 r, bytes32 vs) internal view returns (address result) {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            mstore(0x20, add(shr(255, vs), 27)) // `v`.
            mstore(0x40, r)
            mstore(0x60, shr(1, shl(1, vs))) // `s`.
            result :=
                mload(
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        1, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                )
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            if iszero(returndatasize()) {
                mstore(0x00, 0x8baa579f) // `InvalidSignature()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`,
    /// and the signature defined by `v`, `r`, `s`.
    function recover(bytes32 hash, uint8 v, bytes32 r, bytes32 s)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            mstore(0x20, and(v, 0xff))
            mstore(0x40, r)
            mstore(0x60, s)
            result :=
                mload(
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        1, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                )
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            if iszero(returndatasize()) {
                mstore(0x00, 0x8baa579f) // `InvalidSignature()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                   TRY-RECOVER OPERATIONS                   */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    // WARNING!
    // These functions will NOT revert upon recovery failure.
    // Instead, they will return the zero address upon recovery failure.
    // It is critical that the returned address is NEVER compared against
    // a zero address (e.g. an uninitialized address variable).

    /// @dev Recovers the signer&#39;s address from a message digest `hash`, and the `signature`.
    function tryRecover(bytes32 hash, bytes memory signature)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            result := 1
            let m := mload(0x40) // Cache the free memory pointer.
            for {} 1 {} {
                mstore(0x00, hash)
                mstore(0x40, mload(add(signature, 0x20))) // `r`.
                if eq(mload(signature), 64) {
                    let vs := mload(add(signature, 0x40))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    break
                }
                if eq(mload(signature), 65) {
                    mstore(0x20, byte(0, mload(add(signature, 0x60)))) // `v`.
                    mstore(0x60, mload(add(signature, 0x40))) // `s`.
                    break
                }
                result := 0
                break
            }
            pop(
                staticcall(
                    gas(), // Amount of gas left for the transaction.
                    result, // Address of `ecrecover`.
                    0x00, // Start of input.
                    0x80, // Size of input.
                    0x40, // Start of output.
                    0x20 // Size of output.
                )
            )
            mstore(0x60, 0) // Restore the zero slot.
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            result := mload(xor(0x60, returndatasize()))
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`, and the `signature`.
    function tryRecoverCalldata(bytes32 hash, bytes calldata signature)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            result := 1
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            for {} 1 {} {
                if eq(signature.length, 64) {
                    let vs := calldataload(add(signature.offset, 0x20))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x40, calldataload(signature.offset)) // `r`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    break
                }
                if eq(signature.length, 65) {
                    mstore(0x20, byte(0, calldataload(add(signature.offset, 0x40)))) // `v`.
                    calldatacopy(0x40, signature.offset, 0x40) // Copy `r` and `s`.
                    break
                }
                result := 0
                break
            }
            pop(
                staticcall(
                    gas(), // Amount of gas left for the transaction.
                    result, // Address of `ecrecover`.
                    0x00, // Start of input.
                    0x80, // Size of input.
                    0x40, // Start of output.
                    0x20 // Size of output.
                )
            )
            mstore(0x60, 0) // Restore the zero slot.
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            result := mload(xor(0x60, returndatasize()))
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`,
    /// and the EIP-2098 short form signature defined by `r` and `vs`.
    function tryRecover(bytes32 hash, bytes32 r, bytes32 vs)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            mstore(0x20, add(shr(255, vs), 27)) // `v`.
            mstore(0x40, r)
            mstore(0x60, shr(1, shl(1, vs))) // `s`.
            pop(
                staticcall(
                    gas(), // Amount of gas left for the transaction.
                    1, // Address of `ecrecover`.
                    0x00, // Start of input.
                    0x80, // Size of input.
                    0x40, // Start of output.
                    0x20 // Size of output.
                )
            )
            mstore(0x60, 0) // Restore the zero slot.
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            result := mload(xor(0x60, returndatasize()))
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Recovers the signer&#39;s address from a message digest `hash`,
    /// and the signature defined by `v`, `r`, `s`.
    function tryRecover(bytes32 hash, uint8 v, bytes32 r, bytes32 s)
        internal
        view
        returns (address result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x00, hash)
            mstore(0x20, and(v, 0xff))
            mstore(0x40, r)
            mstore(0x60, s)
            pop(
                staticcall(
                    gas(), // Amount of gas left for the transaction.
                    1, // Address of `ecrecover`.
                    0x00, // Start of input.
                    0x80, // Size of input.
                    0x40, // Start of output.
                    0x20 // Size of output.
                )
            )
            mstore(0x60, 0) // Restore the zero slot.
            // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
            result := mload(xor(0x60, returndatasize()))
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                     HASHING OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns an Ethereum Signed Message, created from a `hash`.
    /// This produces a hash corresponding to the one signed with the
    /// [`eth_sign`](https://eth.wiki/json-rpc/API#eth_sign)
    /// JSON-RPC method as part of EIP-191.
    function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32 result) {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x20, hash) // Store into scratch space for keccak256.
            mstore(0x00, &quot;\x00\x00\x00\x00\x19Ethereum Signed Message:\n32&quot;) // 28 bytes.
            result := keccak256(0x04, 0x3c) // `32 * 2 - (32 - 28) = 60 = 0x3c`.
        }
    }

    /// @dev Returns an Ethereum Signed Message, created from `s`.
    /// This produces a hash corresponding to the one signed with the
    /// [`eth_sign`](https://eth.wiki/json-rpc/API#eth_sign)
    /// JSON-RPC method as part of EIP-191.
    /// Note: Supports lengths of `s` up to 999999 bytes.
    function toEthSignedMessageHash(bytes memory s) internal pure returns (bytes32 result) {
        /// @solidity memory-safe-assembly
        assembly {
            let sLength := mload(s)
            let o := 0x20
            mstore(o, &quot;\x19Ethereum Signed Message:\n&quot;) // 26 bytes, zero-right-padded.
            mstore(0x00, 0x00)
            // Convert the `s.length` to ASCII decimal representation: `base10(s.length)`.
            for { let temp := sLength } 1 {} {
                o := sub(o, 1)
                mstore8(o, add(48, mod(temp, 10)))
                temp := div(temp, 10)
                if iszero(temp) { break }
            }
            let n := sub(0x3a, o) // Header length: `26 + 32 - o`.
            // Throw an out-of-offset error (consumes all gas) if the header exceeds 32 bytes.
            returndatacopy(returndatasize(), returndatasize(), gt(n, 0x20))
            mstore(s, or(mload(0x00), mload(n))) // Temporarily store the header.
            result := keccak256(add(s, sub(0x20, n)), add(n, sLength))
            mstore(s, sLength) // Restore the length.
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                   EMPTY CALLDATA HELPERS                   */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns an empty calldata bytes.
    function emptySignature() internal pure returns (bytes calldata signature) {
        /// @solidity memory-safe-assembly
        assembly {
            signature.length := 0
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 12 of 15 : EIP712.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 280px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _domainNameAndVersion()', '12');">  &nbsp;&nbsp;&nbsp;- function _domainNameAndVersion()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _domainNameAndVersionMayChange()', '12');">  &nbsp;&nbsp;&nbsp;- function _domainNameAndVersionMayChan ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _domainSeparator()', '12');">  &nbsp;&nbsp;&nbsp;- function _domainSeparator()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _hashTypedData(bytes32 structHash)', '12');">  &nbsp;&nbsp;&nbsp;- function _hashTypedData(bytes32 struc ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function eip712Domain()', '12');">  &nbsp;&nbsp;&nbsp;- function eip712Domain()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _buildDomainSeparator()', '12');">  &nbsp;&nbsp;&nbsp;- function _buildDomainSeparator()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function _cachedDomainSeparatorInvalidated()', '12');">  &nbsp;&nbsp;&nbsp;- function _cachedDomainSeparatorInvali ...</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_12' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor12' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice Contract for EIP-712 typed structured data hashing and signing.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/EIP712.sol)
/// @author Modified from Solbase (https://github.com/Sol-DAO/solbase/blob/main/src/utils/EIP712.sol)
/// @author Modified from OpenZeppelin (https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/EIP712.sol)
///
/// @dev Note, this implementation:
/// - Uses `address(this)` for the `verifyingContract` field.
/// - Does NOT use the optional EIP-712 salt.
/// - Does NOT use any EIP-712 extensions.
/// This is for simplicity and to save gas.
/// If you need to customize, please fork / modify accordingly.
abstract contract EIP712 {
    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                  CONSTANTS AND IMMUTABLES                  */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev `keccak256(&quot;EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)&quot;)`.
    bytes32 internal constant _DOMAIN_TYPEHASH =
        0x8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f;

    uint256 private immutable _cachedThis;
    uint256 private immutable _cachedChainId;
    bytes32 private immutable _cachedNameHash;
    bytes32 private immutable _cachedVersionHash;
    bytes32 private immutable _cachedDomainSeparator;

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                        CONSTRUCTOR                         */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Cache the hashes for cheaper runtime gas costs.
    /// In the case of upgradeable contracts (i.e. proxies),
    /// or if the chain id changes due to a hard fork,
    /// the domain separator will be seamlessly calculated on-the-fly.
    constructor() {
        _cachedThis = uint256(uint160(address(this)));
        _cachedChainId = block.chainid;

        string memory name;
        string memory version;
        if (!_domainNameAndVersionMayChange()) (name, version) = _domainNameAndVersion();
        bytes32 nameHash = _domainNameAndVersionMayChange() ? bytes32(0) : keccak256(bytes(name));
        bytes32 versionHash =
            _domainNameAndVersionMayChange() ? bytes32(0) : keccak256(bytes(version));
        _cachedNameHash = nameHash;
        _cachedVersionHash = versionHash;

        bytes32 separator;
        if (!_domainNameAndVersionMayChange()) {
            /// @solidity memory-safe-assembly
            assembly {
                let m := mload(0x40) // Load the free memory pointer.
                mstore(m, _DOMAIN_TYPEHASH)
                mstore(add(m, 0x20), nameHash)
                mstore(add(m, 0x40), versionHash)
                mstore(add(m, 0x60), chainid())
                mstore(add(m, 0x80), address())
                separator := keccak256(m, 0xa0)
            }
        }
        _cachedDomainSeparator = separator;
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                   FUNCTIONS TO OVERRIDE                    */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Please override this function to return the domain name and version.
    /// ```
    ///     function _domainNameAndVersion()
    ///         internal
    ///         pure
    ///         virtual
    ///         returns (string memory name, string memory version)
    ///     {
    ///         name = &quot;Solady&quot;;
    ///         version = &quot;1&quot;;
    ///     }
    /// ```
    ///
    /// Note: If the returned result may change after the contract has been deployed,
    /// you must override `_domainNameAndVersionMayChange()` to return true.
    function _domainNameAndVersion()
        internal
        view
        virtual
        returns (string memory name, string memory version);

    /// @dev Returns if `_domainNameAndVersion()` may change
    /// after the contract has been deployed (i.e. after the constructor).
    /// Default: false.
    function _domainNameAndVersionMayChange() internal pure virtual returns (bool result) {}

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                     HASHING OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns the EIP-712 domain separator.
    function _domainSeparator() internal view virtual returns (bytes32 separator) {
        if (_domainNameAndVersionMayChange()) {
            separator = _buildDomainSeparator();
        } else {
            separator = _cachedDomainSeparator;
            if (_cachedDomainSeparatorInvalidated()) separator = _buildDomainSeparator();
        }
    }

    /// @dev Returns the hash of the fully encoded EIP-712 message for this domain,
    /// given `structHash`, as defined in
    /// https://eips.ethereum.org/EIPS/eip-712#definition-of-hashstruct.
    ///
    /// The hash can be used together with {ECDSA-recover} to obtain the signer of a message:
    /// ```
    ///     bytes32 digest = _hashTypedData(keccak256(abi.encode(
    ///         keccak256(&quot;Mail(address to,string contents)&quot;),
    ///         mailTo,
    ///         keccak256(bytes(mailContents))
    ///     )));
    ///     address signer = ECDSA.recover(digest, signature);
    /// ```
    function _hashTypedData(bytes32 structHash) internal view virtual returns (bytes32 digest) {
        // We will use `digest` to store the domain separator to save a bit of gas.
        if (_domainNameAndVersionMayChange()) {
            digest = _buildDomainSeparator();
        } else {
            digest = _cachedDomainSeparator;
            if (_cachedDomainSeparatorInvalidated()) digest = _buildDomainSeparator();
        }
        /// @solidity memory-safe-assembly
        assembly {
            // Compute the digest.
            mstore(0x00, 0x1901000000000000) // Store &quot;\x19\x01&quot;.
            mstore(0x1a, digest) // Store the domain separator.
            mstore(0x3a, structHash) // Store the struct hash.
            digest := keccak256(0x18, 0x42)
            // Restore the part of the free memory slot that was overwritten.
            mstore(0x3a, 0)
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                    EIP-5267 OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev See: https://eips.ethereum.org/EIPS/eip-5267
    function eip712Domain()
        public
        view
        virtual
        returns (
            bytes1 fields,
            string memory name,
            string memory version,
            uint256 chainId,
            address verifyingContract,
            bytes32 salt,
            uint256[] memory extensions
        )
    {
        fields = hex&quot;0f&quot;; // `0b01111`.
        (name, version) = _domainNameAndVersion();
        chainId = block.chainid;
        verifyingContract = address(this);
        salt = salt; // `bytes32(0)`.
        extensions = extensions; // `new uint256[](0)`.
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                      PRIVATE HELPERS                       */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns the EIP-712 domain separator.
    function _buildDomainSeparator() private view returns (bytes32 separator) {
        // We will use `separator` to store the name hash to save a bit of gas.
        bytes32 versionHash;
        if (_domainNameAndVersionMayChange()) {
            (string memory name, string memory version) = _domainNameAndVersion();
            separator = keccak256(bytes(name));
            versionHash = keccak256(bytes(version));
        } else {
            separator = _cachedNameHash;
            versionHash = _cachedVersionHash;
        }
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Load the free memory pointer.
            mstore(m, _DOMAIN_TYPEHASH)
            mstore(add(m, 0x20), separator) // Name hash.
            mstore(add(m, 0x40), versionHash)
            mstore(add(m, 0x60), chainid())
            mstore(add(m, 0x80), address())
            separator := keccak256(m, 0xa0)
        }
    }

    /// @dev Returns if the cached domain separator has been invalidated.
    function _cachedDomainSeparatorInvalidated() private view returns (bool result) {
        uint256 cachedChainId = _cachedChainId;
        uint256 cachedThis = _cachedThis;
        /// @solidity memory-safe-assembly
        assembly {
            result := iszero(and(eq(chainid(), cachedChainId), eq(address(), cachedThis)))
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 13 of 15 : MerkleProofLib.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('library MerkleProofLib', '13');"><i class="far fa-book-open"></i> <b>library MerkleProofLib</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verify(bytes32[] memory proof, bytes32 root, bytes32 leaf)', '13');">  &nbsp;&nbsp;&nbsp;- function verify(bytes32[] memory proo ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verifyCalldata(bytes32[] calldata proof, bytes32 root, bytes32 leaf)', '13');">  &nbsp;&nbsp;&nbsp;- function verifyCalldata(bytes32[] cal ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verifyMultiProof(', '13');">  &nbsp;&nbsp;&nbsp;- function verifyMultiProof(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function verifyMultiProofCalldata(', '13');">  &nbsp;&nbsp;&nbsp;- function verifyMultiProofCalldata(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function emptyProof()', '13');">  &nbsp;&nbsp;&nbsp;- function emptyProof()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function emptyLeaves()', '13');">  &nbsp;&nbsp;&nbsp;- function emptyLeaves()</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function emptyFlags()', '13');">  &nbsp;&nbsp;&nbsp;- function emptyFlags()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_13' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor13' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice Gas optimized verification of proof of inclusion for a leaf in a Merkle tree.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/MerkleProofLib.sol)
/// @author Modified from Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/MerkleProofLib.sol)
/// @author Modified from OpenZeppelin (https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/MerkleProof.sol)
library MerkleProofLib {
    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*            MERKLE PROOF VERIFICATION OPERATIONS            */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns whether `leaf` exists in the Merkle tree with `root`, given `proof`.
    function verify(bytes32[] memory proof, bytes32 root, bytes32 leaf)
        internal
        pure
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            if mload(proof) {
                // Initialize `offset` to the offset of `proof` elements in memory.
                let offset := add(proof, 0x20)
                // Left shift by 5 is equivalent to multiplying by 0x20.
                let end := add(offset, shl(5, mload(proof)))
                // Iterate over proof elements to compute root hash.
                for {} 1 {} {
                    // Slot of `leaf` in scratch space.
                    // If the condition is true: 0x20, otherwise: 0x00.
                    let scratch := shl(5, gt(leaf, mload(offset)))
                    // Store elements to hash contiguously in scratch space.
                    // Scratch space is 64 bytes (0x00 - 0x3f) and both elements are 32 bytes.
                    mstore(scratch, leaf)
                    mstore(xor(scratch, 0x20), mload(offset))
                    // Reuse `leaf` to store the hash to reduce stack operations.
                    leaf := keccak256(0x00, 0x40)
                    offset := add(offset, 0x20)
                    if iszero(lt(offset, end)) { break }
                }
            }
            isValid := eq(leaf, root)
        }
    }

    /// @dev Returns whether `leaf` exists in the Merkle tree with `root`, given `proof`.
    function verifyCalldata(bytes32[] calldata proof, bytes32 root, bytes32 leaf)
        internal
        pure
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            if proof.length {
                // Left shift by 5 is equivalent to multiplying by 0x20.
                let end := add(proof.offset, shl(5, proof.length))
                // Initialize `offset` to the offset of `proof` in the calldata.
                let offset := proof.offset
                // Iterate over proof elements to compute root hash.
                for {} 1 {} {
                    // Slot of `leaf` in scratch space.
                    // If the condition is true: 0x20, otherwise: 0x00.
                    let scratch := shl(5, gt(leaf, calldataload(offset)))
                    // Store elements to hash contiguously in scratch space.
                    // Scratch space is 64 bytes (0x00 - 0x3f) and both elements are 32 bytes.
                    mstore(scratch, leaf)
                    mstore(xor(scratch, 0x20), calldataload(offset))
                    // Reuse `leaf` to store the hash to reduce stack operations.
                    leaf := keccak256(0x00, 0x40)
                    offset := add(offset, 0x20)
                    if iszero(lt(offset, end)) { break }
                }
            }
            isValid := eq(leaf, root)
        }
    }

    /// @dev Returns whether all `leaves` exist in the Merkle tree with `root`,
    /// given `proof` and `flags`.
    ///
    /// Note:
    /// - Breaking the invariant `flags.length == (leaves.length - 1) + proof.length`
    ///   will always return false.
    /// - The sum of the lengths of `proof` and `leaves` must never overflow.
    /// - Any non-zero word in the `flags` array is treated as true.
    /// - The memory offset of `proof` must be non-zero
    ///   (i.e. `proof` is not pointing to the scratch space).
    function verifyMultiProof(
        bytes32[] memory proof,
        bytes32 root,
        bytes32[] memory leaves,
        bool[] memory flags
    ) internal pure returns (bool isValid) {
        // Rebuilds the root by consuming and producing values on a queue.
        // The queue starts with the `leaves` array, and goes into a `hashes` array.
        // After the process, the last element on the queue is verified
        // to be equal to the `root`.
        //
        // The `flags` array denotes whether the sibling
        // should be popped from the queue (`flag == true`), or
        // should be popped from the `proof` (`flag == false`).
        /// @solidity memory-safe-assembly
        assembly {
            // Cache the lengths of the arrays.
            let leavesLength := mload(leaves)
            let proofLength := mload(proof)
            let flagsLength := mload(flags)

            // Advance the pointers of the arrays to point to the data.
            leaves := add(0x20, leaves)
            proof := add(0x20, proof)
            flags := add(0x20, flags)

            // If the number of flags is correct.
            for {} eq(add(leavesLength, proofLength), add(flagsLength, 1)) {} {
                // For the case where `proof.length + leaves.length == 1`.
                if iszero(flagsLength) {
                    // `isValid = (proof.length == 1 ? proof[0] : leaves[0]) == root`.
                    isValid := eq(mload(xor(leaves, mul(xor(proof, leaves), proofLength))), root)
                    break
                }

                // The required final proof offset if `flagsLength` is not zero, otherwise zero.
                let proofEnd := add(proof, shl(5, proofLength))
                // We can use the free memory space for the queue.
                // We don&#39;t need to allocate, since the queue is temporary.
                let hashesFront := mload(0x40)
                // Copy the leaves into the hashes.
                // Sometimes, a little memory expansion costs less than branching.
                // Should cost less, even with a high free memory offset of 0x7d00.
                leavesLength := shl(5, leavesLength)
                for { let i := 0 } iszero(eq(i, leavesLength)) { i := add(i, 0x20) } {
                    mstore(add(hashesFront, i), mload(add(leaves, i)))
                }
                // Compute the back of the hashes.
                let hashesBack := add(hashesFront, leavesLength)
                // This is the end of the memory for the queue.
                // We recycle `flagsLength` to save on stack variables (sometimes save gas).
                flagsLength := add(hashesBack, shl(5, flagsLength))

                for {} 1 {} {
                    // Pop from `hashes`.
                    let a := mload(hashesFront)
                    // Pop from `hashes`.
                    let b := mload(add(hashesFront, 0x20))
                    hashesFront := add(hashesFront, 0x40)

                    // If the flag is false, load the next proof,
                    // else, pops from the queue.
                    if iszero(mload(flags)) {
                        // Loads the next proof.
                        b := mload(proof)
                        proof := add(proof, 0x20)
                        // Unpop from `hashes`.
                        hashesFront := sub(hashesFront, 0x20)
                    }

                    // Advance to the next flag.
                    flags := add(flags, 0x20)

                    // Slot of `a` in scratch space.
                    // If the condition is true: 0x20, otherwise: 0x00.
                    let scratch := shl(5, gt(a, b))
                    // Hash the scratch space and push the result onto the queue.
                    mstore(scratch, a)
                    mstore(xor(scratch, 0x20), b)
                    mstore(hashesBack, keccak256(0x00, 0x40))
                    hashesBack := add(hashesBack, 0x20)
                    if iszero(lt(hashesBack, flagsLength)) { break }
                }
                isValid :=
                    and(
                        // Checks if the last value in the queue is same as the root.
                        eq(mload(sub(hashesBack, 0x20)), root),
                        // And whether all the proofs are used, if required.
                        eq(proofEnd, proof)
                    )
                break
            }
        }
    }

    /// @dev Returns whether all `leaves` exist in the Merkle tree with `root`,
    /// given `proof` and `flags`.
    ///
    /// Note:
    /// - Breaking the invariant `flags.length == (leaves.length - 1) + proof.length`
    ///   will always return false.
    /// - Any non-zero word in the `flags` array is treated as true.
    /// - The calldata offset of `proof` must be non-zero
    ///   (i.e. `proof` is from a regular Solidity function with a 4-byte selector).
    function verifyMultiProofCalldata(
        bytes32[] calldata proof,
        bytes32 root,
        bytes32[] calldata leaves,
        bool[] calldata flags
    ) internal pure returns (bool isValid) {
        // Rebuilds the root by consuming and producing values on a queue.
        // The queue starts with the `leaves` array, and goes into a `hashes` array.
        // After the process, the last element on the queue is verified
        // to be equal to the `root`.
        //
        // The `flags` array denotes whether the sibling
        // should be popped from the queue (`flag == true`), or
        // should be popped from the `proof` (`flag == false`).
        /// @solidity memory-safe-assembly
        assembly {
            // If the number of flags is correct.
            for {} eq(add(leaves.length, proof.length), add(flags.length, 1)) {} {
                // For the case where `proof.length + leaves.length == 1`.
                if iszero(flags.length) {
                    // `isValid = (proof.length == 1 ? proof[0] : leaves[0]) == root`.
                    // forgefmt: disable-next-item
                    isValid := eq(
                        calldataload(
                            xor(leaves.offset, mul(xor(proof.offset, leaves.offset), proof.length))
                        ),
                        root
                    )
                    break
                }

                // The required final proof offset if `flagsLength` is not zero, otherwise zero.
                let proofEnd := add(proof.offset, shl(5, proof.length))
                // We can use the free memory space for the queue.
                // We don&#39;t need to allocate, since the queue is temporary.
                let hashesFront := mload(0x40)
                // Copy the leaves into the hashes.
                // Sometimes, a little memory expansion costs less than branching.
                // Should cost less, even with a high free memory offset of 0x7d00.
                calldatacopy(hashesFront, leaves.offset, shl(5, leaves.length))
                // Compute the back of the hashes.
                let hashesBack := add(hashesFront, shl(5, leaves.length))
                // This is the end of the memory for the queue.
                // We recycle `flagsLength` to save on stack variables (sometimes save gas).
                flags.length := add(hashesBack, shl(5, flags.length))

                // We don&#39;t need to make a copy of `proof.offset` or `flags.offset`,
                // as they are pass-by-value (this trick may not always save gas).

                for {} 1 {} {
                    // Pop from `hashes`.
                    let a := mload(hashesFront)
                    // Pop from `hashes`.
                    let b := mload(add(hashesFront, 0x20))
                    hashesFront := add(hashesFront, 0x40)

                    // If the flag is false, load the next proof,
                    // else, pops from the queue.
                    if iszero(calldataload(flags.offset)) {
                        // Loads the next proof.
                        b := calldataload(proof.offset)
                        proof.offset := add(proof.offset, 0x20)
                        // Unpop from `hashes`.
                        hashesFront := sub(hashesFront, 0x20)
                    }

                    // Advance to the next flag offset.
                    flags.offset := add(flags.offset, 0x20)

                    // Slot of `a` in scratch space.
                    // If the condition is true: 0x20, otherwise: 0x00.
                    let scratch := shl(5, gt(a, b))
                    // Hash the scratch space and push the result onto the queue.
                    mstore(scratch, a)
                    mstore(xor(scratch, 0x20), b)
                    mstore(hashesBack, keccak256(0x00, 0x40))
                    hashesBack := add(hashesBack, 0x20)
                    if iszero(lt(hashesBack, flags.length)) { break }
                }
                isValid :=
                    and(
                        // Checks if the last value in the queue is same as the root.
                        eq(mload(sub(hashesBack, 0x20)), root),
                        // And whether all the proofs are used, if required.
                        eq(proofEnd, proof.offset)
                    )
                break
            }
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                   EMPTY CALLDATA HELPERS                   */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns an empty calldata bytes32 array.
    function emptyProof() internal pure returns (bytes32[] calldata proof) {
        /// @solidity memory-safe-assembly
        assembly {
            proof.length := 0
        }
    }

    /// @dev Returns an empty calldata bytes32 array.
    function emptyLeaves() internal pure returns (bytes32[] calldata leaves) {
        /// @solidity memory-safe-assembly
        assembly {
            leaves.length := 0
        }
    }

    /// @dev Returns an empty calldata bool array.
    function emptyFlags() internal pure returns (bool[] calldata flags) {
        /// @solidity memory-safe-assembly
        assembly {
            flags.length := 0
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 14 of 15 : SafeTransferLib.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('library SafeTransferLib', '14');"><i class="far fa-book-open"></i> <b>library SafeTransferLib</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferETH(address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferETH(address to,  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferAllETH(address to)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferAllETH(address t ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function forceSafeTransferETH(address to, uint256 amount, uint256 gasStipend)', '14');">  &nbsp;&nbsp;&nbsp;- function forceSafeTransferETH(address ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function forceSafeTransferAllETH(address to, uint256 gasStipend)', '14');">  &nbsp;&nbsp;&nbsp;- function forceSafeTransferAllETH(addr ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function forceSafeTransferETH(address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function forceSafeTransferETH(address ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function forceSafeTransferAllETH(address to)', '14');">  &nbsp;&nbsp;&nbsp;- function forceSafeTransferAllETH(addr ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function trySafeTransferETH(address to, uint256 amount, uint256 gasStipend)', '14');">  &nbsp;&nbsp;&nbsp;- function trySafeTransferETH(address t ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function trySafeTransferAllETH(address to, uint256 gasStipend)', '14');">  &nbsp;&nbsp;&nbsp;- function trySafeTransferAllETH(addres ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferFrom(address token, address from, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferFrom(address tok ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function trySafeTransferFrom(address token, address from, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function trySafeTransferFrom(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferAllFrom(address token, address from, address to)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferAllFrom(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransfer(address token, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransfer(address token,  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferAll(address token, address to)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferAll(address toke ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeApprove(address token, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeApprove(address token, a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeApproveWithRetry(address token, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeApproveWithRetry(address ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function balanceOf(address token, address account)', '14');">  &nbsp;&nbsp;&nbsp;- function balanceOf(address token, add ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function safeTransferFrom2(address token, address from, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function safeTransferFrom2(address to ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function permit2TransferFrom(address token, address from, address to, uint256 amount)', '14');">  &nbsp;&nbsp;&nbsp;- function permit2TransferFrom(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function permit2(', '14');">  &nbsp;&nbsp;&nbsp;- function permit2(</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function simplePermit2(', '14');">  &nbsp;&nbsp;&nbsp;- function simplePermit2(</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_14' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor14' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice Safe ETH and ERC20 transfer library that gracefully handles missing return values.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/SafeTransferLib.sol)
/// @author Modified from Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/SafeTransferLib.sol)
/// @author Permit2 operations from (https://github.com/Uniswap/permit2/blob/main/src/libraries/Permit2Lib.sol)
///
/// @dev Note:
/// - For ETH transfers, please use `forceSafeTransferETH` for DoS protection.
/// - For ERC20s, this implementation won&#39;t check that a token has code,
///   responsibility is delegated to the caller.
library SafeTransferLib {
    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                       CUSTOM ERRORS                        */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev The ETH transfer has failed.
    error ETHTransferFailed();

    /// @dev The ERC20 `transferFrom` has failed.
    error TransferFromFailed();

    /// @dev The ERC20 `transfer` has failed.
    error TransferFailed();

    /// @dev The ERC20 `approve` has failed.
    error ApproveFailed();

    /// @dev The Permit2 operation has failed.
    error Permit2Failed();

    /// @dev The Permit2 amount must be less than `2**160 - 1`.
    error Permit2AmountOverflow();

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                         CONSTANTS                          */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Suggested gas stipend for contract receiving ETH that disallows any storage writes.
    uint256 internal constant GAS_STIPEND_NO_STORAGE_WRITES = 2300;

    /// @dev Suggested gas stipend for contract receiving ETH to perform a few
    /// storage reads and writes, but low enough to prevent griefing.
    uint256 internal constant GAS_STIPEND_NO_GRIEF = 100000;

    /// @dev The unique EIP-712 domain domain separator for the DAI token contract.
    bytes32 internal constant DAI_DOMAIN_SEPARATOR =
        0xdbb8cf42e1ecb028be3f3dbc922e1d878b963f411dc388ced501601c60f7c6f7;

    /// @dev The address for the WETH9 contract on Ethereum mainnet.
    address internal constant WETH9 = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;

    /// @dev The canonical Permit2 address.
    /// [Github](https://github.com/Uniswap/permit2)
    /// [Etherscan](https://etherscan.io/address/0x000000000022D473030F116dDEE9F6B43aC78BA3)
    address internal constant PERMIT2 = 0x000000000022D473030F116dDEE9F6B43aC78BA3;

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                       ETH OPERATIONS                       */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    // If the ETH transfer MUST succeed with a reasonable gas budget, use the force variants.
    //
    // The regular variants:
    // - Forwards all remaining gas to the target.
    // - Reverts if the target reverts.
    // - Reverts if the current contract has insufficient balance.
    //
    // The force variants:
    // - Forwards with an optional gas stipend
    //   (defaults to `GAS_STIPEND_NO_GRIEF`, which is sufficient for most cases).
    // - If the target reverts, or if the gas stipend is exhausted,
    //   creates a temporary contract to force send the ETH via `SELFDESTRUCT`.
    //   Future compatible with `SENDALL`: https://eips.ethereum.org/EIPS/eip-4758.
    // - Reverts if the current contract has insufficient balance.
    //
    // The try variants:
    // - Forwards with a mandatory gas stipend.
    // - Instead of reverting, returns whether the transfer succeeded.

    /// @dev Sends `amount` (in wei) ETH to `to`.
    function safeTransferETH(address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            if iszero(call(gas(), to, amount, codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, 0xb12d13eb) // `ETHTransferFailed()`.
                revert(0x1c, 0x04)
            }
        }
    }

    /// @dev Sends all the ETH in the current contract to `to`.
    function safeTransferAllETH(address to) internal {
        /// @solidity memory-safe-assembly
        assembly {
            // Transfer all the ETH and check if it succeeded or not.
            if iszero(call(gas(), to, selfbalance(), codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, 0xb12d13eb) // `ETHTransferFailed()`.
                revert(0x1c, 0x04)
            }
        }
    }

    /// @dev Force sends `amount` (in wei) ETH to `to`, with a `gasStipend`.
    function forceSafeTransferETH(address to, uint256 amount, uint256 gasStipend) internal {
        /// @solidity memory-safe-assembly
        assembly {
            if lt(selfbalance(), amount) {
                mstore(0x00, 0xb12d13eb) // `ETHTransferFailed()`.
                revert(0x1c, 0x04)
            }
            if iszero(call(gasStipend, to, amount, codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, to) // Store the address in scratch space.
                mstore8(0x0b, 0x73) // Opcode `PUSH20`.
                mstore8(0x20, 0xff) // Opcode `SELFDESTRUCT`.
                if iszero(create(amount, 0x0b, 0x16)) { revert(codesize(), codesize()) } // For gas estimation.
            }
        }
    }

    /// @dev Force sends all the ETH in the current contract to `to`, with a `gasStipend`.
    function forceSafeTransferAllETH(address to, uint256 gasStipend) internal {
        /// @solidity memory-safe-assembly
        assembly {
            if iszero(call(gasStipend, to, selfbalance(), codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, to) // Store the address in scratch space.
                mstore8(0x0b, 0x73) // Opcode `PUSH20`.
                mstore8(0x20, 0xff) // Opcode `SELFDESTRUCT`.
                if iszero(create(selfbalance(), 0x0b, 0x16)) { revert(codesize(), codesize()) } // For gas estimation.
            }
        }
    }

    /// @dev Force sends `amount` (in wei) ETH to `to`, with `GAS_STIPEND_NO_GRIEF`.
    function forceSafeTransferETH(address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            if lt(selfbalance(), amount) {
                mstore(0x00, 0xb12d13eb) // `ETHTransferFailed()`.
                revert(0x1c, 0x04)
            }
            if iszero(call(GAS_STIPEND_NO_GRIEF, to, amount, codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, to) // Store the address in scratch space.
                mstore8(0x0b, 0x73) // Opcode `PUSH20`.
                mstore8(0x20, 0xff) // Opcode `SELFDESTRUCT`.
                if iszero(create(amount, 0x0b, 0x16)) { revert(codesize(), codesize()) } // For gas estimation.
            }
        }
    }

    /// @dev Force sends all the ETH in the current contract to `to`, with `GAS_STIPEND_NO_GRIEF`.
    function forceSafeTransferAllETH(address to) internal {
        /// @solidity memory-safe-assembly
        assembly {
            // forgefmt: disable-next-item
            if iszero(call(GAS_STIPEND_NO_GRIEF, to, selfbalance(), codesize(), 0x00, codesize(), 0x00)) {
                mstore(0x00, to) // Store the address in scratch space.
                mstore8(0x0b, 0x73) // Opcode `PUSH20`.
                mstore8(0x20, 0xff) // Opcode `SELFDESTRUCT`.
                if iszero(create(selfbalance(), 0x0b, 0x16)) { revert(codesize(), codesize()) } // For gas estimation.
            }
        }
    }

    /// @dev Sends `amount` (in wei) ETH to `to`, with a `gasStipend`.
    function trySafeTransferETH(address to, uint256 amount, uint256 gasStipend)
        internal
        returns (bool success)
    {
        /// @solidity memory-safe-assembly
        assembly {
            success := call(gasStipend, to, amount, codesize(), 0x00, codesize(), 0x00)
        }
    }

    /// @dev Sends all the ETH in the current contract to `to`, with a `gasStipend`.
    function trySafeTransferAllETH(address to, uint256 gasStipend)
        internal
        returns (bool success)
    {
        /// @solidity memory-safe-assembly
        assembly {
            success := call(gasStipend, to, selfbalance(), codesize(), 0x00, codesize(), 0x00)
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                      ERC20 OPERATIONS                      */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Sends `amount` of ERC20 `token` from `from` to `to`.
    /// Reverts upon failure.
    ///
    /// The `from` account must have at least `amount` approved for
    /// the current contract to manage.
    function safeTransferFrom(address token, address from, address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x60, amount) // Store the `amount` argument.
            mstore(0x40, to) // Store the `to` argument.
            mstore(0x2c, shl(96, from)) // Store the `from` argument.
            mstore(0x0c, 0x23b872dd000000000000000000000000) // `transferFrom(address,address,uint256)`.
            // Perform the transfer, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x1c, 0x64, 0x00, 0x20)
                )
            ) {
                mstore(0x00, 0x7939f424) // `TransferFromFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot to zero.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Sends `amount` of ERC20 `token` from `from` to `to`.
    ///
    /// The `from` account must have at least `amount` approved for the current contract to manage.
    function trySafeTransferFrom(address token, address from, address to, uint256 amount)
        internal
        returns (bool success)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x60, amount) // Store the `amount` argument.
            mstore(0x40, to) // Store the `to` argument.
            mstore(0x2c, shl(96, from)) // Store the `from` argument.
            mstore(0x0c, 0x23b872dd000000000000000000000000) // `transferFrom(address,address,uint256)`.
            success :=
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x1c, 0x64, 0x00, 0x20)
                )
            mstore(0x60, 0) // Restore the zero slot to zero.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Sends all of ERC20 `token` from `from` to `to`.
    /// Reverts upon failure.
    ///
    /// The `from` account must have their entire balance approved for the current contract to manage.
    function safeTransferAllFrom(address token, address from, address to)
        internal
        returns (uint256 amount)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40) // Cache the free memory pointer.
            mstore(0x40, to) // Store the `to` argument.
            mstore(0x2c, shl(96, from)) // Store the `from` argument.
            mstore(0x0c, 0x70a08231000000000000000000000000) // `balanceOf(address)`.
            // Read the balance, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    gt(returndatasize(), 0x1f), // At least 32 bytes returned.
                    staticcall(gas(), token, 0x1c, 0x24, 0x60, 0x20)
                )
            ) {
                mstore(0x00, 0x7939f424) // `TransferFromFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x00, 0x23b872dd) // `transferFrom(address,address,uint256)`.
            amount := mload(0x60) // The `amount` is already at 0x60. We&#39;ll need to return it.
            // Perform the transfer, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x1c, 0x64, 0x00, 0x20)
                )
            ) {
                mstore(0x00, 0x7939f424) // `TransferFromFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x60, 0) // Restore the zero slot to zero.
            mstore(0x40, m) // Restore the free memory pointer.
        }
    }

    /// @dev Sends `amount` of ERC20 `token` from the current contract to `to`.
    /// Reverts upon failure.
    function safeTransfer(address token, address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x14, to) // Store the `to` argument.
            mstore(0x34, amount) // Store the `amount` argument.
            mstore(0x00, 0xa9059cbb000000000000000000000000) // `transfer(address,uint256)`.
            // Perform the transfer, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x10, 0x44, 0x00, 0x20)
                )
            ) {
                mstore(0x00, 0x90b8ec18) // `TransferFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x34, 0) // Restore the part of the free memory pointer that was overwritten.
        }
    }

    /// @dev Sends all of ERC20 `token` from the current contract to `to`.
    /// Reverts upon failure.
    function safeTransferAll(address token, address to) internal returns (uint256 amount) {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x00, 0x70a08231) // Store the function selector of `balanceOf(address)`.
            mstore(0x20, address()) // Store the address of the current contract.
            // Read the balance, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    gt(returndatasize(), 0x1f), // At least 32 bytes returned.
                    staticcall(gas(), token, 0x1c, 0x24, 0x34, 0x20)
                )
            ) {
                mstore(0x00, 0x90b8ec18) // `TransferFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x14, to) // Store the `to` argument.
            amount := mload(0x34) // The `amount` is already at 0x34. We&#39;ll need to return it.
            mstore(0x00, 0xa9059cbb000000000000000000000000) // `transfer(address,uint256)`.
            // Perform the transfer, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x10, 0x44, 0x00, 0x20)
                )
            ) {
                mstore(0x00, 0x90b8ec18) // `TransferFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x34, 0) // Restore the part of the free memory pointer that was overwritten.
        }
    }

    /// @dev Sets `amount` of ERC20 `token` for `to` to manage on behalf of the current contract.
    /// Reverts upon failure.
    function safeApprove(address token, address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x14, to) // Store the `to` argument.
            mstore(0x34, amount) // Store the `amount` argument.
            mstore(0x00, 0x095ea7b3000000000000000000000000) // `approve(address,uint256)`.
            // Perform the approval, reverting upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x10, 0x44, 0x00, 0x20)
                )
            ) {
                mstore(0x00, 0x3e3f8f73) // `ApproveFailed()`.
                revert(0x1c, 0x04)
            }
            mstore(0x34, 0) // Restore the part of the free memory pointer that was overwritten.
        }
    }

    /// @dev Sets `amount` of ERC20 `token` for `to` to manage on behalf of the current contract.
    /// If the initial attempt to approve fails, attempts to reset the approved amount to zero,
    /// then retries the approval again (some tokens, e.g. USDT, requires this).
    /// Reverts upon failure.
    function safeApproveWithRetry(address token, address to, uint256 amount) internal {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x14, to) // Store the `to` argument.
            mstore(0x34, amount) // Store the `amount` argument.
            mstore(0x00, 0x095ea7b3000000000000000000000000) // `approve(address,uint256)`.
            // Perform the approval, retrying upon failure.
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                    call(gas(), token, 0, 0x10, 0x44, 0x00, 0x20)
                )
            ) {
                mstore(0x34, 0) // Store 0 for the `amount`.
                mstore(0x00, 0x095ea7b3000000000000000000000000) // `approve(address,uint256)`.
                pop(call(gas(), token, 0, 0x10, 0x44, codesize(), 0x00)) // Reset the approval.
                mstore(0x34, amount) // Store back the original `amount`.
                // Retry the approval, reverting upon failure.
                if iszero(
                    and(
                        or(eq(mload(0x00), 1), iszero(returndatasize())), // Returned 1 or nothing.
                        call(gas(), token, 0, 0x10, 0x44, 0x00, 0x20)
                    )
                ) {
                    mstore(0x00, 0x3e3f8f73) // `ApproveFailed()`.
                    revert(0x1c, 0x04)
                }
            }
            mstore(0x34, 0) // Restore the part of the free memory pointer that was overwritten.
        }
    }

    /// @dev Returns the amount of ERC20 `token` owned by `account`.
    /// Returns zero if the `token` does not exist.
    function balanceOf(address token, address account) internal view returns (uint256 amount) {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x14, account) // Store the `account` argument.
            mstore(0x00, 0x70a08231000000000000000000000000) // `balanceOf(address)`.
            amount :=
                mul( // The arguments of `mul` are evaluated from right to left.
                    mload(0x20),
                    and( // The arguments of `and` are evaluated from right to left.
                        gt(returndatasize(), 0x1f), // At least 32 bytes returned.
                        staticcall(gas(), token, 0x10, 0x24, 0x20, 0x20)
                    )
                )
        }
    }

    /// @dev Sends `amount` of ERC20 `token` from `from` to `to`.
    /// If the initial attempt fails, try to use Permit2 to transfer the token.
    /// Reverts upon failure.
    ///
    /// The `from` account must have at least `amount` approved for the current contract to manage.
    function safeTransferFrom2(address token, address from, address to, uint256 amount) internal {
        if (!trySafeTransferFrom(token, from, to, amount)) {
            permit2TransferFrom(token, from, to, amount);
        }
    }

    /// @dev Sends `amount` of ERC20 `token` from `from` to `to` via Permit2.
    /// Reverts upon failure.
    function permit2TransferFrom(address token, address from, address to, uint256 amount)
        internal
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            mstore(add(m, 0x74), shr(96, shl(96, token)))
            mstore(add(m, 0x54), amount)
            mstore(add(m, 0x34), to)
            mstore(add(m, 0x20), shl(96, from))
            // `transferFrom(address,address,uint160,address)`.
            mstore(m, 0x36c78516000000000000000000000000)
            let p := mul(PERMIT2, iszero(shr(160, amount)))
            if iszero(mul(call(gas(), p, 0, add(m, 0x10), 0x84, codesize(), 0x00), extcodesize(p)))
            {
                mstore(0x00, 0x7939f4248757f0fd) // `TransferFromFailed()` or `Permit2AmountOverflow()`.
                revert(add(0x18, shl(2, iszero(p))), 0x04)
            }
        }
    }

    /// @dev Permit a user to spend a given amount of
    /// another user&#39;s tokens via native EIP-2612 permit if possible, falling
    /// back to Permit2 if native permit fails or is not implemented on the token.
    function permit2(
        address token,
        address owner,
        address spender,
        uint256 amount,
        uint256 deadline,
        uint8 v,
        bytes32 r,
        bytes32 s
    ) internal {
        bool success;
        /// @solidity memory-safe-assembly
        assembly {
            for {} shl(96, xor(token, WETH9)) {} {
                mstore(0x00, 0x3644e515) // `DOMAIN_SEPARATOR()`.
                if iszero(
                    and( // The arguments of `and` are evaluated from right to left.
                        lt(iszero(mload(0x00)), eq(returndatasize(), 0x20)), // Returns 1 non-zero word.
                        // Gas stipend to limit gas burn for tokens that don&#39;t refund gas when
                        // an non-existing function is called. 5K should be enough for a SLOAD.
                        staticcall(5000, token, 0x1c, 0x04, 0x00, 0x20)
                    )
                ) { break }
                let m := mload(0x40)
                mstore(add(m, 0x34), spender)
                mstore(add(m, 0x20), shl(96, owner))
                mstore(add(m, 0x74), deadline)
                if eq(mload(0x00), DAI_DOMAIN_SEPARATOR) {
                    mstore(0x14, owner)
                    mstore(0x00, 0x7ecebe00000000000000000000000000) // `nonces(address)`.
                    mstore(add(m, 0x94), staticcall(gas(), token, 0x10, 0x24, add(m, 0x54), 0x20))
                    mstore(m, 0x8fcbaf0c000000000000000000000000) // `IDAIPermit.permit`.
                    // `nonces` is already at `add(m, 0x54)`.
                    // `1` is already stored at `add(m, 0x94)`.
                    mstore(add(m, 0xb4), and(0xff, v))
                    mstore(add(m, 0xd4), r)
                    mstore(add(m, 0xf4), s)
                    success := call(gas(), token, 0, add(m, 0x10), 0x104, codesize(), 0x00)
                    break
                }
                mstore(m, 0xd505accf000000000000000000000000) // `IERC20Permit.permit`.
                mstore(add(m, 0x54), amount)
                mstore(add(m, 0x94), and(0xff, v))
                mstore(add(m, 0xb4), r)
                mstore(add(m, 0xd4), s)
                success := call(gas(), token, 0, add(m, 0x10), 0xe4, codesize(), 0x00)
                break
            }
        }
        if (!success) simplePermit2(token, owner, spender, amount, deadline, v, r, s);
    }

    /// @dev Simple permit on the Permit2 contract.
    function simplePermit2(
        address token,
        address owner,
        address spender,
        uint256 amount,
        uint256 deadline,
        uint8 v,
        bytes32 r,
        bytes32 s
    ) internal {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            mstore(m, 0x927da105) // `allowance(address,address,address)`.
            {
                let addressMask := shr(96, not(0))
                mstore(add(m, 0x20), and(addressMask, owner))
                mstore(add(m, 0x40), and(addressMask, token))
                mstore(add(m, 0x60), and(addressMask, spender))
                mstore(add(m, 0xc0), and(addressMask, spender))
            }
            let p := mul(PERMIT2, iszero(shr(160, amount)))
            if iszero(
                and( // The arguments of `and` are evaluated from right to left.
                    gt(returndatasize(), 0x5f), // Returns 3 words: `amount`, `expiration`, `nonce`.
                    staticcall(gas(), p, add(m, 0x1c), 0x64, add(m, 0x60), 0x60)
                )
            ) {
                mstore(0x00, 0x6b836e6b8757f0fd) // `Permit2Failed()` or `Permit2AmountOverflow()`.
                revert(add(0x18, shl(2, iszero(p))), 0x04)
            }
            mstore(m, 0x2b67b570) // `Permit2.permit` (PermitSingle variant).
            // `owner` is already `add(m, 0x20)`.
            // `token` is already at `add(m, 0x40)`.
            mstore(add(m, 0x60), amount)
            mstore(add(m, 0x80), 0xffffffffffff) // `expiration = type(uint48).max`.
            // `nonce` is already at `add(m, 0xa0)`.
            // `spender` is already at `add(m, 0xc0)`.
            mstore(add(m, 0xe0), deadline)
            mstore(add(m, 0x100), 0x100) // `signature` offset.
            mstore(add(m, 0x120), 0x41) // `signature` length.
            mstore(add(m, 0x140), r)
            mstore(add(m, 0x160), s)
            mstore(add(m, 0x180), shl(248, v))
            if iszero(call(gas(), p, 0, add(m, 0x1c), 0x184, codesize(), 0x00)) {
                mstore(0x00, 0x6b836e6b) // `Permit2Failed()`.
                revert(0x1c, 0x04)
            }
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>File 15 of 15 : SignatureCheckerLib.sol</span><span><div class="btn-group"><button class='btn btn-sm btn-secondary dropdown-toggle me-1' type='button' id='dropdownPrimaryInvoker' data-bs-toggle='dropdown' aria-expanded='false' data-bs-toggle='tooltip' title='View and Navigate Contract Outline'>Outline</button><ul class='dropdown-menu dropdown-menu-end' aria-labelledby='dropdownPrimaryInvoker' style='height: 300px; max-height: 300px; overflow-y: scroll; position:absolute;'><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('library SignatureCheckerLib', '15');"><i class="far fa-book-open"></i> <b>library SignatureCheckerLib</b></a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidSignatureNow(address signer, bytes32 hash, bytes memory signature)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidSignatureNow(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidSignatureNowCalldata(address signer, bytes32 hash, bytes calldata signature)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidSignatureNowCalldata( ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidSignatureNow(address signer, bytes32 hash, bytes32 r, bytes32 vs)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidSignatureNow(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidSignatureNow(address signer, bytes32 hash, uint8 v, bytes32 r, bytes32 s)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidSignatureNow(address  ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidERC1271SignatureNow(address signer, bytes32 hash, bytes memory signature)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidERC1271SignatureNow(a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidERC1271SignatureNowCalldata(', '15');">  &nbsp;&nbsp;&nbsp;- function isValidERC1271SignatureNowCa ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidERC1271SignatureNow(address signer, bytes32 hash, bytes32 r, bytes32 vs)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidERC1271SignatureNow(a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function isValidERC1271SignatureNow(address signer, bytes32 hash, uint8 v, bytes32 r, bytes32 s)', '15');">  &nbsp;&nbsp;&nbsp;- function isValidERC1271SignatureNow(a ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function toEthSignedMessageHash(bytes32 hash)', '15');">  &nbsp;&nbsp;&nbsp;- function toEthSignedMessageHash(bytes ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function toEthSignedMessageHash(bytes memory s)', '15');">  &nbsp;&nbsp;&nbsp;- function toEthSignedMessageHash(bytes ...</a></li><li><a class="dropdown-item" href="javascript:;" onclick="myTocSelect('function emptySignature()', '15');">  &nbsp;&nbsp;&nbsp;- function emptySignature()</a></li></ul></div><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode_15' class='btn btn-sm btn-secondary togglefullscreen' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor15' style='margin-top: 5px;'>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice Signature verification helper that supports both ECDSA signatures from EOAs
/// and ERC1271 signatures from smart contract wallets like Argent and Gnosis safe.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/SignatureCheckerLib.sol)
/// @author Modified from OpenZeppelin (https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/SignatureChecker.sol)
///
/// @dev Note:
/// - The signature checking functions use the ecrecover precompile (0x1).
/// - The `bytes memory signature` variants use the identity precompile (0x4)
///   to copy memory internally.
/// - Unlike ECDSA signatures, contract signatures are revocable.
/// - As of Solady version 0.0.134, all `bytes signature` variants accept both
///   regular 65-byte `(r, s, v)` and EIP-2098 `(r, vs)` short form signatures.
///   See: https://eips.ethereum.org/EIPS/eip-2098
///   This is for calldata efficiency on smart accounts prevalent on L2s.
///
/// WARNING! Do NOT use signatures as unique identifiers:
/// - Use a nonce in the digest to prevent replay attacks on the same contract.
/// - Use EIP-712 for the digest to prevent replay attacks across different chains and contracts.
///   EIP-712 also enables readable signing of typed data for better user safety.
/// This implementation does NOT check if a signature is non-malleable.
library SignatureCheckerLib {
    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*               SIGNATURE CHECKING OPERATIONS                */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns whether `signature` is valid for `signer` and `hash`.
    /// If `signer` is a smart contract, the signature is validated with ERC1271.
    /// Otherwise, the signature is validated with `ECDSA.recover`.
    function isValidSignatureNow(address signer, bytes32 hash, bytes memory signature)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            // Clean the upper 96 bits of `signer` in case they are dirty.
            for { signer := shr(96, shl(96, signer)) } signer {} {
                let m := mload(0x40)
                mstore(0x00, hash)
                mstore(0x40, mload(add(signature, 0x20))) // `r`.
                if eq(mload(signature), 64) {
                    let vs := mload(add(signature, 0x40))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    let t :=
                        staticcall(
                            gas(), // Amount of gas left for the transaction.
                            1, // Address of `ecrecover`.
                            0x00, // Start of input.
                            0x80, // Size of input.
                            0x01, // Start of output.
                            0x20 // Size of output.
                        )
                    // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                    if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                        isValid := 1
                        mstore(0x60, 0) // Restore the zero slot.
                        mstore(0x40, m) // Restore the free memory pointer.
                        break
                    }
                }
                if eq(mload(signature), 65) {
                    mstore(0x20, byte(0, mload(add(signature, 0x60)))) // `v`.
                    mstore(0x60, mload(add(signature, 0x40))) // `s`.
                    let t :=
                        staticcall(
                            gas(), // Amount of gas left for the transaction.
                            1, // Address of `ecrecover`.
                            0x00, // Start of input.
                            0x80, // Size of input.
                            0x01, // Start of output.
                            0x20 // Size of output.
                        )
                    // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                    if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                        isValid := 1
                        mstore(0x60, 0) // Restore the zero slot.
                        mstore(0x40, m) // Restore the free memory pointer.
                        break
                    }
                }
                mstore(0x60, 0) // Restore the zero slot.
                mstore(0x40, m) // Restore the free memory pointer.

                let f := shl(224, 0x1626ba7e)
                mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
                mstore(add(m, 0x04), hash)
                let d := add(m, 0x24)
                mstore(d, 0x40) // The offset of the `signature` in the calldata.
                // Copy the `signature` over.
                let n := add(0x20, mload(signature))
                pop(staticcall(gas(), 4, signature, n, add(m, 0x44), n))
                // forgefmt: disable-next-item
                isValid := and(
                    // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                    eq(mload(d), f),
                    // Whether the staticcall does not revert.
                    // This must be placed at the end of the `and` clause,
                    // as the arguments are evaluated from right to left.
                    staticcall(
                        gas(), // Remaining gas.
                        signer, // The `signer` address.
                        m, // Offset of calldata in memory.
                        add(returndatasize(), 0x44), // Length of calldata in memory.
                        d, // Offset of returndata.
                        0x20 // Length of returndata to write.
                    )
                )
                break
            }
        }
    }

    /// @dev Returns whether `signature` is valid for `signer` and `hash`.
    /// If `signer` is a smart contract, the signature is validated with ERC1271.
    /// Otherwise, the signature is validated with `ECDSA.recover`.
    function isValidSignatureNowCalldata(address signer, bytes32 hash, bytes calldata signature)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            // Clean the upper 96 bits of `signer` in case they are dirty.
            for { signer := shr(96, shl(96, signer)) } signer {} {
                let m := mload(0x40)
                mstore(0x00, hash)
                if eq(signature.length, 64) {
                    let vs := calldataload(add(signature.offset, 0x20))
                    mstore(0x20, add(shr(255, vs), 27)) // `v`.
                    mstore(0x40, calldataload(signature.offset)) // `r`.
                    mstore(0x60, shr(1, shl(1, vs))) // `s`.
                    let t :=
                        staticcall(
                            gas(), // Amount of gas left for the transaction.
                            1, // Address of `ecrecover`.
                            0x00, // Start of input.
                            0x80, // Size of input.
                            0x01, // Start of output.
                            0x20 // Size of output.
                        )
                    // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                    if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                        isValid := 1
                        mstore(0x60, 0) // Restore the zero slot.
                        mstore(0x40, m) // Restore the free memory pointer.
                        break
                    }
                }
                if eq(signature.length, 65) {
                    mstore(0x20, byte(0, calldataload(add(signature.offset, 0x40)))) // `v`.
                    calldatacopy(0x40, signature.offset, 0x40) // `r`, `s`.
                    let t :=
                        staticcall(
                            gas(), // Amount of gas left for the transaction.
                            1, // Address of `ecrecover`.
                            0x00, // Start of input.
                            0x80, // Size of input.
                            0x01, // Start of output.
                            0x20 // Size of output.
                        )
                    // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                    if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                        isValid := 1
                        mstore(0x60, 0) // Restore the zero slot.
                        mstore(0x40, m) // Restore the free memory pointer.
                        break
                    }
                }
                mstore(0x60, 0) // Restore the zero slot.
                mstore(0x40, m) // Restore the free memory pointer.

                let f := shl(224, 0x1626ba7e)
                mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
                mstore(add(m, 0x04), hash)
                let d := add(m, 0x24)
                mstore(d, 0x40) // The offset of the `signature` in the calldata.
                mstore(add(m, 0x44), signature.length)
                // Copy the `signature` over.
                calldatacopy(add(m, 0x64), signature.offset, signature.length)
                // forgefmt: disable-next-item
                isValid := and(
                    // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                    eq(mload(d), f),
                    // Whether the staticcall does not revert.
                    // This must be placed at the end of the `and` clause,
                    // as the arguments are evaluated from right to left.
                    staticcall(
                        gas(), // Remaining gas.
                        signer, // The `signer` address.
                        m, // Offset of calldata in memory.
                        add(signature.length, 0x64), // Length of calldata in memory.
                        d, // Offset of returndata.
                        0x20 // Length of returndata to write.
                    )
                )
                break
            }
        }
    }

    /// @dev Returns whether the signature (`r`, `vs`) is valid for `signer` and `hash`.
    /// If `signer` is a smart contract, the signature is validated with ERC1271.
    /// Otherwise, the signature is validated with `ECDSA.recover`.
    function isValidSignatureNow(address signer, bytes32 hash, bytes32 r, bytes32 vs)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            // Clean the upper 96 bits of `signer` in case they are dirty.
            for { signer := shr(96, shl(96, signer)) } signer {} {
                let m := mload(0x40)
                mstore(0x00, hash)
                mstore(0x20, add(shr(255, vs), 27)) // `v`.
                mstore(0x40, r) // `r`.
                mstore(0x60, shr(1, shl(1, vs))) // `s`.
                let t :=
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        1, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                    isValid := 1
                    mstore(0x60, 0) // Restore the zero slot.
                    mstore(0x40, m) // Restore the free memory pointer.
                    break
                }

                let f := shl(224, 0x1626ba7e)
                mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
                mstore(add(m, 0x04), hash)
                let d := add(m, 0x24)
                mstore(d, 0x40) // The offset of the `signature` in the calldata.
                mstore(add(m, 0x44), 65) // Length of the signature.
                mstore(add(m, 0x64), r) // `r`.
                mstore(add(m, 0x84), mload(0x60)) // `s`.
                mstore8(add(m, 0xa4), mload(0x20)) // `v`.
                // forgefmt: disable-next-item
                isValid := and(
                    // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                    eq(mload(d), f),
                    // Whether the staticcall does not revert.
                    // This must be placed at the end of the `and` clause,
                    // as the arguments are evaluated from right to left.
                    staticcall(
                        gas(), // Remaining gas.
                        signer, // The `signer` address.
                        m, // Offset of calldata in memory.
                        0xa5, // Length of calldata in memory.
                        d, // Offset of returndata.
                        0x20 // Length of returndata to write.
                    )
                )
                mstore(0x60, 0) // Restore the zero slot.
                mstore(0x40, m) // Restore the free memory pointer.
                break
            }
        }
    }

    /// @dev Returns whether the signature (`v`, `r`, `s`) is valid for `signer` and `hash`.
    /// If `signer` is a smart contract, the signature is validated with ERC1271.
    /// Otherwise, the signature is validated with `ECDSA.recover`.
    function isValidSignatureNow(address signer, bytes32 hash, uint8 v, bytes32 r, bytes32 s)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            // Clean the upper 96 bits of `signer` in case they are dirty.
            for { signer := shr(96, shl(96, signer)) } signer {} {
                let m := mload(0x40)
                mstore(0x00, hash)
                mstore(0x20, and(v, 0xff)) // `v`.
                mstore(0x40, r) // `r`.
                mstore(0x60, s) // `s`.
                let t :=
                    staticcall(
                        gas(), // Amount of gas left for the transaction.
                        1, // Address of `ecrecover`.
                        0x00, // Start of input.
                        0x80, // Size of input.
                        0x01, // Start of output.
                        0x20 // Size of output.
                    )
                // `returndatasize()` will be `0x20` upon success, and `0x00` otherwise.
                if iszero(or(iszero(returndatasize()), xor(signer, mload(t)))) {
                    isValid := 1
                    mstore(0x60, 0) // Restore the zero slot.
                    mstore(0x40, m) // Restore the free memory pointer.
                    break
                }

                let f := shl(224, 0x1626ba7e)
                mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
                mstore(add(m, 0x04), hash)
                let d := add(m, 0x24)
                mstore(d, 0x40) // The offset of the `signature` in the calldata.
                mstore(add(m, 0x44), 65) // Length of the signature.
                mstore(add(m, 0x64), r) // `r`.
                mstore(add(m, 0x84), s) // `s`.
                mstore8(add(m, 0xa4), v) // `v`.
                // forgefmt: disable-next-item
                isValid := and(
                    // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                    eq(mload(d), f),
                    // Whether the staticcall does not revert.
                    // This must be placed at the end of the `and` clause,
                    // as the arguments are evaluated from right to left.
                    staticcall(
                        gas(), // Remaining gas.
                        signer, // The `signer` address.
                        m, // Offset of calldata in memory.
                        0xa5, // Length of calldata in memory.
                        d, // Offset of returndata.
                        0x20 // Length of returndata to write.
                    )
                )
                mstore(0x60, 0) // Restore the zero slot.
                mstore(0x40, m) // Restore the free memory pointer.
                break
            }
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                     ERC1271 OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns whether `signature` is valid for `hash` for an ERC1271 `signer` contract.
    function isValidERC1271SignatureNow(address signer, bytes32 hash, bytes memory signature)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let f := shl(224, 0x1626ba7e)
            mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
            mstore(add(m, 0x04), hash)
            let d := add(m, 0x24)
            mstore(d, 0x40) // The offset of the `signature` in the calldata.
            // Copy the `signature` over.
            let n := add(0x20, mload(signature))
            pop(staticcall(gas(), 4, signature, n, add(m, 0x44), n))
            // forgefmt: disable-next-item
            isValid := and(
                // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                eq(mload(d), f),
                // Whether the staticcall does not revert.
                // This must be placed at the end of the `and` clause,
                // as the arguments are evaluated from right to left.
                staticcall(
                    gas(), // Remaining gas.
                    signer, // The `signer` address.
                    m, // Offset of calldata in memory.
                    add(returndatasize(), 0x44), // Length of calldata in memory.
                    d, // Offset of returndata.
                    0x20 // Length of returndata to write.
                )
            )
        }
    }

    /// @dev Returns whether `signature` is valid for `hash` for an ERC1271 `signer` contract.
    function isValidERC1271SignatureNowCalldata(
        address signer,
        bytes32 hash,
        bytes calldata signature
    ) internal view returns (bool isValid) {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let f := shl(224, 0x1626ba7e)
            mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
            mstore(add(m, 0x04), hash)
            let d := add(m, 0x24)
            mstore(d, 0x40) // The offset of the `signature` in the calldata.
            mstore(add(m, 0x44), signature.length)
            // Copy the `signature` over.
            calldatacopy(add(m, 0x64), signature.offset, signature.length)
            // forgefmt: disable-next-item
            isValid := and(
                // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                eq(mload(d), f),
                // Whether the staticcall does not revert.
                // This must be placed at the end of the `and` clause,
                // as the arguments are evaluated from right to left.
                staticcall(
                    gas(), // Remaining gas.
                    signer, // The `signer` address.
                    m, // Offset of calldata in memory.
                    add(signature.length, 0x64), // Length of calldata in memory.
                    d, // Offset of returndata.
                    0x20 // Length of returndata to write.
                )
            )
        }
    }

    /// @dev Returns whether the signature (`r`, `vs`) is valid for `hash`
    /// for an ERC1271 `signer` contract.
    function isValidERC1271SignatureNow(address signer, bytes32 hash, bytes32 r, bytes32 vs)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let f := shl(224, 0x1626ba7e)
            mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
            mstore(add(m, 0x04), hash)
            let d := add(m, 0x24)
            mstore(d, 0x40) // The offset of the `signature` in the calldata.
            mstore(add(m, 0x44), 65) // Length of the signature.
            mstore(add(m, 0x64), r) // `r`.
            mstore(add(m, 0x84), shr(1, shl(1, vs))) // `s`.
            mstore8(add(m, 0xa4), add(shr(255, vs), 27)) // `v`.
            // forgefmt: disable-next-item
            isValid := and(
                // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                eq(mload(d), f),
                // Whether the staticcall does not revert.
                // This must be placed at the end of the `and` clause,
                // as the arguments are evaluated from right to left.
                staticcall(
                    gas(), // Remaining gas.
                    signer, // The `signer` address.
                    m, // Offset of calldata in memory.
                    0xa5, // Length of calldata in memory.
                    d, // Offset of returndata.
                    0x20 // Length of returndata to write.
                )
            )
        }
    }

    /// @dev Returns whether the signature (`v`, `r`, `s`) is valid for `hash`
    /// for an ERC1271 `signer` contract.
    function isValidERC1271SignatureNow(address signer, bytes32 hash, uint8 v, bytes32 r, bytes32 s)
        internal
        view
        returns (bool isValid)
    {
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let f := shl(224, 0x1626ba7e)
            mstore(m, f) // `bytes4(keccak256(&quot;isValidSignature(bytes32,bytes)&quot;))`.
            mstore(add(m, 0x04), hash)
            let d := add(m, 0x24)
            mstore(d, 0x40) // The offset of the `signature` in the calldata.
            mstore(add(m, 0x44), 65) // Length of the signature.
            mstore(add(m, 0x64), r) // `r`.
            mstore(add(m, 0x84), s) // `s`.
            mstore8(add(m, 0xa4), v) // `v`.
            // forgefmt: disable-next-item
            isValid := and(
                // Whether the returndata is the magic value `0x1626ba7e` (left-aligned).
                eq(mload(d), f),
                // Whether the staticcall does not revert.
                // This must be placed at the end of the `and` clause,
                // as the arguments are evaluated from right to left.
                staticcall(
                    gas(), // Remaining gas.
                    signer, // The `signer` address.
                    m, // Offset of calldata in memory.
                    0xa5, // Length of calldata in memory.
                    d, // Offset of returndata.
                    0x20 // Length of returndata to write.
                )
            )
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                     HASHING OPERATIONS                     */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns an Ethereum Signed Message, created from a `hash`.
    /// This produces a hash corresponding to the one signed with the
    /// [`eth_sign`](https://eth.wiki/json-rpc/API#eth_sign)
    /// JSON-RPC method as part of EIP-191.
    function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32 result) {
        /// @solidity memory-safe-assembly
        assembly {
            mstore(0x20, hash) // Store into scratch space for keccak256.
            mstore(0x00, &quot;\x00\x00\x00\x00\x19Ethereum Signed Message:\n32&quot;) // 28 bytes.
            result := keccak256(0x04, 0x3c) // `32 * 2 - (32 - 28) = 60 = 0x3c`.
        }
    }

    /// @dev Returns an Ethereum Signed Message, created from `s`.
    /// This produces a hash corresponding to the one signed with the
    /// [`eth_sign`](https://eth.wiki/json-rpc/API#eth_sign)
    /// JSON-RPC method as part of EIP-191.
    /// Note: Supports lengths of `s` up to 999999 bytes.
    function toEthSignedMessageHash(bytes memory s) internal pure returns (bytes32 result) {
        /// @solidity memory-safe-assembly
        assembly {
            let sLength := mload(s)
            let o := 0x20
            mstore(o, &quot;\x19Ethereum Signed Message:\n&quot;) // 26 bytes, zero-right-padded.
            mstore(0x00, 0x00)
            // Convert the `s.length` to ASCII decimal representation: `base10(s.length)`.
            for { let temp := sLength } 1 {} {
                o := sub(o, 1)
                mstore8(o, add(48, mod(temp, 10)))
                temp := div(temp, 10)
                if iszero(temp) { break }
            }
            let n := sub(0x3a, o) // Header length: `26 + 32 - o`.
            // Throw an out-of-offset error (consumes all gas) if the header exceeds 32 bytes.
            returndatacopy(returndatasize(), returndatasize(), gt(n, 0x20))
            mstore(s, or(mload(0x00), mload(n))) // Temporarily store the header.
            result := keccak256(add(s, sub(0x20, n)), add(n, sLength))
            mstore(s, sLength) // Restore the length.
        }
    }

    /*&#180;:&#176;•.&#176;+.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;•.*•&#180;.*:˚.&#176;*.˚•&#180;.&#176;:&#176;•.&#176;+.*•&#180;.*:*/
    /*                   EMPTY CALLDATA HELPERS                   */
    /*.•&#176;:&#176;.&#180;+˚.*&#176;.˚:*.&#180;•*.+&#176;.•&#176;:&#180;*.&#180;•*.•&#176;.•&#176;:&#176;.&#180;:•˚&#176;.*&#176;.˚:*.&#180;+&#176;.•*/

    /// @dev Returns an empty calldata bytes.
    function emptySignature() internal pure returns (bytes calldata signature) {
        /// @solidity memory-safe-assembly
        assembly {
            signature.length := 0
        }
    }
}</pre><br><div class='d-flex justify-content-between'><span class='text-muted'>Settings</span><span><a class="js-clipboard btn btn-sm btn-icon btn-secondary me-1" href='javascript:;' onclick='copySourceCodeBtn(this);' data-bs-toggle='tooltip' title='Copy source code to clipboard'><i class='far fa-copy btn-icon__inner'></i></a><a class='btn btn-sm btn-icon btn-secondary me-1' href='javascript:;' onclick='generatePermalink(this)' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy Permalink'><i class='far fa-link btn-icon__inner'></i></a><a href='javascript:;' id='panel-sourcecode' class='btn btn-sm btn-secondary' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Toggle Fullscreen'><i class='fa fa-expand'></i></a></span></div><pre class='js-sourcecopyarea editor' id='editor' style='margin-top: 5px;'>{
  &quot;optimizer&quot;: {
    &quot;enabled&quot;: true,
    &quot;runs&quot;: 20
  },
  &quot;evmVersion&quot;: &quot;london&quot;,
  &quot;remappings&quot;: [
    &quot;:@chainlink/=lib/chainlink/&quot;,
    &quot;:@ds-test/=lib/ds-test/src/&quot;,
    &quot;:@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/&quot;,
    &quot;:@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/&quot;,
    &quot;:@rari-capital/solmate/=lib/seaport/lib/solmate/&quot;,
    &quot;:@seaport/=lib/seaport/contracts/&quot;,
    &quot;:@std/=lib/forge-std/src/&quot;,
    &quot;:@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/&quot;,
    &quot;:ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/&quot;,
    &quot;:ERC721A/=lib/ERC721A/contracts/&quot;,
    &quot;:chainlink/=lib/chainlink/contracts/&quot;,
    &quot;:contracts/=contracts/&quot;,
    &quot;:ds-test/=lib/ds-test/src/&quot;,
    &quot;:dynamic-contracts/=lib/dynamic-contracts/src/&quot;,
    &quot;:erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/&quot;,
    &quot;:erc721a-upgradeable/=lib/ERC721A-Upgradeable/&quot;,
    &quot;:erc721a/=lib/ERC721A/&quot;,
    &quot;:forge-std/=lib/forge-std/src/&quot;,
    &quot;:lib/sstore2/=lib/dynamic-contracts/lib/sstore2/&quot;,
    &quot;:murky/=lib/murky/src/&quot;,
    &quot;:openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/&quot;,
    &quot;:openzeppelin-contracts/=lib/openzeppelin-contracts/&quot;,
    &quot;:openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/&quot;,
    &quot;:seaport-core/=lib/seaport/lib/seaport-core/&quot;,
    &quot;:seaport-sol/=lib/seaport-sol/src/&quot;,
    &quot;:seaport-types/=lib/seaport/lib/seaport-types/&quot;,
    &quot;:seaport/=lib/seaport/&quot;,
    &quot;:solady/=lib/solady/&quot;,
    &quot;:solarray/=lib/seaport/lib/solarray/src/&quot;,
    &quot;:solmate/=lib/seaport/lib/solmate/src/&quot;,
    &quot;:sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/&quot;
  ],
  &quot;outputSelection&quot;: {
    &quot;*&quot;: {
      &quot;*&quot;: [
        &quot;evm.bytecode&quot;,
        &quot;evm.deployedBytecode&quot;,
        &quot;devdoc&quot;,
        &quot;userdoc&quot;,
        &quot;metadata&quot;,
        &quot;abi&quot;
      ]
    }
  }
}</pre><br><script>var editor;$('.editor').each(function( index ) {editor = ace.edit(this);editor.setTheme("ace/theme/dawn");editor.getSession().setMode('ace/mode/csharp');editor.setOptions({maxLines: 25});editor.getSession().setUseWrapMode(true);editor.setOption("indentedSoftWrap", false);editor.setReadOnly(true);editor.setShowPrintMargin(false);editor.$blockScrolling = Infinity;});</script></div><div class="mb-4"><div class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center gap-2"><div class="d-flex align-items-center gap-1 mb-2 mb-lg-0"> <h4 class="card-header-title"> <i class='far fa-tasks text-secondary me-1'></i>Contract ABI</h4><a class="btn btn-sm btn-secondary content-center rounded-pill" target="_blank'" href="https://docs.etherscan.io/etherscan-v2/api-endpoints/contracts#get-contract-abi-for-verified-contract-source-codes" data-bs-toggle='tooltip' title='Get this info via an API endpoint'> <i class="fad fa-code me-1"></i>API</a></div><div class="d-flex align-items-center gap-1 mb-2 mb-lg-0"> <div class="dropdown" id="divVmTrace" runat="server" Visible="False"></div> <a href='javascript:;' class="js-clipboard btn btn-sm btn-icon btn-secondary" onclick='copyAbiBtn2(this);' data-bs-toggle='tooltip' data-bs-trigger='hover' title='Copy ABI to clipboard'><i class='far fa-copy btn-icon__inner'></i></a>  <a href="#" id="panel-ABI" class="btn btn-sm btn-secondary" data-bs-toggle='tooltip' data-bs-trigger='hover' title="Toggle Fullscreen"><i class="fa fa-expand"></i></a> </div></div><pre class='wordwrap js-copytextarea2 scrollbar-custom' id='js-copytextarea2' style='height: 200px; max-height: 400px; margin-top: 5px;'>[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"AirdropAlreadyClaimed","type":"error"},{"inputs":[],"name":"AirdropInvalidProof","type":"error"},{"inputs":[],"name":"AirdropNoMerkleRoot","type":"error"},{"inputs":[],"name":"AirdropRequestAlreadyProcessed","type":"error"},{"inputs":[{"internalType":"uint256","name":"expirationTimestamp","type":"uint256"}],"name":"AirdropRequestExpired","type":"error"},{"inputs":[],"name":"AirdropRequestInvalidSigner","type":"error"},{"inputs":[],"name":"AirdropValueMismatch","type":"error"},{"inputs":[],"name":"ContractMetadataUnauthorized","type":"error"},{"inputs":[],"name":"OwnableUnauthorized","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"}],"name":"Airdrop","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"receiver","type":"address"}],"name":"AirdropClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"}],"name":"AirdropWithSignature","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"prevURI","type":"string"},{"indexed":false,"internalType":"string","name":"newURI","type":"string"}],"name":"ContractURIUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"prevOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerUpdated","type":"event"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC1155[]","name":"_contents","type":"tuple[]"}],"name":"airdropERC1155","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"uid","type":"bytes32"},{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"expirationTimestamp","type":"uint256"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC1155[]","name":"contents","type":"tuple[]"}],"internalType":"struct Airdrop.AirdropRequestERC1155","name":"req","type":"tuple"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"airdropERC1155WithSignature","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC20[]","name":"_contents","type":"tuple[]"}],"name":"airdropERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"uid","type":"bytes32"},{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"expirationTimestamp","type":"uint256"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC20[]","name":"contents","type":"tuple[]"}],"internalType":"struct Airdrop.AirdropRequestERC20","name":"req","type":"tuple"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"airdropERC20WithSignature","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC721[]","name":"_contents","type":"tuple[]"}],"name":"airdropERC721","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"uid","type":"bytes32"},{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"expirationTimestamp","type":"uint256"},{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC721[]","name":"contents","type":"tuple[]"}],"internalType":"struct Airdrop.AirdropRequestERC721","name":"req","type":"tuple"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"airdropERC721WithSignature","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct Airdrop.AirdropContentERC20[]","name":"_contents","type":"tuple[]"}],"name":"airdropNativeToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_quantity","type":"uint256"},{"internalType":"bytes32[]","name":"_proofs","type":"bytes32[]"}],"name":"claimERC1155","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_quantity","type":"uint256"},{"internalType":"bytes32[]","name":"_proofs","type":"bytes32[]"}],"name":"claimERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"bytes32[]","name":"_proofs","type":"bytes32[]"}],"name":"claimERC721","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_defaultAdmin","type":"address"},{"internalType":"string","name":"_contractURI","type":"string"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"isClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"processed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_uri","type":"string"}],"name":"setContractURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"bytes32","name":"_tokenMerkleRoot","type":"bytes32"},{"internalType":"bool","name":"_resetClaimStatus","type":"bool"}],"name":"setMerkleRoot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newOwner","type":"address"}],"name":"setOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenConditionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenMerkleRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"}]</pre><br></div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="readContract" style="display: none">
                        <div id="loadingReadContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayReadContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="readcontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px; padding:0px 0.5px;"></iframe>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="writeContract" style="display: none">
                        <div id="loadingWriteContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayWriteContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="writecontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px; min-height:600px;padding:0px 0.5px;"></iframe>                              
                        </div>
                    </div>
                    <div class="tab-pane fade" id="readProxyContract" style="display: none">
                        <div><span id="ContentPlaceHolder1_readProxyMessage"></span></div>
                         <div><small><span id="ContentPlaceHolder1_proxyKbMessageRead"></span></small></div>
                        <br />
                        <div id="loadingReadProxyContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayReadProxyContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="readproxycontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px;"></iframe>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="writeProxyContract" style="display: none">
                        <div><span id="ContentPlaceHolder1_writeProxyMessage"></span></div>
                        <div><small><span id="ContentPlaceHolder1_proxyKbMessageWrite"></span></small></div>
                        <br />
                        <div id="loadingWriteProxyContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayWriteProxyContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="writeproxycontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px; min-height:600px;"></iframe>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="multipleProxyContract" style="display: none">
                        <div><span id="ContentPlaceHolder1_multipleProxyMessage"></span></div>
                        <div><small><span id="ContentPlaceHolder1_proxyKbMessageMultiple"></span></small></div>
                        <div id="loadingMultipleProxyContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayMultipleProxyContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="multipleproxycontractiframe" src="" frameborder="0" scrolling="yes" style="height: 600px; min-height:600px;"></iframe>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="readCustomContract" style="display: none">
                        <div><span id="ContentPlaceHolder1_readCustomMessage"></span></div>
                        <div id="loadingReadCustomContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayReadCustomContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="readcustomcontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px;"></iframe>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="writeCustomContract" style="display: none">
                        <div><span id="ContentPlaceHolder1_writeCustomMessage"></span></div>
                        <div id="loadingWriteCustomContractframe" style="position:absolute; left:50%; margin-left:-31px">
                            <!-- Spinner --><div id="overlayWriteCustomContract" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                        </div>
                        <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                            <iframe width="100%" id="writecustomcontractiframe" src="" frameborder="0" scrolling="no" style="height: 600px; min-height:600px;"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="events" role="tabpanel" aria-labelledby="tab-8" tabindex="0">
                <div class="card p-5 mb-3">
                    <div class="table-responsive" style=" visibility:hidden; line-height:0;">
                        <iframe width="100%" id="eventsIframe" src="" frameborder="0" style="height: 600px;"></iframe>   
                    </div>
                </div>
            </div>            

             <div class="tab-pane fade" id="mine" role="tabpanel" aria-labelledby="tab-9" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">
                            <p class="mb-0">
                                
                            </p>
                        </div>
                    </div>
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-nowrap">
                                <tr>
                                    <th scope="col">
                                        Block
                                    </th>
                                    <th scope="col">
                                        <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkMinBlkAgeDateTime"></a>
                                    </th>
                                    <th scope="col">
                                        Transaction
                                    </th>
                                    
                                    <th scope="col">
                                        Gas Used
                                    </th>
                                    <th scope="col">
                                        Reward
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                
                            </tbody>
                        </table>
                    </div>
                    <!-- End Table -->

                    <!-- Table Footer -->
                    <a id="ContentPlaceHolder1_linkShowAllBlocksMined" class="card-footer bg-light fw-medium text-cap link-muted text-center" data-bs-toggle="tooltip" title="View All Transactions">view all blocks sequenced<i class="far fa-long-arrow-right ms-1"></i></a>
                    <!-- End Table Footer -->
                </div>
            </div>

            

            <div class="tab-pane fade" id="uncle" role="tabpanel" aria-labelledby="tab-10" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">
                            <p class="mb-0">
                                
                            </p>
                        </div>
                    </div>
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-nowrap">
                                <tr>
                                    <th scope="col">Block
                                    </th>
                                    <th scope="col">
                                        <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkMinUncAgeDateTime"></a>
                                    </th>
                                    <th scope="col">Uncle Number
                                    </th>
                                    <th scope="col">Difficulty
                                    </th>
                                    <th scope="col">Gas Used
                                    </th>
                                    <th scope="col">Reward
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                
                            </tbody>
                        </table>
                    </div>
                    <!-- End Table -->

                    <!-- Table Footer -->
                    <a id="ContentPlaceHolder1_linkShowAllUnclesMined" class="card-footer bg-light fw-medium text-cap link-muted text-center" data-bs-toggle="tooltip" title="View All Transactions">View All Uncles<i class="far fa-long-arrow-right ms-1"></i></a>
                    <!-- End Table Footer -->
                </div>
            </div>

            <div class="tab-pane fade" id="loans" role="tabpanel" aria-labelledby="tab-11" tabindex="0">
                <div class="card p-5 mb-3">
                    <div id="loadingloansframe" style="position: absolute; left: 50%; margin-left: -31px">
                        <!-- Spinner --><div id="overlay_loans" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                    </div>
                    <div class="table-responsive" style="overflow: auto; -webkit-overflow-scrolling: touch; visibility: hidden; line-height:0;">
                        <iframe width="100%" id="loans_pageiframe" src="" frameborder="0" scrolling="yes"></iframe>
                    </div>
                </div>
            </div>

            

            <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="tab-13" tabindex="0">
                <div class="card p-5 mb-3">
                    <div class="table-responsive mb-2" style="overflow: auto; -webkit-overflow-scrolling: touch;">
                        
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="info" role="tabpanel" aria-labelledby="tab-info" tabindex="0">
                <div class="card p-5 mb-3">
                    <div id="loadingMoreInfoIframe" style="position:absolute; left:50%; margin-left:-31px">
                        <!-- Spinner --><div id="overlayMoreInfo" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                    </div>
                    <div class="table-responsive" style="overflow: auto; -webkit-overflow-scrolling: touch; visibility:hidden; line-height:0;">
                        <iframe width="100%" id="moreInfo_pageiframe" src="" frameborder="0" scrolling="no"></iframe>
                    </div>
                </div>
            </div>

            

             <div class="tab-pane fade" id="withdrawals" role="tabpanel" aria-labelledby="tab-16" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">
                            <p class="mb-0">
                                
                            </p>
                        </div>
                    </div>
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-nowrap">
                                <tr>
                                    <th scope="col">
                                        Validator Index
                                    </th>
                                    <th scope="col">
                                        Block
                                    </th>
                                    <th scope="col">
                                        <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkWithBlkAgeDateTime"></a>
                                    </th>
                                    <th scope="col">
                                        Amount
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                
                            </tbody>
                        </table>
                    </div>
                    <!-- End Table -->

                    <!-- Table Footer -->
                    <a id="ContentPlaceHolder1_linkShowAllWithdrawals" class="card-footer bg-light fw-medium text-cap link-muted text-center" data-bs-toggle="tooltip" title="View All Withdrawals">View All Withdrawals</a>
                    <!-- End Table Footer -->
                </div>
            </div>

            <div class="tab-pane fade" id="deposits" role="tabpanel" aria-labelledby="tab-17" tabindex="0">
                <div class="card">
                    <!-- Data Info -->
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">
                            <p class="mb-0">
                                
                            </p>
                        </div>
                    </div>
                    <!-- End Data Info -->

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="text-nowrap">
                                <tr>
                                    <th scope="col">
                                        Transaction Hash
                                    </th>
                                    <th scope="col">
                                        Block
                                    </th>
                                    <th scope="col">
                                        <a href="javascript:;" onclick="switchAgeToDateTimeInAddPage(this)" id="lnkDepositBlkAgeDateTime"></a>
                                    </th>
                                    <th scope="col">
                                        Value
                                    </th>
                                    <th scope="col">
                                        Eth2 PubKey
                                    </th>
                                    <th scope="col">
                                        Valid
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="align-middle text-nowrap">
                                
                            </tbody>
                        </table>
                    </div>
                    <!-- End Table -->

                    <!-- Table Footer -->
                    <a id="ContentPlaceHolder1_linkShowAllDeposits" class="card-footer bg-light fw-medium text-cap link-muted text-center" data-bs-toggle="tooltip" title="View All Deposits">View All Deposits</a>
                    <!-- End Table Footer -->
                </div>
            </div>
           
            
            <div class="tab-pane fade" style="scroll-margin-top: 98px;" id="assets" role="tabpanel" aria-labelledby="tab-assets" tabindex="0">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-center flex-wrap gap-2">
                            <ul class="nav nav-pills nav-sm-segment text-nowrap snap-x-mandatory overflow-x-auto flex-nowrap flex-grow-1 flex-sm-grow-0 border-2 rounded gap-1 p-0.5 mb-4" id="assetsTabNav" role="tablist">
                                <li id="ContentPlaceHolder1_liAssetMultichain" class="nav-item snap-align-start">
                                    <button class="nav-link rounded-sm active" id="asset-multichain-tab" onclick="updatehash('asset-multichain');onloadMultichainPortfolio();" data-bs-toggle="tab" data-bs-target="#asset-multichain" type="button" role="tab" aria-controls="asset-multichain-tab-pane" aria-selected="false">Multichain Portfolio</button>
                                </li>
                                <li id="ContentPlaceHolder1_liAssetTokensTabNav" class="nav-item snap-align-start">
                                    <button class="nav-link rounded-sm" id="asset-tokens-tab" onclick="updatehash('asset-tokens')" data-bs-toggle="tab" data-bs-target="#asset-tokens-tab-pane" type="button" role="tab" aria-controls="asset-tokens-tab-pane" aria-selected="true">Tokens</button>
                                </li>

                                <li id="ContentPlaceHolder1_liAssetNftsTabNav" class="nav-item snap-align-start">
                                    <button class="nav-link rounded-sm" id="asset-nfts-tab" onclick="updatehash('asset-nfts')" data-bs-toggle="tab" data-bs-target="#asset-nfts-tab-pane" type="button" role="tab" aria-controls="asset-nfts-tab-pane" aria-selected="false">NFTs</button>
                                </li>
                            </ul>
                        </div>

                        <div class="tab-content" id="assetsTabContent">
                            
                            
                            <div class="tab-pane fade show active" id="asset-multichain" role="tabpanel" aria-labelledby="asset-multichain" tabindex="0">
                                <div class="multichain-portfolio-chain-info">
                                    <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-3">
                                        <h3 class="h6 mb-0">Multichain Portfolio <span class="text-muted">|
                                35 Chains</span></h3>

                                        <div class="d-flex flex-wrap align-items-center gap-2">
                                            <a id="js-chain-filter-all" class="small link-secondary pointer-events-none text-decoration-underline" href="javascript:;">Display all chains</a>
                                            <span>•</span>
                                            <div id="multichain-lastupdated" class="small text-muted">
                                                Last updated: <span class="text-dark">
                                                    less than 1 sec ago</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="js-tokens row g-2">
                                        <div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ETH"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/eth.svg" alt="Ethereum"></div><span class="text-muted small">Ethereum <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="BSC"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/bsc.svg" alt="BNB Chain"></div><span class="text-muted small">BNB Chain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="POL"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/pol.svg" alt="Polygon"></div><span class="text-muted small">Polygon <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ARB"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/arb.svg" alt="Arbitrum One"></div><span class="text-muted small">Arbitrum One <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="OP"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/op.svg" alt="Optimism"></div><span class="text-muted small">Optimism <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="BASE"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/base.svg" alt="Base"></div><span class="text-muted small">Base <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="BTTC"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/bttc.svg" alt="BTTC"></div><span class="text-muted small">BTTC <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="CELO"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/celo.svg" alt="Celo"></div><span class="text-muted small">Celo <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="GNO"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/gno.svg" alt="Gnosis"></div><span class="text-muted small">Gnosis <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ZKEVM"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/zkevm.svg" alt="Polygon zkEVM"></div><span class="text-muted small">Polygon zkEVM <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="LINEA"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/linea.svg" alt="Linea"></div><span class="text-muted small">Linea <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="GLMR"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/glmr.svg" alt="Moonbeam"></div><span class="text-muted small">Moonbeam <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="MOVR"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/movr.svg" alt="Moonriver"></div><span class="text-muted small">Moonriver <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ARBNOVA"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/arbnova.svg" alt="Arbitrum Nova"></div><span class="text-muted small">Arbitrum Nova <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="SCROLL"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/scroll.svg" alt="Scroll"></div><span class="text-muted small">Scroll <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="WEMIX"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/wemix.svg" alt="Wemix"></div><span class="text-muted small">Wemix <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="AVAX"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/avax.svg" alt="Avax C-Chain"></div><span class="text-muted small">Avax C-Chain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ZKSYNC"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/zksync.svg" alt="zkSync Era"></div><span class="text-muted small">zkSync Era <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="OPBNB"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/opbnb.svg" alt="opBNB"></div><span class="text-muted small">opBNB <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="FRAXTAL"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/fraxtal.svg" alt="Fraxtal"></div><span class="text-muted small">Fraxtal <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="BLAST"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/blast.svg" alt="Blast"></div><span class="text-muted small">Blast <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="CRONOS"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/cronos.svg" alt="Cronos"></div><span class="text-muted small">Cronos <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="MANTLE"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/mantle.svg" alt="Mantle"></div><span class="text-muted small">Mantle <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="TAIKO"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/taiko.svg" alt="Taiko"></div><span class="text-muted small">Taiko <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="XAI"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/xai.svg" alt="Xai"></div><span class="text-muted small">Xai <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="WORLD"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/world.svg" alt="World"></div><span class="text-muted small">World <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="XDC"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/xdc.svg" alt="Xdc"></div><span class="text-muted small">Xdc <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="APE"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/ape.svg" alt="Ape"></div><span class="text-muted small">Ape <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="SOPHON"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/sophon.svg" alt="Sophon"></div><span class="text-muted small">Sophon <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="UNI"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/uni.svg" alt="Unichain"></div><span class="text-muted small">Unichain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="BERA"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/bera.svg" alt="Berachain"></div><span class="text-muted small">Berachain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="MEMECORE"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/memecore.svg" alt="MemeCoreChain"></div><span class="text-muted small">MemeCoreChain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="SWELL"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/swell.svg" alt="Swellchain"></div><span class="text-muted small">Swellchain <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="SONIC"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/sonic.svg" alt="Sonic"></div><span class="text-muted small">Sonic <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div class="js-chain col-6 col-md-3 col-xl-2 d-none js-chain-hide" data-chain="ABSTRACT"><a href="javascript:;" class="card bg-light hover:bg-secondary hover:border-secondary hover:border-opacity-50 transition-all h-100 shadow-none rounded p-2"><div class="d-flex align-items-center gap-1 mb-1"><div><img class="js-chain-icon" width="18" src="https://images.blockscan.com/chain-logos/abstract.svg" alt="Abstract"></div><span class="text-muted small">Abstract <span Class="text-muted">(0)</span></span></div><div><div class="text-dark mb-n0.5 ms-1">0 <span class=" text-muted small">(0%)</span></div></div></a></div><div id="js-chain-show-all" class="col-6 col-md-3 col-xl-2"><div class="d-flex align-items-center h-100 px-3"><a class="link-muted small text-decoration-underline" href="javascript:;"><span id="js-chain-show-all-show"><i class="far fa-plus me-0.5"></i> Show 35 more chains</span><span id="js-chain-show-all-hide" class="d-none"><i class="far fa-minus me-0.5"></i> Hide 35 chains</span></a></div></div>
                                    </div>
                                </div>

                                <div class="table-responsive mx-n4">
                                    <table id="js-chain-table" class="table table-hover" style="margin-bottom: 0 !important;">
                                        <thead class="text-nowrap align-middle">
                                            <tr>
                                                <th scope="col" width="70" class="text-muted">Chain</th>
                                                <th scope="col">Token</th>
                                                <th scope="col">Portfolio %</th>
                                                <th scope="col">Price</th>
                                                <th scope="col">Amount</th>
                                                <th scope="col">Value</th>
                                            </tr>
                                        </thead>

                                        <tbody class="js-assets text-nowrap align-middle">
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            

                            
                            <div class="tab-pane fade" id="asset-tokens-tab-pane" role="tabpanel" aria-labelledby="asset-tokens-tab" tabindex="0">
                                <div id="loadingTokenHoldingIframe" class="position-absolute" style="left: 45%; top: 14%;">
                                    <!-- Spinner --><div id="overlay_token_holding" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                                </div>

                                <div class="mx-n4 mb-n4" style="visibility: hidden; line-height: 0;">
                                    <iframe id="tokenHoldingIframe" src="" frameborder="0" scrolling="no" style="height: 396px; min-width: 100%;"></iframe>
                                </div>
                            </div>
                            

                            
                            <div class="tab-pane fade" id="asset-nfts-tab-pane" role="tabpanel" aria-labelledby="asset-nfts-tab" tabindex="0">
                                <div id="loadingNftHoldingIframe" class="position-absolute" style="left: 45%; top: 14%;">
                                    <!-- Spinner --><div id="loading_nft_holding" class="text-center py-10 "><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><div class="small text-muted mt-1">Loading</div></div><!-- End Spinner -->
                                </div>

                                <div class="mx-n4 mb-n4" style="visibility: hidden; line-height: 0;">
                                    <iframe id="nftHoldingIframe" src="" frameborder="0" scrolling="no" style="height: 396px; min-width: 100%;"></iframe>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            
        </div>


        <!-- Testnet Banner -->
        
        <!-- End Testnet Banner -->
        
        <!-- Export to CSV -->
        <div id="divTxnCsv" class='d-none fs-80x text-muted text-end mt-3'>
            
        </div>
        
        <div id="divIntTxnCsv" class='d-none fs-80x text-muted text-end mt-3'>
            [&nbsp;Download: <a data-bs-toggle='tooltip' data-bs-trigger='hover' title='Export records in CSV format' href='/exportData?type=internaltxns&a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd' target='_blank' class='fw-medium'>CSV Export</a> <i class='far fa-download fa-fw'></i>&nbsp;]
        </div>
        
        <div id="divBlocksCsv" class='d-none fs-80x text-muted text-end mt-3'>
            
        </div>
        <!-- End Export to CSV -->

        <!-- Page Description -->
        <div class="mt-4">
            <p class="d-flex align-items-baseline fs-sm text-muted gap-1 mb-3">
                <i class='far fa-lightbulb-on'></i><span>A contract address hosts a smart contract, which is a set of code stored on the blockchain that runs when predetermined conditions are met. Learn more about addresses in our <a target='_blank' href='https://info.lineascan.build/what-is-an-address/'>Knowledge Base</a>.</span>
            </p>
        </div>
        <!-- End Page Description -->
    </section>
    <!-- End Content -->
    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">Address QR Code</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div id="qrcode" class="img-fluid"></div>
                    <div class="small text-break mt-3 px-sm-6"><span id="qraddress"></span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="responsive" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        My Address - Private Name Tag or Note
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <p class="mb-1 ms-1">My Name Tag:</p>
                        <input type="text" spellcheck="false" class="form-control py-2 mb-2" id="txtPrivateNameTag" maxlength="35" onKeyUp="javascript:Count(this);" onChange="javascript:Count(this);" value="" />
                        <div class="small text-muted mt-0 ms-1"><span id="privatetagtip">Private Name Tags (up to 35 characters) can be used for easy identification of addresses</span></div>
                    </div>
                    <div class="mb-4">
                        <p class="mt-4 mb-1 ms-1">Private Note:</p>
                        <textarea rows="8" cols="50" spellcheck="false" class="form-control py-2" id="txtPrivateNoteArea"  onKeyUp="javascript:Count(this);" onChange="javascript:Count(this);"></textarea>                                    
                        <div class="small text-muted mt-1 ms-1"><span id="privatenotetip">A private note (up to 500 characters) can be attached to this address.<br />Please  <span class='fw-bold'>DO NOT</span>  store any passwords or private keys here.</span></div>
                    </div>
                    <a target="_blank" href="/mynotes_address">
                        View all Private Name Tags <i class="far fa-arrow-up-right text-secondary ms-1"></i>
                    </a>
                </div>
                <div class="modal-footer bg-light">
                    <button data-bs-dismiss="modal" class="btn btn-ghost-white" type="button" id="closenote" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Close form without saving changes made" onclick="javascript:updatehash('')">Close</button>
                    <button class="btn btn-primary" type="button" id="savenote" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Save all changes made" onclick="javascript:updatehash('');UpdatePrivateNameTagDisplay();">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="myModalCompilerWarning">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <span id="compilerwarning"></span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Modal -->
    <div class="modal fade" id="WalletModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Connect a Wallet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
        
                <div class="modal-body">

                    <div id="readContractMessage" class="alert alert-dark align-items-baseline mt-n2" role="alert" style="display:none;">
                        <i class="far fa-info-circle me-2"></i>
                        <span>&nbsp;Connecting wallet for read function is optional, useful if you want to call certain functions or simply use your wallet's node.</span>
                    </div>

                    <div class="mb-4">
                         
                        <button id="btnMetamask" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark d-flex align-items-center">MetaMask 
                                 
                                <span class="badge border bg-light text-dark ms-2">Popular</span>
                                 
                            </span>
                            <img width="25" src="../images/svg/brands/metamask.svg" alt="">
                        </button>

                        <button id="btnWalletConnect_reown" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">WalletConnect (Reown)</span>
                            <img width="25" src="../images/svg/brands/walletconnect.svg" alt="">
                        </button>

                        

                        

                        <button id="btnCoinbaseWallet" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">Coinbase Wallet</span>
                            <img width="25" src="../images/svg/brands/coinbase.svg" alt="" align="right">
                        </button>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <!-- End Wallet Modal -->

    <!-- Wallet Modal for proxy iframe -->
    <div class="modal fade" id="WalletModalProxyIframe" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ProxyModalLabel">Connect a Wallet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
        
                <div class="modal-body">

                    <div id="readContractMessageProxy" class="alert alert-dark align-items-baseline mt-n2" role="alert" style="display:none;">
                        <i class="far fa-info-circle me-2"></i>
                        <span>&nbsp;Connecting wallet for read function is optional, useful if you want to call certain functions or simply use your wallet's node.</span>
                    </div>

                    <div class="mb-4">
                         

                        <button id="btnMetamaskProxy" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark d-flex align-items-center">MetaMask 
                                
                                <span class="badge border bg-light text-dark ms-2">Popular</span>
                                 
                            </span>
                            <img width="25" src="../images/svg/brands/metamask.svg" alt="">
                        </button>
            
                        <button id="btnWalletConnect_reownProxy" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">WalletConnect (Reown)</span>
                            <img width="25" src="../images/svg/brands/walletconnect.svg" alt="">
                        </button>
            
                        

                       

                        <button id="btnCoinbaseWalletProxy" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">Coinbase Wallet</span>
                            <img width="25" src="../images/svg/brands/coinbase.svg" alt="" align="right">
                        </button>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <!-- End Wallet Modal -->

    <!-- Wallet Modal for custome contract iframe -->
    <div class="modal fade" id="WalletModalCustomeContractIframe" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="CustomeContractModalLabel">Connect a Wallet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">

                    <div id="readContractMessageCustomeContract" class="alert alert-dark align-items-baseline mt-n2" role="alert" style="display:none;">
                        <i class="far fa-info-circle me-2"></i>
                        <span>&nbsp;Connecting wallet for read function is optional, useful if you want to call certain functions or simply use your wallet's node.</span>
                    </div>

                    <div class="mb-4">
                         
                        <button id="btnMetamaskCustomeContract" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark d-flex align-items-center">MetaMask 
                                 
                                <span class="badge border bg-light text-dark ms-2">Popular</span>
                                  
                            </span>
                            <img width="25" src="../images/svg/brands/metamask.svg" alt="">
                        </button>

                        <button id="btnWalletConnect_reownCustomeContract" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">WalletConnect (Reown)</span>
                            <img width="25" src="../images/svg/brands/walletconnect.svg" alt="">
                        </button>

                        

                        

                        <button id="btnCoinbaseWalletCustomeContract" type="button" onclick="" class="btn btn-lg btn-white d-flex justify-content-between align-items-center w-100 p-3 mb-2">
                            <span class="text-dark">Coinbase Wallet</span>
                            <img width="25" src="../images/svg/brands/coinbase.svg" alt="" align="right">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Wallet Modal -->


    </main>

    <div id="push" style="display: none;"></div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="emailSubscribeModalBox" aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close close-md" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="text-center py-5-alt px-4">
                        <div id="emailSubscribeModalBoxText"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    

    
    
    <div class="modal fade" id="copyAddressConfirmModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body pt-0">
                    <div class="mb-5">
                        <div class="text-center">
                            <div class="mb-2">
                                <i class="fas fa-exclamation-triangle text-warning fs-2"></i>
                            </div>

                            <h6 class="modal-title fs-5 mb-0">Before You Copy</h6>
                        </div>

                        <div class="mb-3 text-center">
                            <p class="text-muted small" id="addressToCopy"></p>
                        </div>

                        <p id="copyAddressConfirmMessage"></p>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="popupDontShowAgain">
                            <label class="form-check-label" for="popupDontShowAgain">Don't show this for 30 days</label>
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="button" id="btnConfirmCopyAddress" data-clipboard-target="#addressToCopy" class="btn btn-lg btn-secondary" data-bs-dismiss="modal">
                            Understand, Copy Address
                       
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Modal: Add Transaction Private Note -->
 <div class="modal fade" id="tnxPrivateNoteModal" tabindex="-1" role="dialog">
     <div class="modal-dialog">
         <div class="modal-content">
         <div class="modal-header">
             <h1 class="modal-title" id="tnxPrivateNoteModalLabel">Transaction Private Note</h1>
             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>

         <div class="modal-body">
             <form>
             <div class="mb-4">
                 <label class="form-label" for="saveTxnNoteHash">Transaction Hash</label>
                 <input type="text" class="form-control py-2" id="saveTxnNoteHash" disabled>
             </div>

             <div class="mb-4">
                 <label class="form-label" for="editTxnNote">Private Note Description</label>

                 <textarea class="form-control py-2" id="editTxnNote" rows="5" name="text" placeholder="Short description.." maxlength="100"></textarea>
                 <div class="small text-muted mt-1 ms-1"><span id="txtPrivateNoteTip"></span></div>

                 <div class="form-text mt-2">
                 <p>Please <strong class="fw-medium">DO NOT</strong> store any passwords or private keys here. A private note (up to 100 characters) can be saved and is useful for transaction tracking.
                 </div>
             </div>

             <div class="d-flex flex-wrap gap-4">
                 <a target="_blank" href="/mynotes_tx" rel="noopener noreferrer">
                 View All Transactions Private Notes <i class="far fa-arrow-up-right text-secondary ms-1"></i>
                 </a>
             </div>

             </form>
         </div>

         <div class="modal-footer">
             <button type="button" class="btn btn-ghost-white" data-bs-dismiss="modal">Cancel</button>
             <button type="button" class="btn btn-primary" onclick="quickSubmitTxPrivateNote();">Save changes</button>
             <span id="modalElement" name="modalElement" style="display: none;"></span>
         </div>
         </div>
     </div>
 </div>
 <!-- End Modal: Add Transaction Private Note -->

<!-- Modal: Quick Add Private Name Tags -->
 <div class="modal fade" id="privateNameTagModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
     <div class="modal-dialog">
         <div class="modal-content">
             <div class="modal-header">
                 <h5 class="modal-title">
                     My Address - Private Name Tag or Note
                 </h5>
                 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
             </div>
             <div class="modal-body">
                 <div class="mb-4">
                     <p class="mb-1 ms-1">My Name Tag:</p>
                     <input type="hidden" name="txtAddress" id="txtAddress" />
                     <input type="text" spellcheck="false" class="form-control py-2 mb-2" id="txtPrivateNameTagMain" maxlength="35" />
                     <div class="small text-muted mt-0 ms-1"><span id="privatetagtip">Private Name Tags (up to 35 characters) can be used for easy identification of addresses</span></div>
                 </div>
                 <div class="mb-4">
                     <p class="mt-4 mb-1 ms-1">Private Note:</p>
                     <textarea rows="8" cols="50" spellcheck="false" class="form-control py-2" id="txtPrivateNoteAreaMain" maxlength="500"></textarea>                                    
                     <div class="small text-muted mt-1 ms-1"><span id="privatenotetipMain">A private note (up to 500 characters) can be attached to this address. Please DO NOT store any passwords or private keys here.</span></div>
                 </div>
                 <a target="_blank" href="/mynotes_address">
                     View all Private Name Tags <i class="far fa-arrow-up-right text-secondary ms-1"></i>
                 </a>
             </div>
             <div class="modal-footer bg-light">
                 <button data-bs-dismiss="modal" class="btn btn-ghost-white" type="button" id="closenote" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Close form without saving changes made">Close</button>
                 <button class="btn btn-primary" type="button" id="savenote" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Save all changes made" onclick="quickSubmitPrivateNameTag();">Save Changes</button>
                 <span id="modalElementPrivateNameTag" name="modalElementPrivateNameTag" style="display: none;"></span>
             </div>
         </div>
     </div>
 </div>
 <!-- End Modal: Quick Add Private Name Tags -->

    <footer id="masterFooter" class="bg-light mt-auto d-print-none">
        
        <div class="container-xxl">
            <div class="d-flex justify-content-between align-items-baseline py-6">
                <!-- Social Links -->
                <div class="d-flex gap-2">
                    
                    <a class="link-dark" href="https://twitter.com/LineaScan" rel="nofollow noopener" target="_blank">
                        <i class="fab fa-x-twitter me-0.5"></i> (Twitter)
                    </a>
                    
                </div>
                <!-- End Social Links -->

                <a class="link-dark" href="#">
                    <i class="far fa-arrow-up-to-line me-1"></i>Back to Top
                </a>
            </div>

            <hr class="my-0">

            <!-- Footer Content -->
            <div class="row justify-content-md-between py-8 py-lg-10">
                <div class="col-lg-4 pe-xl-16 mb-4 mb-lg-0">
                    
                    <a class="d-inline-flex align-items-center link-dark group mb-3" target="_blank" href="https://linea.build">
                        <img class="me-2" width="22" data-img-theme="light" src="/assets/linea/images/svg/logos/chain-light.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                        <img class="me-2" width="22" data-img-theme="dim" src="/assets/linea/images/svg/logos/chain-dim.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                        <img class="me-2" width="22" data-img-theme="dark" src="/assets/linea/images/svg/logos/chain-dark.svg?v=25.7.4.1" alt="Linea Mainnet Logo">
                        <span class="fs-5">Powered By Linea</span>
                        <i class="far fa-arrow-up-right-from-square text-muted small group-hover ms-2"></i>
                    </a>
                    

                    <p class="fs-sm">This is a Block Explorer and Analytics Platform for Linea Mainnet</p>
                    <button type="button" class="btn btn-sm btn-secondary" onclick="addNetwork('web3');">
                        <img class="me-1" width="18" src="/images/svg/brands/metamask.svg" alt="Metamask"> Add Linea Mainnet Network
                    </button>
                </div>

                <div class="col-6 col-md-4 col-lg mb-10 mb-md-0">
                    <h4 class="h6 mb-3">Company</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        
                        <li><a class="link-dark" href="/brandassets">Brand Assets</a></li>
                        <li><a class="link-dark" href="/contactus">Contact Us</a></li>
                        
                        <li><a class="link-dark" href="/terms">Terms</a> & <a class="link-dark" href="/privacyPolicy">Privacy</a></li>
                        <li><a class="link-dark" href="https://etherscan.io/bugbounty" target='_blank'>Bug Bounty</a> <i class='far fa-arrow-up-right-from-square text-muted ms-1'></i></li>
                    </ul>
                    <!-- End List Group -->
                </div>

                

                <div class="col-6 col-md-4 col-lg mb-10 mb-md-0">
                    <h4 class="h6 mb-3">Community</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        
                            <li><a class="link-dark" href="https://docs.etherscan.io/etherscan-v2" target="_blank">API Documentation</a></li>
                        
                            <li><a class="link-dark" href="https://info.lineascan.build">Knowledge Base</a></li>
                        
                        <li><a class="link-dark" href="https://lineascan.statuspage.io" rel="nofollow noopener" target="_blank">Network Status</a></li>
                        
                    </ul>
                    <!-- End List Group -->
                </div>

                <div class="col-12 col-md-4 col-lg">
                    <h4 class="h6 mb-3">Products &amp; Services</h4>
                    <!-- List Group -->
                    <ul class="list-unstyled list-sm-space fs-sm mb-0">
                        
                        <li><a class="link-dark" href="https://etherscan.io/contactusadvertise?type=999">Advertise <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                        
                        <li><a class="link-dark" href="https://etherscan.io/eaas" target="_blank">Explorer as a Service (EaaS) <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                        <li>
                            <a href="https://etherscan.io/apis?id=59144" id="LI80" class="link-dark" target="_blank">API Plans <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                        
                        <li><a class="link-dark" href="/priority-support">Priority Support</a></li>
                        
                        <li><a class="link-dark" href="https://blockscan.com" target="_blank">Blockscan <i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a></li>
                        
                    </ul>
                    <!-- End List Group -->
                </div>
            </div>
            <!-- End Footer Content -->

            <!-- Copyright Content -->
            <div class="border-top py-4">
                <div class="row justify-content-between align-items-center fs-sm">
                    <div class="col-md mb-2 mb-md-0">
                        <p class="mb-0">
                            LineaScan © 2025  (Linea-A1)
                            <span class="mx-1">|</span>
                            ⛏ Built by Team <a href="https://etherscan.io" target="_blank"><strong>Etherscan</strong><i class="far fa-arrow-up-right-from-square text-muted ms-1"></i></a>
                        </p>
                    </div>

                    <div class="col-md text-md-end">
                        <p class="mb-0">
                            Donations: <a class='me-1' href='/address/0x71c7656ec7ab88b098defb751b7401b5f6d8976f'><span id='spanDonateAddress' runat='server'>0x71c765...d8976f</span></a> <i class='fas fa-heart text-danger'></i>
                        </p>
                    </div>
                </div>
            </div>
            <!-- End Copyright Content -->
        </div>
        </footer>
    <!-- ========== END FOOTER ========== -->

    <!-- Cookie Alert -->
    <div id="masterDivCookie">
        <div class="fixed-bottom text-center" id="divcookie" style="display: none;">
            <div class="alert alert-light fade show border shadow-sm d-inline-flex flex-wrap flex-sm-nowrap align-items-sm-center text-start gap-3 mx-3" role="alert">
                <p class="text-dark mb-0">
                    <i class="far fa-cookie-bite text-muted"></i> This website <a href="/terms#cookiestatement" target="_blank">uses cookies to improve your experience</a>. By continuing to use this website, you agree to its <a href="/terms" target="_blank">Terms</a> and <a href="/privacyPolicy" target="_blank">Privacy Policy</a>.
                </p>
                <button id ='btnCookie' type="button" class="btn btn-primary text-nowrap px-4" data-bs-dismiss="alert" aria-label="Close">Got it!</button>
            </div>
        </div>
    </div>
    <!-- End Cookie Alert -->

    <script src="/assets/vendor/jquery-ui/jquery-ui.min.js?v=25.7.4.1"></script>
 <script src="/assets/vendor/jquery-migrate/dist/jquery-migrate.min.js?v=25.7.4.1"></script>
 <script src="/assets/vendor/bootstrap/bootstrap.bundle.min.js?v=25.7.4.1"></script>

 <!-- JS Implementing Plugins -->
 <script src="/assets/vendor/cubeportfolio/js/jquery.cubeportfolio.min.js?v=25.7.4.1"></script>
 <script src="/assets/vendor/clipboard/dist/clipboard.min.js?v=25.7.4.1"></script>

 <!-- JS Front -->
 <script src="/assets/js/hs.core.js?v=25.7.4.1"></script>
 <script src="/assets/js/components/hs.cubeportfolio.js?v=25.7.4.1"></script>
 <script src="/assets/js/custom/combine-js-bottom2.js?v=25.7.4.1"></script>
 <script src="/assets/vendor/autocomplete/dist/js/autocomplete.min.js?v=25.7.4.1"></script>
 <script src="/assets/js/custom/blockchain-search.js?v=25.7.4.1"></script>
 <!-- JS -->
 <script src="/assets/js/app.min.js?v=25.7.4.1"></script>
 
 <!-- JS Init. -->
    <script>
        var strSearchBoxSiteToken = 'ERC';

        (function () {
            // INITIALIZATION OF CLIPBOARD
            HSCore.components.HSClipboard.init('.js-clipboard');

            let searchAttributes = {
                'name': 'title',
                'img': 'img',
                'rate': 'rate',
                'address': 'address',
                'link': 'link',
                'group': 'group',
                'groupid': 'groupid',
                'website': 'website',
                'is_verified': 'is_checked',
                'ps': 'ps',
                'desc': 'desc',
                'reputation' : 'reputation'
            }

            blockChainSearchInit({
                id: 'search-panel',
                attributes: searchAttributes
            });
        })();


    </script>
    <!-- JS Plugins Init. -->
    <script>
        $(window).on('load', function () {
            myfn_subscribeNewsletter.startFn("#btnSubscribeNewsletter", "#signupSrEmail")
        });

        $(document).on('ready', function () {

            // Get offset timezone of enduser and set to cookie
            const date = new Date();
            const offsetMinutes = date.getTimezoneOffset();
            const offsetHours = Math.abs(offsetMinutes / 60);
            const sign = offsetMinutes > 0 ? '-' : '+';
            offsetHoursFinal = sign + offsetHours;
            writeCookie(strSiteName + "_offset_datetime", offsetHoursFinal, 365);

            // initialization of cubeportfolio
            $.HSCore.components.HSCubeportfolio.init('.cbp');

            const clipboard = new ClipboardJS('.js-clipboard');
            clipboard.on('success', function (e) {
                let toolTip = bootstrap.Tooltip.getInstance(e.trigger);
                var oriTooltip = toolTip._config.originalTitle

                toolTip._config.title = 'Copied!';
                toolTip.setContent();
                toolTip.update();

                setTimeout(function () {
                    toolTip._config.title = oriTooltip;
                }, 1000);
            });
        });

    </script>
    
    <script type="text/javascript">
        var strSiteName = 'lineascan';
        var sid = '90c824c8fe5f05fd0e040bcbaf169788';
        var strGlobal = getCookie(strSiteName + "_switch_age_datetime");
        var strGlobalFee = sessionStorage.getItem("ShowFee");
        var strGlobalSlotEpoch = sessionStorage.getItem("ShowSlotEpoch");
        var cookieconsent = getCookie(strSiteName + "_cookieconsent");
        var ignoreCopyConfirmation = getCopyAddressConfirmationSetting();
        var colorHyperLink = '#7342DC';


if (cookieconsent !== "True" && document.getElementById("divcookie")) {
    document.getElementById("divcookie").style.display = "block";
};


var ace_editor_theme = 'ace/theme/dawn';
var ace_editor_theme_dim = 'ace/theme/tomorrow_night_blue';
var ace_editor_theme_dark = 'ace/theme/tomorrow_night';

var chart_linear_gradient = "{ x1: 0, y1: 0, x2: 0, y2: 1 }";
var chart_stops = "[ [0, Highcharts.getOptions().colors[0]], [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')] ]";
var chart_tooltip_color = "";
var chart_point_color = "";
var chart_series_color = "";

        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) === ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) === 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        $("#btnCookie").click(function () {
            $("#divcookie").fadeOut("slow", function () {
                var d = new Date();
                d.setTime(d.getTime() + (1095 * 24 * 60 * 60 * 1000));
                var expires = "expires=" + d.toUTCString();
                document.cookie = strSiteName + "_cookieconsent=True" + ";" + expires + ";path=/";;
            });
        });

        function handleSearchText(data) {
            searchAddress = false;
            if ($("search-panel").val() == "") {
                $("#hdnSearchText").val("");
                $("#hdnSearchLabel").val("");
            }
        }

        function writeCookie(key, value, days) {
            var date = new Date();
            days = days || 365;
            date.setTime(+ date + (days * 86400000));
            window.document.cookie = key + "=" + value + "; expires=" + date.toGMTString() + "; path=/";
            return value;
        }

        function setThemeMode(mode) {
            writeCookie('displaymode', mode);
        }

        // Note: this function will be called from where need to init the "Copy Address Confirm Modal".
        function openCopyAddressConfirmModal(address, message) {
            $("#addressToCopy").text(address);
            $("#copyAddressConfirmMessage").text(message);

            const clipboard = new ClipboardJS("#btnConfirmCopyAddress");
            document.getElementById('copyAddressConfirmModal').addEventListener('hidden.bs.modal', event => {
                clipboard.destroy();
            });

            const copyAddressConfirmModal = new bootstrap.Modal('#copyAddressConfirmModal', {
                backdrop: true
            })
            copyAddressConfirmModal.show();
        }

        function saveCopyAddressConfirmationSetting(ignoreCopyConfirmation) {
            const copyAddressConfirmationSetting = {
                ignoreCopyConfirmation: ignoreCopyConfirmation,
                expiresOn: Date.now() + 1000 * 60 * 60 * 24 * 30
            };
            localStorage.setItem(strSiteName + "_copyAddressConfirmationSetting", JSON.stringify(copyAddressConfirmationSetting));
        }

        function getCopyAddressConfirmationSetting() {
            try {
                const settings = localStorage.getItem(strSiteName + "_copyAddressConfirmationSetting");
                if (settings) {
                    const copyAddressConfirmationSetting = JSON.parse(settings);

                    return copyAddressConfirmationSetting.ignoreCopyConfirmation && copyAddressConfirmationSetting.expiresOn > Date.now();
                }
                else {
                    return false;
                }
            } catch (e) {
                return false;
            }
        }
    </script>

    

<script src="/assets/js/custom/web3.min.js?v=0.5.2.3"></script>
<script src="/assets/js/custom/web3-utils.min.js"></script>

<script src="/assets/js/custom/web3-providers-http.min.js"></script>    

<script src="/assets/vendor/web3modal-1.9.8.min.js?v=25.7.4.1"></script>
<script src="/assets/vendor/walletlink_bundle.js?v=25.7.4.1"></script>
<script src="/assets/js/custom/coinbase-wallet-sdk.js?v=25.7.4.1"></script>
<script src="/assets/js/custom/wallet-handling-connect.js?v=25.7.4.1"></script>

<script type="text/javascript">
    var eth;
    var objProvider
    var isTestnet = 'false';
    var SiteNetID = '59144';
    var SiteNetChainID = '0xE708';
    var SiteNetName = 'Linea';
    var allowErc1155 = 'True';

        ListenProviderList();
        async function addNetwork(type) {

            if (type === 'web3') {
                if (typeof ethereum !== 'undefined') {
                    objProvider = await initweb3walletProvider("MetaMask");
                    eth = new Web3(objProvider.provider);
                } else if (typeof web3 !== 'undefined') {
                    eth = new Web3(web3.givenProvider);
                } else {
                    eth = new Web3(ethereum);
                }
            }

            if (typeof eth !== 'undefined') {
                var network = 0;
                network = await eth.eth.getChainId(); //await eth.eth.net.getId();
                netID = network.toString();
                var params;
                if (netID == SiteNetID) {
                      alert("Linea Mainnet Network has already been added to Metamask.");
    return;
} else {
    params = [{
        chainId: SiteNetChainID,
        chainName: 'Linea',
        nativeCurrency: {
            name: 'ETH',
            symbol: 'ETH',
            decimals: 18
        },
        rpcUrls: ['https://rpc.linea.build'],
        blockExplorerUrls: ['https://lineascan.build']
}]
                }

                GeneralRequestWithProvider('wallet_addEthereumChain', params, eth.currentProvider)
                    .then(() => console.log('Success'))
                    .catch((error) => console.log("Error", error.message));
            } else {
                alert('Unable to locate a compatible web3 browser!');
            }
        }
</script>

    
    <script>
        var MaxLines = '25';
        var blnCheckDisqusCount = 'false';
        var strURL = '//lineascan.build/';
        var litreadContractAddress = '0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd';
        var litLanguage = 'en';
        var litMinimalProxyImplementation = '0x5a8f7440455ee05b77edabe0dc363b71bc5d2c41';
        var litContractABIAddressCode = '0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd';
        var litProxyContractABIAddress = '';
        var litCustomContractABIAddress = '';
        var strNetwork = 'linea';
        var litCurrencyCode = 'USD';
        var LitAdvancedModeAvailable = 'true';
        var sid = '90c824c8fe5f05fd0e040bcbaf169788';
        var litGotSafeLabel = '0';
    </script>

    <script src="/assets/js/custom/web3-utils.min.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/assets/js/custom/addresspage4.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/jss/blockies.js"></script>
    <script type="text/javascript" src="/assets/js/custom/commonjs.js?v=25.7.4.1"></script>
    <script src="/assets/vendor/list.js/dist/list.min.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/assets/vendor/datatables/jquery.dataTables.min.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/assets/vendor/datatables/dataTables.bootstrap5.min.js?v=25.7.4.1"></script>
    <script type="text/javascript" src="/assets/js/custom/text-highlighter.js?v=25.7.4.1"></script>
  
    <script type="text/javascript">
        var isLoadedSafeOwner = false;
        const ownersDropdownToggle = document.getElementById('ownersDropdown');
        if (ownersDropdownToggle) {
            const ownersDropdownTooltipTriggerEl = ownersDropdownToggle.parentElement;
            const ownersDropdownMainTooltip = bootstrap.Tooltip.getInstance(ownersDropdownTooltipTriggerEl) || new bootstrap.Tooltip(ownersDropdownTooltipTriggerEl);
            // When the dropdown is shown, hide and disable the main tooltip
            ownersDropdownToggle.addEventListener('show.bs.dropdown', function () {
                ownersDropdownMainTooltip.hide();
                ownersDropdownMainTooltip.disable();
            });
            // When the dropdown is hidden, enable back the main tooltip
            ownersDropdownToggle.addEventListener('hide.bs.dropdown', function () {
                ownersDropdownMainTooltip.enable();
            });
        }
        function myFnGetSafeOwner() {
            if (litGotSafeLabel == "1" && isLoadedSafeOwner == false) {
                $("#owner_container").html('<li><i class="fa fa-spin fa-spinner"></i></li>');
                isLoadedSafeOwner = true;
                $.ajax({
                    url: "/address.aspx/DoOwnersAddress",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({
                        sid: sid,
                        strAddress: $("#hdnAddress").val()
                    }),
                    success: function (response) {
                        if (response && (response.d || !response.d.startsWith("Error"))) {
                            $("#owner_container").html(response.d);
                        } else if (response && response.d.startsWith("Error")) {
                            $("#owner_container").html("<li>Unexpected error</li>");
                        } else {
                            $("#owner_container").html("");
                        }

                        var ownersDropdownChildTooltipTriggerList = [].slice.call(document.querySelectorAll('#owner_container [data-bs-toggle="tooltip"]'));
                        var ownersDropdownChildTooltipList = ownersDropdownChildTooltipTriggerList.map(function (ownersDropdownChildTooltipTriggerEl) {
                            return new bootstrap.Tooltip(ownersDropdownChildTooltipTriggerEl);
                        });
                    },
                    error: function (xhr, status, error) {
                        $("#owner_container").html("<li>Unexpected error</li>");
                    }
                });
            }
        }

        // INITIALIZATION OF HIGHLIGHT
        TextHighlight.init('lineascan');

        window.deposit_transfer_loaded = false;
        window.token_transfer_loaded = false;
        window.token_nft_transfer_loaded = false;
        window.authlist7702_loaded = false;
        window.analytics_loaded = false;
        window.loans_loaded = false;
        window.events_tracker = false;
        window.writeContractLoaded = false;
        window.readContractLoaded = false;
        window.writeProxyContractLoaded = false;
        window.readProxyContractLoaded = false;
        window.multipleProxyContractLoaded = false;
        window.multipleWriteProxyContractLoaded = false;
        window.writeCustomContractLoaded = false;
        window.readCustomContractLoaded = false;
        window.rewardsLoaded = false;
        window.moreInfoLoaded = false;
        window.mode = 'light';

        function openModal(type) {
            var mtmStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('web3')";
            $("#btnMetamask").attr("onClick", mtmStr)

            //var walletConnectStr = "connectWalletConnect('" + type + "')";
            //$("#btnWalletConnect").attr("onClick", walletConnectStr)

            //var walletConnectStr_v2 = "connectWalletConnect_v2('" + type + "')";
            //$("#btnWalletConnect_v2").attr("onClick", walletConnectStr_v2);

            let walletConnectStr_reown = "walletConnect_reown('" + type + "')";
            $("#btnWalletConnect_reown").attr("onClick", walletConnectStr_reown);

            var coinbaseStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('walletLink')";
            $("#btnCoinbaseWallet").attr("onClick", coinbaseStr);
            
            

            $('#WalletModal').modal('show');
        }

        function closeModal() {
            $('#WalletModal').modal('hide');
        }

        function openProxyModal(type) {
            var mtmStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('web3')";
            $("#btnMetamaskProxy").attr("onClick", mtmStr)

            //var walletConnectStr = "connectWalletConnect('" + type + "')";
            //$("#btnWalletConnectProxy").attr("onClick", walletConnectStr);

            //var walletConnectStr_v2 = "connectWalletConnect_v2('" + type + "')";
            //$("#btnWalletConnectProxy_v2").attr("onClick", walletConnectStr_v2);

            let walletConnectStr_reown = "walletConnect_reown('" + type + "')";
            $("#btnWalletConnect_reownProxy").attr("onClick", walletConnectStr_reown);

            var coinbaseStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('walletLink')";
            $("#btnCoinbaseWalletProxy").attr("onClick", coinbaseStr);
            
             

            $('#WalletModalProxyIframe').modal('show');
        }

        function openCustomeContractModal(type) {
            let mtmStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('web3')";
            $("#btnMetamaskCustomeContract").attr("onClick", mtmStr)

            //let walletConnectStr = "connectWalletConnect('" + type + "')";
            //$("#btnWalletConnectCustomeContract").attr("onClick", walletConnectStr);

            //let walletConnectStr_v2 = "connectWalletConnect_v2('" + type + "')";
            //$("#btnWalletConnectCustomeContract_v2").attr("onClick", walletConnectStr_v2);

            var walletConnectStr_reown = "walletConnect_reown('" + type + "')";
            $("#btnWalletConnect_reownCustomeContract").attr("onClick", walletConnectStr_reown);

            let coinbaseStr = "document.getElementById('" + type + "').contentWindow.connectWeb3('walletLink')";
            $("#btnCoinbaseWalletCustomeContract").attr("onClick", coinbaseStr);

             

            $('#WalletModalCustomeContractIframe').modal('show');
        }

        function closeProxyModal() {
            $('#WalletModalProxyIframe').modal('hide');
        }

        function closeCustomeContractModal() {
            $('#WalletModalCustomeContractIframe').modal('hide');
        }

        function resetPath() {
            window.location.href = "#auditReportId";
            var baseUrl = window.location.href.split('#')[0];
            history.replaceState("", document.title, baseUrl + '#' + 'code');
        }

        //function connectWalletConnect(id) {
        //    var elem = document.getElementById(id);
        //    elem.contentWindow.connectWeb3('walletConnect');

        //    elem.style.height = '700px';
        //}

        //function connectWalletConnect_v2(id) {
        //    var elem = document.getElementById(id);
        //    elem.contentWindow.connectWeb3('walletConnect_v2');
        //    elem.style.height = '750px';
        //}

        function walletConnect_reown(id) {
            var elem = document.getElementById(id);
            elem.contentWindow.connectWeb3('walletConnect_reown');
            elem.style.height = '750px';
        }

        function removeHeight() {
            var element = document.getElementById('writecontractiframe');
            element.style.removeProperty("min-height");
        }

        var isSearch = false, nFlag = false, pFlag = false;
        var editorArr = [], splitCount = [];
        var nextEditor = "", prevEditor = "";
        var nextLoop = 0, nextCount = 0;
        var a, b, x, y;
        var prevLoop = 0, prevCount = 0;
        function searchContractOnThisPage() {
            clearControls();
            var searchCount = "";
            var className = document.getElementsByClassName('editor');
            var classNameCount = className.length;
            for (var j = 0; j < classNameCount; j++) {
                var editorSearch = ace.edit(className[j].id);
                if (searchCount === "") {
                    if ($("#txtSearchContract").val().trim() == "") {
                        searchCount = editorSearch.find($("#txtSearchContract").val().trim());
                    } else {
                        searchCount = editorSearch.findAll($("#txtSearchContract").val().trim());
                    }
                    if (!editorArr.includes(className[j].id) && searchCount != 0 && searchCount != undefined) {
                        editorArr.push(className[j].id);
                    }
                    if (searchCount == 0) { searchCount = ""; }
                } else {
                    var count;
                    if ($("#txtSearchContract").val().trim() == "") {
                        count = editorSearch.find($("#txtSearchContract").val().trim());
                    } else {
                        count = editorSearch.findAll($("#txtSearchContract").val().trim());
                    }
                    if (count > 0) {
                        searchCount = searchCount + "," + count;
                    }
                    if (!editorArr.includes(className[j].id) && count != 0 && count != undefined) {
                        editorArr.push(className[j].id);
                    }
                }
            }

            isSearch = true;
            $("#hdnSearchCount").val(searchCount);
            splitCount = $("#hdnSearchCount").val().split(",");

            if ($("#txtSearchContract").val().trim() === "") {
                clearControls();
            }
        }

        function clearControls() {
            nextEditor = "";
            nextLoop = 0;
            nextCount = 0;
            editorArr = [];
            splitCount = [];
            nFlag = false;
            prevEditor = "";
            prevLoop = 0;
            prevCount = 0;
            pFlag = false;
            isSearch = false;
            var className = document.getElementsByClassName('editor');
            var classNameCount = className.length;
            for (var j = 0; j < classNameCount; j++) {
                var editorSearch = ace.edit(className[j].id);
                editorSearch.find("");
            }
        }

        function searchContractNext() {
            if (editorArr.length == 0) {
                alert("No matching result.");
            } else {
                if (!isSearch) { searchContractOnThisPage(); }
                if (nextEditor == "") {
                    x = 0;
                    nextEditor = editorArr[x];
                }
                if (nextLoop == 0) {
                    y = 0;
                    nextLoop = parseInt(splitCount[y]);
                } else if (nextLoop == nextCount) {
                    x += 1;
                    y += 1;
                    nextCount = 0;
                    if (editorArr[x] == undefined) { x = 0; }
                    if (splitCount[y] == undefined) { y = 0; }
                    nextEditor = editorArr[x];
                    nextLoop = splitCount[y];
                    nFlag = false;
                }
                if ($("#txtSearchContract").val() != "") {
                    var editorNext;
                    editorNext = ace.edit(nextEditor);
                    editorNext.findNext();
                    nextCount += 1;
                    if (!nFlag) {
                        smoothScroll(document.getElementById(nextEditor));
                        nFlag = true;
                    }
                }
            }
        }

        function searchContractPrevious() {
            if (editorArr.length == 0) {
                alert("No matching result.");
            } else {
                if (!isSearch) { searchContractOnThisPage(); }
                if (prevEditor == "") {
                    a = editorArr.length - 1;
                    prevEditor = editorArr[a];
                }
                if (prevLoop == 0) {
                    b = splitCount.length - 1;
                    prevLoop = parseInt(splitCount[b]);
                } else if (prevLoop == prevCount) {
                    a -= 1;
                    b -= 1;
                    prevCount = 0;
                    if (editorArr[a] == undefined) { a = editorArr.length - 1; }
                    if (splitCount[b] == undefined) { b = splitCount.length - 1; }
                    prevEditor = editorArr[a];
                    prevLoop = splitCount[b];
                    pFlag = false;
                }
                if ($("#txtSearchContract").val().trim() != "") {
                    var editorPrev;
                    editorPrev = ace.edit(prevEditor);
                    editorPrev.findPrevious();
                    prevCount += 1;
                    if (!pFlag) {
                        smoothScroll(document.getElementById(prevEditor));
                        pFlag = true;
                    }
                }
            }
        }

        window.smoothScroll = function (target) {
            var scrollContainer = target;
            do { //find scroll container
                scrollContainer = scrollContainer.parentNode;
                if (!scrollContainer) return;
                scrollContainer.scrollTop += 1;
            } while (scrollContainer.scrollTop == 0);

            var targetY = 0;
            do { //find the top of target relatively to the container
                if (target == scrollContainer) break;
                targetY += target.offsetTop;
            } while (target = target.offsetParent);

            scroll = function (c, a, b, i) {
                i++; if (i > 30) return;
                c.scrollTop = a + (b - a) / 30 * i;
                setTimeout(function () { scroll(c, a, b, i); }, 20);
            }
            // start scrolling
            scroll(scrollContainer, scrollContainer.scrollTop, targetY - 50, 0);
        }

        function initialiseKeyupOnDocReady() {
            var input = document.getElementById("txtSearchContract");
            if (input) {
                input.addEventListener("keyup", function (event) {
                    var flag = false;
                    if (event.keyCode === 40 || event.keyCode === 13) { // On Enter Key Press or Down Arrow Press
                        searchContractNext();
                        flag = true;
                    } else if (event.keyCode === 38) { // On Up Arrow Press
                        searchContractPrevious();
                        flag = true;
                    }
                    if (!flag) {
                        searchContractOnThisPage();
                    }
                    if ($("#txtSearchContract").val().trim() === "") {
                        searchContractOnThisPage();
                    }
                });
            }

            var ctrlDown = false, ctrlKey = 17, cmdKey = 91, vKey = 86, cKey = 67;
            $(document).keydown(function (e) {
                if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = true;
            }).keyup(function (e) {
                if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = false;
            });

            // Document Ctrl + C/V 
            $(document).keydown(function (e) {
                //if (ctrlDown && (e.keyCode == cKey)) console.log("Document catch Ctrl+C");
                if (ctrlDown && (e.keyCode == vKey)) {
                    clearControls();
                }
            });
        }

        // ===== Domain Name warning messages
        const unicodeWarningMessage = 'The Domain Name tag for this address contains characters from more than one Unicode alphabet.';
        const zeroWidthWarningMessage = 'The Domain Name tag for this address contains hidden characters which may indicate a phishing attempt.';
        const ensNameProvider = '';
        const ensNameForkIconSrc = '';

        // ===== ENS name tag
        let otherENSNamesHtml = "";
        const ensDisplayName = '';
        const primaryDomainNameLabel = '';
        function initEnsNamePopOver() {
            //required to allow bootstrap popover to support table
            $.fn.popover.Constructor.Default.allowList.table = [];
            $.fn.popover.Constructor.Default.allowList.tr = [];
            $.fn.popover.Constructor.Default.allowList.td = [];
            $.fn.popover.Constructor.Default.allowList.th = [];
            $.fn.popover.Constructor.Default.allowList.div = [];
            $.fn.popover.Constructor.Default.allowList.tbody = [];
            $.fn.popover.Constructor.Default.allowList.thead = [];

            //whitelist my inline styling for bootstrap
            $.fn.popover.Constructor.Default.allowList['*'].push('style');

            let ensUnicodeWarningHtml = "";
            let domainNameFull = $("#hdnEnsText").val();
            

            if ($("#hdnIsEnsContainUnicodeChars").val() == "true") {
                ensUnicodeWarningHtml =
                    `<div class='d-flex align-items-baseline gap-1'>
                        <i class='far fa-exclamation-triangle'></i>
                        
                        <span>${unicodeWarningMessage} Check the actual text on <a target='_blank' href='https://names.linea.build/${domainNameFull}'>Linea Name Service</a>.</span>
                        
                    </div>`;
            }
            let ensZeroWidthWarningHtml = "";
            if ($("#hdnIsEnsContainZeroWidthChars").val() == "true") {
                ensZeroWidthWarningHtml =
                    `<div class='d-flex align-items-baseline gap-1'>
                        <i class='far fa-exclamation-triangle'></i>
                        
                        <span>${zeroWidthWarningMessage} Check the actual text on <a target='_blank' href='https://names.linea.build/${domainNameFull}'>Linea Name Service</a>.</span>
                        
                    </div>`;
            }

            const contentHtml =
                `<div id='popover-ens-preview'>
                    <h5 class='fs-base fw-bold mb-4'>Additional Info</h5>
                    <div>
                        <h6 class='fs-sm mb-1'>Full Name:</h6>
                        <div id='fullEnsName' class='badge border text-dark fw-normal fs-sm rounded-pill d-inline-flex align-items-center gap-1 py-1'>
                            ${ensNameForkIconSrc}
                            <div id='divENSDisplayName'></div><span id='spanCopyENSAddress'></span>
                        </div>
                    </div>
                    <hr>
                    <div class='popOverEnsOwnedAddressTable'></div>
                    <hr>
                    <h6 class='fs-sm mb-1'>Note:</h6>
                    <ul class='list-xs-space ps-4 mb-2'>
                        <li>Name tag is displayed due to forward and reverse resolution. <a href='https://info.lineascan.build/domain-names/' target='_blank' rel='nofollow'>Find out more</a>.</li>
                        <li>A Domain Name is not necessarily held by a person popularly associated with the name.</li>
                    </ul>
                    ${ensUnicodeWarningHtml}
                    ${ensZeroWidthWarningHtml}
                </div>`;

            $('#ensName').popover({
                html: true,
                content: contentHtml,
                trigger: 'manual',
                placement: 'right'
            });

            $('#ensName').click(function (event) {
                $("#udName").popover('hide')
                $("#ensName").popover('toggle');

                event.stopPropagation();
            });

            $('#ensName').on('shown.bs.popover', async () => {
                //disable tooltip when hovering over ens name in the main page
                $("[rel='tooltipEns']").each(function () {
                    $(this).tooltip('hide');
                    $(this).tooltip('disable');
                });

                //call ajax here to get result
                if (!otherENSNamesHtml) {

                    const resolvedAddressesModel = await getEnsResolvedAddress($("#hdnAddress").val(), primaryDomainNameLabel);

                    otherENSNamesHtml = generateEnsPopoverGrid(resolvedAddressesModel.d);
                    if (!otherENSNamesHtml) {
                        otherENSNamesHtml = "There are no other names resolving to this address."
                    }
                }
                $(".popOverEnsOwnedAddressTable").html(otherENSNamesHtml);

                $("#divENSDisplayName").html(ensDisplayName);
                // append more copy button for ENS
                let domainName = $("#hdnEnsText").val();
                const copyEnsButtonHtml = `<a class="js-clipboard link-secondary" href="javascript:;" data-clipboard-text="${domainName}" data-bs-toggle="tooltip" title="Copy Domain Name"
                                              data-hs-clipboard-options='{
                                                "type": "tooltip",
                                                "successText": "Copied!",
                                                "classChangeTarget": "#linkEns",
                                                "defaultClass": "fa-copy",
                                                "successClass": "fa-check"
                                              }'>
                                              <i id="linkEns" class="far fa-copy fa-fw"></i>
                                            </a>`;
                $("#spanCopyENSAddress").html(copyEnsButtonHtml);
                $("[data-bs-toggle='tooltip']").tooltip();
            });

            $('#ensName').on('hidden.bs.popover', () => {
                $("[rel='tooltipEns']").each(function () {
                    $(this).tooltip('enable');
                });
            });

            $('#ensName').on('hide.bs.popover', () => {
                $("[data-bs-toggle='tooltip']").tooltip('hide');
            });

            $(document).click(function (e) {
                const popoverElement = document.getElementById('popover-ens-preview');
                const popoverTrigger = document.getElementById('ensName');
                if (!popoverTrigger.contains(e.target) && (!popoverElement || !popoverElement.contains(e.target))) {
                    $("#ensName").popover('hide');
                }
            })
        }
        async function getEnsResolvedAddress(address, currentEnsText) {
            try {
                const requestModel = { "lookupAddress": address, "primaryDomainName": currentEnsText, "provider": ensNameProvider };
                const response = await $.ajax({
                    url: "/name-lookup-search.aspx/GetOtherDomainNameForAddress",
                    type: "POST",
                    contentType: "application/json",
                    dataType: "json",
                    data: JSON.stringify({ requestModel: requestModel })
                })

                return response;
            }
            catch {
                return "";
            }
        }
        function generateEnsPopoverGrid(model) {
            if (!model || model.DomainNames.length == 0) {
                return "";
            }

            let listOtherENSNames = "";
            model.DomainNames.forEach(x => listOtherENSNames += x.Name);

            let moreOtherENSNames = "";
            if (model.Total > 5) {
                moreOtherENSNames =
                    `<a class='d-block badge bg-light hover:bg-secondary border text-dark fw-normal text-truncate w-100 py-1.5'
                        target='_blank' href='/name-lookup-search?id=${$("#hdnAddress").val()}'>More
                        <i class='fa fa-arrow-right pos-top-n1 small ms-1'></i>
                    </a>`
            }

            const result =
                `<h6 class="fs-sm mb-1">Other names resolving to this address:</h6>
                <div class='grid-container'>
                    ${listOtherENSNames}
                    ${moreOtherENSNames}
                </div>`;

            return result;
        }
        function removeSpecificDomain(url, domain) {
            return url.replace(new RegExp(domain + '$'), '');
        }

        // ===== UD name tag
        const displayUDName = '';
        const primaryUDName = '';
        const showUDPublicNote = 'false';

        let otherUDNamesHtml = "";
        function initUDNamePopOver() {
            //required to allow bootstrap popover to support table
            $.fn.popover.Constructor.Default.allowList.table = [];
            $.fn.popover.Constructor.Default.allowList.tr = [];
            $.fn.popover.Constructor.Default.allowList.td = [];
            $.fn.popover.Constructor.Default.allowList.th = [];
            $.fn.popover.Constructor.Default.allowList.div = [];
            $.fn.popover.Constructor.Default.allowList.tbody = [];
            $.fn.popover.Constructor.Default.allowList.thead = [];

            //allowList my inline styling for bootstrap
            $.fn.popover.Constructor.Default.allowList['*'].push('style')

            let unicodeWarningHtml = "";
            if ($("#hdnIsUDContainUnicodeChars").val() == "true") {
                unicodeWarningHtml =
                    `<div class="d-flex align-items-baseline gap-1">
                        <i class="far fa-exclamation-triangle"></i>
                        <span>${unicodeWarningMessage} Check the actual text at <a target='_blank' href='https://unstoppabledomains.com/search?searchTerm=${primaryUDName}'>Unstoppable Domains</a>.</span>
                    </div>`;
            }
            let zeroWidthWarningHtml = "";
            if ($("#hdnIsUDContainZeroWidthChars").val() == "true") {
                zeroWidthWarningHtml =
                    `<div class="d-flex align-items-baseline gap-1">
                        <i class="far fa-exclamation-triangle"></i>
                        <span>${unicodeWarningMessage} Check the actual text at <a target='_blank' href='https://unstoppabledomains.com/search?searchTerm=${primaryUDName}'>Unstoppable Domains</a>.</span>
                    </div>`;
            }
            const contentHtml =
                `<div class="popover-ud-preview">
                    <h5 class="fs-base fw-bold mb-4">Additional Info</h5>
                    <div>
                        <h6 class="fs-sm mb-1">Full Name:</h6>
                        <div id='fullUDName' class='badge border text-dark fw-normal fs-sm rounded-pill d-inline-flex align-items-center gap-1 py-1.5'>
                            <img class="filter-grayscale" src="/images/svg/brands/ud.svg" alt="Unstoppable Domains Name" width="15">
                            <div id='divDisplayUDName'></div>
                        </div>
                    </div>
                    <hr>
                    <div class='popoverUDNamesOwnedByAddress'></div>
                    <hr>
                    <h6 class="fs-sm mb-1">Note:</h6>
                    <ul class="list-xs-space ps-4 mb-2">
                         <li>Name tag is displayed due to forward and reverse resolution.
                            <a href="https://info.lineascan.build/domain-names/" target="_blank" rel="nofollow">Find out more</a></li>
                        <li>A Domain Name is not necessarily held by a person popularly associated with the name.</li>
                        <li id='noteUD' style='display:none;'></li>
                    </ul>
                    ${unicodeWarningHtml}
                    ${zeroWidthWarningHtml}
                </div>`;

            $('#udName').popover({
                html: true,
                content: contentHtml,
                trigger: 'manual'
            });

            $('#udName').click(function (event) {
                $("#ensName").popover('hide');
                $("#udName").popover('toggle');

                event.stopPropagation();
            });

            $('#udName').on('shown.bs.popover', async () => {
                //disable tooltip when hovering over SID name in the main page
                $("[rel='tooltipUDName']").each(function () {
                    $(this).tooltip('hide');
                    $(this).tooltip('disable');
                });

                //call ajax here to get result
                if (!otherUDNamesHtml) {
                    const resolvedAddressesModel = await getUDNamesResolvedAddress($("#hdnAddress").val(), primaryUDName);

                    //format the ajax to otherUDNamesHtml
                    otherUDNamesHtml = generateUDPopoverGrid(resolvedAddressesModel.d);
                    if (!otherUDNamesHtml) {
                        otherUDNamesHtml = "There are no other names resolving to this address."
                    }
                }

                $(".popoverUDNamesOwnedByAddress").html(otherUDNamesHtml);

                $("#divDisplayUDName").html(displayUDName);
                if (showUDPublicNote == true) {
                    $("#noteUD").html('The Unstoppable Domains NFT is minted on the Ethereum blockchain. View and verify its details on <a target="_blank" href="https://etherscan.io/name-lookup-search?id=' + primaryUDName + '">Etherscan</a>.');
                    $("#noteUD").show();
                }
                $("[data-bs-toggle='tooltip']").tooltip();
            });

            $('#udName').on('hidden.bs.popover', () => {
                $("[rel='tooltipUDName']").each(function () {
                    $(this).tooltip('enable');
                });
            });

            $('#udName').on('hide.bs.popover', () => {
                $("[data-bs-toggle='tooltip']").tooltip('hide');
            });

            // Hide Unstoppable Domains Name popover when click outside the popover popup.
            $(document).click(function () {
                $("#udName").popover('hide')
            });
        }
        async function getUDNamesResolvedAddress(address, primaryUDName) {
            try {
                const requestModel = { "lookupAddress": address, "primaryDomainName": primaryUDName, "provider": "UD" };
                const response = await $.ajax({
                    url: "/name-lookup-search.aspx/GetOtherDomainNameForAddress",
                    type: "POST",
                    contentType: "application/json",
                    dataType: "json",
                    data: JSON.stringify({ requestModel: requestModel })
                })

                return response;
            } catch {
                return "";
            }
        }
        function generateUDPopoverGrid(model) {
            if (!model || model.DomainNames.length == 0) {
                return "";
            }

            let listOtherUDNames = "";
            model.DomainNames.forEach(x => listOtherUDNames += x.Name);

            let moreOtherUDNames = "";
            if (model.Total > 5) {
                moreOtherUDNames =
                    `<a target='_blank' href='/name-lookup-search?id=${$("#hdnAddress").val()}#udNamesResolveToAddressTab'
                        class='d-block badge bg-light hover:bg-secondary border text-dark fw-normal text-truncate w-100 py-1.5'>More
                        <i class='fa fa-arrow-right pos-top-n1 small ms-1'></i>
                    </a>`;
            }

            const result =
                `<h6 class="fs-sm mb-1">Other names resolving to this address:</h6>
                <div class='grid-container'>
                    ${listOtherUDNames}
                    ${moreOtherUDNames}
                </div>`;

            return result;
        }
        // ===== end UD name tag
        const tooltipForTokenHolding = '';
        var adjustPosition = 0;
        $(document).ready(function () {
            switchAmountToValue(document.getElementById("headerAmountValue"), 'Value (USD)', 'Amount', true);
            switchAmountToValue(document.getElementById("headerIntAmountValue"), 'Value (USD)', 'Amount', true);

            onDocumentReady();
            $("[rel='tooltip']").tooltip();
            $("[data-bs-toggle-second='tooltip']").tooltip({ trigger: 'hover' });
            $("[rel='tooltipEns']").each(function () {
                $(this).tooltip({ title: $(this).attr("tooltip-title") });
            });

            

            if (hash != '') {
                activaTab(hash);
            };

            onAddressDocReady();

            // Note: this is causing "Copied" tooltip not showing when copy button is clicked in V3, and seems like not applicable to v3, comment out first in case there is issue
            //$('[data-bs-toggle="tooltip"]').click(function () {
            //    $('[data-bs-toggle="tooltip"]').tooltip("hide");
            //});

            document.getElementById("copyaddressbutton").classList.remove("disabled");

            if ($("#txtSearchContract").length) {
                initialiseKeyupOnDocReady();
            }

            if (!!$('#ensName')[0]) {
                initEnsNamePopOver();
            }
            if (!!$("#udName")[0]) {
                initUDNamePopOver();
            }

            handleToggle();

            if (window.matchMedia("(max-width: 767px)").matches) {
                // Mobile
                adjustPosition = 90;
            } else {
                // Others
                adjustPosition = 50;
            }

            if (tooltipForTokenHolding) {
                const dropdownMenuBalance = document.getElementById("dropdownMenuBalance");
                if (dropdownMenuBalance) {
                    const dropdownWrapper = dropdownMenuBalance.closest(".dropdown");
                    if (dropdownWrapper) {
                        dropdownWrapper.setAttribute("title", tooltipForTokenHolding);
                        new bootstrap.Tooltip(dropdownWrapper);
                    }
                }
            }
        });

        function displayAudit() {
            $('html, body').animate({
                scrollTop: $("#auditReportId").offset().top - adjustPosition
            });
        }

        var cThemeMode = getCookie('displaymode');

        function handleToggle() {
            var className = document.getElementsByClassName('editor');
            var classNameCount = className.length;
            for (var j = 0; j < classNameCount; j++) {
                var editorSearch = ace.edit(className[j].id);
                if (cThemeMode === 'light' || themeMode === 'light') {
                    editorSearch.setTheme(ace_editor_theme);
                } else if (cThemeMode === 'dim' || themeMode === 'dim') {
                    editorSearch.setTheme(ace_editor_theme_dim);
                } else if (cThemeMode === 'dark' || themeMode === 'dark') {
                    editorSearch.setTheme(ace_editor_theme_dark);
                }

                if (editorSearch.session.getLength() < parseInt(MaxLines)) {
                    var x = className[j].id.replace("editor", "");
                    if (x.trim() !== "") {
                        $("#panel-sourcecode_" + x).hide();
                    }
                }
            }

            if ($('#panel-sourcecode').length) {
                var editorSetting = ace.edit("editor");
                if (editorSetting.session.getLength() < parseInt(MaxLines)) {
                    $("#panel-sourcecode").hide();
                }
            }
        }

        // Bootstrap Dropdown in Table Responsive
        $('.table-responsive').on('shown.bs.dropdown', function (e) {
            var t = $(this),
                m = $(e.target).find('.dropdown-menu'),
                tb = t.offset().top + t.height(),
                mb = m.offset().top + m.outerHeight(true),
                d = 20; // Space for shadow + scrollbar.
            if (t[0].scrollWidth > t.innerWidth()) {
                if (mb + d > tb) {
                    t.css('padding-bottom', ((mb + d) - tb));
                }
            }
            else {
                t.css('overflow', 'visible');
            }
        }).on('hidden.bs.dropdown', function () {
            $(this).css({ 'padding-bottom': '', 'overflow': '' });
        });

        var btn_ERC20_sort = {
            count: 0,
            reminder_count: 2,
            list: [],
            default_list: [],
            ERC20_sort_start: function (count) {
                if (document.getElementsByClassName('list-custom-divider-ERC20')[0]) {
                    var self = this
                    if (count != undefined) {
                        self.count = count
                    }

                    var before_el = document.getElementsByClassName('list-custom-divider-ERC20')[0]
                    var parent_el = before_el.parentNode
                    var element_selector = parent_el.querySelectorAll(".list-custom-ERC20");

                    if (self.list.length == 0) {
                        element_selector.forEach(function (e) {
                            self.list.push(e);
                            self.default_list.push(e);
                        });
                    }

                    $(".list-custom-ERC20").remove()
                    var type = self.count % self.reminder_count
                    self.sortList(type, parent_el, before_el);
                    self.count++
                }
            },
            sortList: function (type, parent_el, before_el) {
                var self = this
                var sorted_list = []
                var icon_el = $(before_el).find('button').find('i')

                switch (type) {
                    case 1:
                        icon_el.attr("class", "fad fa-sort-up")
                        sorted_list = self.sortUsdAsc()
                        break;
                    default:
                        icon_el.attr("class", "fad fa-sort-down")
                        sorted_list = self.sortUsdDesc()
                }

                for (var i = sorted_list.length - 1; i >= 0; i--) {
                    before_el.insertAdjacentElement('afterend', sorted_list[i])
                }
            },
            sortUsdAsc: function () {
                var self = this
                var sort_list = self.list

                sort_list.sort(function (a, b) {
                    var target_a_value = self.formatCurrencyToNumber(a.querySelector('.list-usd-value').textContent.trim() || -1);
                    var target_b_value = self.formatCurrencyToNumber(b.querySelector('.list-usd-value').textContent.trim() || -1);

                    if (target_a_value == -1 || target_b_value == -1) {
                        return 1;
                    }
                    if (target_a_value < target_b_value) {
                        return -1;
                    }
                    if (target_a_value > target_b_value) {
                        return 1;
                    }
                    return 0
                });
                return sort_list
            },
            sortUsdDesc: function () {
                var self = this
                var sort_list = self.list

                sort_list.sort(function (a, b) {
                    var target_a_value = self.formatCurrencyToNumber(a.querySelector('.list-usd-value').textContent.trim() || -1);
                    var target_b_value = self.formatCurrencyToNumber(b.querySelector('.list-usd-value').textContent.trim() || -1);

                    if (target_a_value < target_b_value) {
                        return 1;
                    }
                    if (target_a_value > target_b_value) {
                        return -1;
                    }
                    return 0
                });
                return sort_list
            },
            formatCurrencyToNumber: function (strCurrency) {
                if (typeof strCurrency == "number")
                    return strCurrency
                else
                    return Number(strCurrency.replace(/[^0-9.-]+/g, ""));
            },
        }



        function hrefTokenHolding() {
            var location = "/tokenholdings?a=0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd"
            var queryString = $("input.form-control.form-control-xs.search.mb-3")[0].value
            if (queryString) {
                location += "&q=" + queryString
            }
            window.location.href = location
        }

        $(document).ready(function () {

            $("#btn_ERC20_sort").on("click", function (event) {
                event.preventDefault();
                setTimeout(function () {
                    btn_ERC20_sort.ERC20_sort_start()
                }, 10)
            })

            btn_ERC20_sort.ERC20_sort_start()
            var mainAddress = $("#hdnAddress").val();

            // user search for method filters
            var searchFuncTimeOut;
            $("#ContentPlaceHolder1_inputMethodName").on("keyup", function ($event) {
                if (searchFuncTimeOut) {
                    clearTimeout(searchFuncTimeOut)
                }

                var searchTerm = $(this).val();
                searchFuncTimeOut = setTimeout(function () {
                    searchFunctions(searchTerm);
                }, 350);
            });

            var isSearchFunctions = false;
            $("#dropdownMethod").on("click", function (e) {
                if (isSearchFunctions === false) {
                    searchFunctions('');
                    isSearchFunctions = true;
                }
            });

            const litDefaultMethodFilterHtml = '';
            function searchFunctions(searchTerm) {
                if (searchTerm === '' || searchTerm.length > 3) {
                    const curPath = encodeURIComponent(window.location.search);
                    $.ajax({
                        type: 'Get',
                        url: `/functionSearchHandler.ashx?ca=${mainAddress}&func=${searchTerm ?? ''}&curPath=${curPath}`,
                        success: function (response) {
                            $("#searchFunctionResult").html('');
                            if (response && response.length > 0) {
                                for (var i = 0; i < response.length; i++) {
                                    var path = response[i].path
                                    $("#searchFunctionResult").append(
                                        `<li class="nav-item aFilterTransfer" data-name="${response[i].nameNormalized}" data-methodid="${response[i].methodId}">
                                            <a class="nav-link d-flex justify-content-between gap-2 px-2" href="${path}">
                                                <span class="hash-tag text-truncate" data-bs-toggle="tooltip" data-bs-title="${response[i].name}">${response[i].name}</span>
                                                <span class="badge bg-light border text-dark fw-normal p-1">${response[i].methodId}</span>
                                            </a>
                                        </li>`
                                    );
                                }
                                $("[data-bs-toggle='tooltip']").tooltip();
                            }
                            else {
                                $("#searchFunctionResult").append(
                                    `<li class="nav-item notfound">
                                        <span class="fw-normal text-muted">No matching name or ID found.</span>
                                    </li>`
                                );
                            }
                            $("#inputMethodSpinner").hide();
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            $("#searchFunctionResult").html('');
                            $("#inputMethodSpinner").hide();
                        }
                    });
                } else {
                    $("#inputMethodSpinner").hide();
                    $("#searchFunctionResult").html(litDefaultMethodFilterHtml);
                }
            }

            // Resize window for analytic tab
            let isBusy = false;
            $(window).resize(function () {
                isBusy = true;
                if (isBusy) {
                    let analyticFrame = document.getElementById('analytics_pageiframe');
                    if (analyticFrame && analyticFrame.contentWindow != undefined) {
                        let navtab = analyticFrame.contentWindow.document.getElementsByClassName("nav_tabs1");
                        let hIframe = "0px";
                        if (navtab != null && navtab != undefined && navtab.length > 0) {
                            let navH = Number(navtab[0].scrollHeight);
                            hIframe = (Number(analyticFrame.contentWindow.document.getElementsByClassName("tab-content")[0].scrollHeight) + navH + 20) + 'px';
                        }
                        else {
                            hIframe = analyticFrame.contentWindow.document.body.scrollHeight + 'px';
                        }
                        analyticFrame.style.height = hIframe
                    }
                }
            });


            // detect tooltip for token holding dropdown
            if ($(".addresses-tooltip-over").length > 0) {
                if (!isMobile()) {
                    $(".addresses-tooltip-over").attr("data-bs-trigger", "hover");
                    let tooltip = bootstrap.Tooltip.getInstance(".addresses-tooltip-over");
                    if (tooltip !== null) {
                        tooltip.dispose();
                        tooltip = new bootstrap.Tooltip($(".addresses-tooltip-over"));
                        tooltip._config.trigger = 'hover';
                        tooltip.update();
                    }
                }
            }

            // Quick export transaction  csv
            const quickExportCsvData = '';
            const quickExportCsvTitle = 'Transaction Hash,Status,Method,Blockno,"DateTime (UTC)",From,From_Nametag,To,To_Nametag,Amount,Value (USD),Txn Fee';
            let isExportFinish = true;
            if ($("#btnExportQuickTableToCSV").length > 0 && quickExportCsvData) {
                $("#btnExportQuickTableToCSV").click(function () {
                    if (isExportFinish == true) {
                        isExportFinish = false;
                        $("#btnExportQuickTableToCSV").append('<i class="fa fa-spinner fa-spin ms-1"></i>');
                        let lstTxsObj = JSON.parse(quickExportCsvData);
                        if (lstTxsObj.length > 0) {
                            let csvRows = [];
                            csvRows.push(quickExportCsvTitle.replace(/"/g, ""));
                            for (let i = 0; i < lstTxsObj.length; i++) {
                                let values = Object.values(lstTxsObj[i]).join('2SL'); // 2SL : separate line
                                values = values.replace(/2SL/g, '","')
                                csvRows.push('"' + values + '"');
                            }
                            let data = csvRows.join('\n');
                            let fileName = "export-" + $.trim($("#hdnAddress").val());
                            const blob = new Blob(["\ufeff", data], { type: 'text/csv' });
                            const url = window.URL.createObjectURL(blob)
                            const a = document.createElement('a')
                            a.setAttribute('href', url)
                            a.setAttribute('download', fileName + '.csv');
                            a.click();
                            setTimeout(function () {
                                $("#btnExportQuickTableToCSV").find(".fa-spinner").remove();
                                isExportFinish = true;
                            }, 200);
                        }
                    }
                });
            }

            // Quick export internal transaction csv
            const quickExportInternalTxsData = '[{"ParentTxnHash":"0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a","Status":"Success","Blockno":"21459333","DateTime":"2025-07-30 11:54:01","Sender":"0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd","SenderLable":"","Receiver":"0x5a8f7440455Ee05b77eDAbE0dc363b71bC5D2c41","ReceiverLable":"","Amount":"0 ETH","Value":"$0.00"},{"ParentTxnHash":"0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a","Status":"Success","Blockno":"21459333","DateTime":"2025-07-30 11:54:01","Sender":"0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1","SenderLable":"","Receiver":"0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd","ReceiverLable":"","Amount":"0 ETH","Value":"$0.00"},{"ParentTxnHash":"0xd0f509a61d40ea202c78595307b40a7d11b0af9f09ab40d9a7834e9d41f1cc8a","Status":"Success","Blockno":"21459333","DateTime":"2025-07-30 11:54:01","Sender":"0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1","SenderLable":"","Receiver":null,"ReceiverLable":null,"Amount":"0 ETH","Value":"$0.00"}]';
            const quickExportInternalTxsTitle = 'Parent Transaction Hash,Status,Blockno,"DateTime (UTC)",From,From_Nametag,To,To_Nametag,Amount,Value (USD)';
            if ($("#ContentPlaceHolder1_btnQuickExportInternalTxs").length > 0 && quickExportInternalTxsData) {
                $("#ContentPlaceHolder1_btnQuickExportInternalTxs").click(function () {
                    if (isExportFinish == true) {
                        isExportFinish = false;
                        $("#ContentPlaceHolder1_btnQuickExportInternalTxs").append('<i class="fa fa-spinner fa-spin ms-1"></i>');
                        let lstTxsObj = JSON.parse(quickExportInternalTxsData);
                        if (lstTxsObj.length > 0) {
                            let csvRows = [];
                            csvRows.push(quickExportInternalTxsTitle.replace(/"/g, ""));
                            for (let i = 0; i < lstTxsObj.length; i++) {
                                let values = Object.values(lstTxsObj[i]).join('2SL'); // 2SL : separate line
                                values = values.replace(/2SL/g, '","')
                                csvRows.push('"' + values + '"');
                            }
                            let data = csvRows.join('\n');
                            let fileName = "export-internal-tx-" + $.trim($("#hdnAddress").val());
                            const blob = new Blob(["\ufeff", data], { type: 'text/csv' });
                            const url = window.URL.createObjectURL(blob)
                            const a = document.createElement('a')
                            a.setAttribute('href', url)
                            a.setAttribute('download', fileName + '.csv');
                            a.click();
                            setTimeout(function () {
                                $("#ContentPlaceHolder1_btnQuickExportInternalTxs").find(".fa-spinner").remove();
                                isExportFinish = true;
                            }, 200);
                        }
                    }
                });
            }

        });

        function isMobile() {
            const regex = /Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;
            return regex.test(navigator.userAgent);
        }

        window.addEventListener("pageshow", function (e) {

            function editorGoToLine() {
                var hashesStr = window.location.hash;
                var hashes = hashesStr.split("#");

                var file = "";
                var line = "";

                hashes.forEach((x) => {
                    if (x.startsWith("F")) {
                        file = x.replace("F", "");
                    } else if (x.startsWith("L")) {
                        line = x.replace("L", "");
                    }
                })

                var editorId = "editor" + file
                var editorElem = $("#" + editorId);
                if (!editorElem.length) {
                    return;
                }

                if (!line) {
                    return;
                }

                var editor = ace.edit(editorId);
                editor.resize(true);
                editor.scrollToLine(line, true, true, function () { });
                editor.gotoLine(line);
                var Range = ace.require('ace/range').Range
                $(document).scrollTop($("#" + editorId).offset().top - 95);
                //document.getElementById(editorId).scrollIntoView();
                editor.session.addMarker(new Range(line - 1, 0, line - 1, 1), "myMarker", "fullLine");
                //window.onbeforeunload = function () { $(document).scrollTop($("#" + editorId).offset().top); };
            }

            setTimeout(function () {
                editorGoToLine();
            }, 500);

        });

        $("body,html").click(function (evt) {
            let elm = $(evt.target).attr("id");
            let isClickedMode = elm === "darkModaBtn" || elm === "darkModaBtnIcon";
            if (isClickedMode) {
                let isClickedSunMode = false;
                let clrBorder = "#112641";
                if (elm === "darkModaBtn") isClickedSunMode = $(evt.target).find("#darkModaBtnIcon").hasClass("fa-moon");
                if (elm === "darkModaBtnIcon") isClickedSunMode = $(evt.target).hasClass("fa-moon");
                if (isClickedSunMode) {
                    clrBorder = "#fff";
                }

                let iframes = document.getElementById('analytics_pageiframe');
                let heatcell = iframes.contentWindow.document.getElementsByClassName("ch-day").length;
                for (let i = 0; i < heatcell; i++) {
                    iframes.contentWindow.document.getElementsByClassName("ch-day")[i].style.borderColor = clrBorder;
                }
            }
        });
    </script>

    <script src="/assets/vendor/fast-average-color/index.browser.min.js?v=25.7.4.1"></script>

    <!-- JS Init. -->
    <script>
        let currentTheme = document.querySelector('html').dataset.bsTheme;
        const fac = new FastAverageColor();

        const showColorsForImage = function (image) {
            fac.getColorAsync(document.querySelector('.js-token-avatar'))
                .then(color => {
                    document.querySelector('.js-token-avatar').removeAttribute('style');
                    if ((currentTheme === 'dark' && !isLight(color.value, false)) || (currentTheme === 'dim' && !isLight(color.value, false))) {
                        document.querySelector('.js-token-avatar').setAttribute('style', "filter: invert(1) grayscale(100);");
                    }
                    /*document.querySelector('.main-content').style.backgroundImage = `linear-gradient(rgba(${color.value[0]}, ${color.value[1]}, ${color.value[2]}, ${isLight(color.value) ? '0.15' : '0.05'}) 0%, rgba(255, 255, 255, 0) 16rem)`;*/
                })
                .catch(e => {
                });
        }

        const isLight = function (color, isBackground = true) {
            const brightness = ((color[0] * 299) + (color[1] * 587) + (color[2] * 114)) / 1000;
            return brightness > (isBackground ? 190 : 70);
        }

        const image = document.querySelector('.js-token-avatar');

        showColorsForImage(image);

        const observer = new MutationObserver((mutationList, observer) => {
            for (const mutation of mutationList) {
                if (mutation.type === "attributes") {
                    currentTheme = document.querySelector('html').dataset.bsTheme;
                    showColorsForImage(image);
                }
            }
        });

        observer.observe(document.querySelector('html'), {
            attributeFilter: ['data-bs-theme']
        });

        function reInnitTooltip() {
            $("[data-bs-toggle='tooltip']").tooltip();
        }
    </script>

    <script type="text/javascript">
        (function () {
            document.querySelectorAll('.nav_tabs1 a').forEach((triggerEl) => {
                new bootstrap.Tab(triggerEl);
            });

            document.querySelectorAll('.nav-subtabs li a').forEach((triggerEl) => {
                // Exclude the element if it has the id "dropdownProxy"
                if (triggerEl.id !== 'dropdownProxy') {
                    new bootstrap.Tab(triggerEl);
                }
            });

            if (document.getElementById('dropdownMethod') !== null) {
                document.getElementById('dropdownMethod').addEventListener('click', () => {
                    if (
                        !(
                            ('ontouchstart' in window ||
                                navigator.maxTouchPoints > 0 ||
                                navigator.msMaxTouchPoints > 0) &&
                            window.innerWidth <= 991
                        )
                    ) {
                        document.getElementById('ContentPlaceHolder1_inputMethodName').focus();
                    }
                });
            }

            if (document.getElementById("dropdownMenuBalance") !== null) {
                document.getElementById("dropdownMenuBalance").addEventListener("click", () => {
                    if (!((('ontouchstart' in window)
                        || (navigator.maxTouchPoints > 0)
                        || (navigator.msMaxTouchPoints > 0))
                        && window.innerWidth <= 991)) {
                        document.getElementById("token-balance-search").focus();
                    }
                });
            }

            if (document.getElementById('dropdownBlock') !== null) {
                document.getElementById('dropdownBlock').addEventListener('click', () => {
                    if (
                        !(
                            ('ontouchstart' in window ||
                                navigator.maxTouchPoints > 0 ||
                                navigator.msMaxTouchPoints > 0) &&
                            window.innerWidth <= 991
                        )
                    ) {
                        document.getElementById('fromblock').focus();
                    }
                });
            }

            if (document.getElementById('dropdownFrom') !== null) {
                document.getElementById('dropdownFrom').addEventListener('click', () => {
                    if (
                        !(
                            ('ontouchstart' in window ||
                                navigator.maxTouchPoints > 0 ||
                                navigator.msMaxTouchPoints > 0) &&
                            window.innerWidth <= 991
                        )
                    ) {
                        document.getElementById('fromaddress').focus();
                    }
                });
            }

            if (document.getElementById('dropdownTo') !== null) {
                document.getElementById('dropdownTo').addEventListener('click', () => {
                    if (
                        !(
                            ('ontouchstart' in window ||
                                navigator.maxTouchPoints > 0 ||
                                navigator.msMaxTouchPoints > 0) &&
                            window.innerWidth <= 991
                        )
                    ) {
                        document.getElementById('toaddress').focus();
                    }
                });
            }

            // LIST.JS
            // =======================================================
            var options = {
                valueNames: ['list-name', 'list-amount', 'list-usd-value', 'list-usd-rate'],
            };

            if (document.querySelector('#availableBalance')) {
                var availableBalance = new List('availableBalance', options);
                availableBalance.on('searchComplete', function (e) {
                    if (e.matchingItems.length == 0) {
                        $('.list-not-found').show();
                    } else {
                        $('.list-not-found').hide();
                    }
                });
            }

            window.addEventListener('wheel', function (e) {
                if (document.querySelector('.bs-tooltip-auto')) {
                    let targetedElem = document.querySelector(
                        `[aria-describedby='${document
                            .querySelector('.bs-tooltip-auto')
                            .getAttribute('id')}']`
                    );
                    let tooltipTemp = bootstrap.Tooltip.getOrCreateInstance(targetedElem);
                    tooltipTemp.hide();
                }
            });

            document.getElementById('dropdownMore1').addEventListener('shown.bs.dropdown', event => {
                if (event.target.dataset.bsDisplay === 'static') {
                    let nextSibling = event.target.nextElementSibling;
                    nextSibling.classList.add('dropdown-menu-end');
                    nextSibling.removeAttribute('style');

                    let rect = nextSibling.getBoundingClientRect();

                    if (rect.left < 0) {
                        nextSibling.classList.remove('dropdown-menu-end');

                        if (window.screen.availWidth < (window.innerWidth || document.documentElement.clientWidth)) {
                            nextSibling.style.left = `-${(window.innerWidth || document.documentElement.clientWidth) - window.screen.availWidth + 5}px`;
                        }
                    }
                }
            })
        })();
    </script>
    
    <script type="text/javascript">
        $(document).ready(function () {
            initPopover();
            registerPreviewButtonEvent();

            initAdvPopover();
            registerDataPreviewButtonEvent();

            // Close tooltip when click outside of tooltip content
            $(document).on('click', function (e) {

                $('[data-bs-toggle="popover"]').each(function () {
                    if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
                        $(this).popover('hide');
                    }
                });
            });
        });

        function resizeIframeOnUpdate(iframe, bufferHeight) {
            if (iframe && iframe.contentWindow.document.body.scrollHeight) {
                iframe.style.height = iframe.contentWindow.document.body.scrollHeight + (bufferHeight || 0) + 'px';
                iframe.parentElement.style.visibility = 'visible';
            }
        }

        window.addEventListener('message', function (event) {
            if (event.data === 'tokenHolding') {
                var iframe = document.getElementById('tokenHoldingIframe');
                resizeIframeOnUpdate(iframe);
            }
            else if (event.data === 'nftHolding') {
                var iframe = document.getElementById('nftHoldingIframe');
                resizeIframeOnUpdate(iframe);
            }
        });
    </script>

    
    <script>
        var addressContract = '0x387964a358f4bf7058aa72C4C1C1E98e8bc3A2cd';
    </script>
    <script type="text/javascript" src="/assets/js/custom/multichain-portfolio.js?v=25.7.4.1"></script>
    

</body>
</html>
